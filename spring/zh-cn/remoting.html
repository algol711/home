<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>&#31532;&nbsp;16&nbsp;&#31456;&nbsp;&#36890;&#36807;Spring&#20351;&#29992;&#36828;&#31243;&#35775;&#38382;&#21644;web&#26381;&#21153;</title><link rel="stylesheet" href="../styles/html.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.65.1"><link rel="home" href="index.html" title="Spring - Java/J2EE Application Framework"><link rel="up" href="index.html" title="Spring - Java/J2EE Application Framework"><link rel="previous" href="ejb.html" title="&#31532;&nbsp;15&nbsp;&#31456;&nbsp;EJB&#30340;&#23384;&#21462;&#21644;&#23454;&#29616;"><link rel="next" href="mail.html" title="&#31532;&nbsp;17&nbsp;&#31456;&nbsp;&#20351;&#29992;Spring&#37038;&#20214;&#25277;&#35937;&#23618;&#21457;&#36865;Email"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">&#31532;&nbsp;16&nbsp;&#31456;&nbsp;&#36890;&#36807;Spring&#20351;&#29992;&#36828;&#31243;&#35775;&#38382;&#21644;web&#26381;&#21153;</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ejb.html">&#19978;&#19968;&#39029;</a>&nbsp;</td><th width="60%" align="center">&nbsp;</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="mail.html">&#19979;&#19968;&#39029;</a></td></tr></table><hr></div><div class="chapter" lang="zh_cn"><div class="titlepage"><div><div><h2 class="title"><a name="remoting"></a>&#31532;&nbsp;16&nbsp;&#31456;&nbsp;&#36890;&#36807;Spring&#20351;&#29992;&#36828;&#31243;&#35775;&#38382;&#21644;web&#26381;&#21153;</h2></div></div><div></div></div><div class="sect1" lang="zh_cn"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e8364"></a>16.1.&nbsp;&#31616;&#20171;</h2></div></div><div></div></div><p>			Spring&#25552;&#20379;&#31867;&#29992;&#20110;&#38598;&#25104;&#21508;&#31181;&#36828;&#31243;&#35775;&#38382;&#25216;&#26415;&#12290;&#36825;&#31181;&#23545;&#36828;&#31243;&#35775;&#38382;&#30340;&#25903;&#25345;&#21487;&#20197;&#38477;&#20302;&#20320;&#22312;&#29992;POJO&#23454;&#29616;&#25903;&#25345;&#36828;&#31243;&#35775;&#38382;&#19994;&#21153;&#26102;&#30340;&#24320;&#21457;&#38590;&#24230;&#12290;&#30446;&#21069;&#65292;Spring&#25552;&#20379;&#23545;&#19979;&#38754;&#22235;&#31181;&#36828;&#31243;&#35775;&#38382;&#25216;&#26415;&#30340;&#25903;&#25345;&#65306;
			</p><div class="itemizedlist"><ul type="disc" compact><li><p>
						<span class="emphasis"><em>&#36828;&#31243;&#26041;&#27861;&#35843;&#29992;&#65288;RMI&#65289;</em></span>&#12290;&#36890;&#36807;&#20351;&#29992;<tt class="literal">RmiProxyFactoryBean</tt>&#21644;<tt class="literal">RmiServiceExporter</tt>&#65292;Spring&#25903;&#25345;&#20256;&#32479;&#30340;RMI&#65288;&#20351;&#29992;java.rmi.Remote interfaces &#21644; java.rmi.RemoteException&#65289;&#21644;&#36890;&#36807;RMI&#35843;&#29992;&#22120;&#65288;&#21487;&#20197;&#20351;&#29992;&#20219;&#20309;Java&#25509;&#21475;&#65289;&#30340;&#36879;&#26126;&#36828;&#31243;&#35843;&#29992;&#12290;
					</p></li><li><p>
						<span class="emphasis"><em>Spring&#30340;HTTP&#35843;&#29992;&#22120;</em></span>&#12290;Spring&#25552;&#20379;&#19968;&#31181;&#29305;&#27530;&#30340;&#36828;&#31243;&#35843;&#29992;&#31574;&#30053;&#25903;&#25345;&#20219;&#20309;Java&#25509;&#21475;&#65288;&#35937;RMI&#35843;&#29992;&#22120;&#19968;&#26679;&#65289;&#65292;&#23427;&#20801;&#35768;Java&#24207;&#21015;&#21270;&#33021;&#22815;&#36890;&#36807;HTTP&#20256;&#36865;&#12290;&#23545;&#24212;&#30340;&#25903;&#25345;&#31867;&#26159;<tt class="literal">HttpInvokerProxyFactoryBean</tt>&#21644;<tt class="literal">HttpInvokerServiceExporter</tt>&#12290;
					</p></li><li><p>
						<span class="emphasis"><em>Hessian</em></span>&#12290;&#36890;&#36807;&#20351;&#29992;<tt class="literal">HessianProxyFactoryBean</tt>&#21644;<tt class="literal">HessianServiceExporter</tt>&#65292;&#20320;&#21487;&#20197;&#20351;&#29992;Caucho&#25552;&#20379;&#30340;&#36731;&#37327;&#32423;&#22522;&#20110;HTTP&#30340;&#20108;&#36827;&#21046;&#21327;&#35758;&#36879;&#26126;&#22320;&#25552;&#20379;&#20320;&#30340;&#19994;&#21153;&#12290;
					</p></li><li><p>
						<span class="emphasis"><em>Burlap</em></span>&#12290;Burlap&#26159;&#22522;&#20110;XML&#30340;&#65292;&#23427;&#21487;&#20197;&#23436;&#20840;&#20195;&#26367;Hessian&#12290;Spring&#25552;&#20379;&#30340;&#25903;&#25345;&#31867;&#26377;<tt class="literal">BurlapProxyFactoryBean</tt>&#21644;<tt class="literal">BurlapServiceExporter</tt>&#12290;
					</p></li><li><p>
						<span class="emphasis"><em>JAX RPC (TODO)</em></span>.
					</p></li></ul></div><p>
		</p><p>&#24403;&#35752;&#35770;Spring&#23545;&#36828;&#31243;&#35775;&#38382;&#30340;&#25903;&#25345;&#26102;&#65292;&#25105;&#20204;&#23558;&#20351;&#29992;&#19979;&#38754;&#30340;&#22495;&#27169;&#22411;&#21644;&#23545;&#24212;&#30340;&#19994;&#21153;&#65306;
			</p><pre class="programlisting">
// Account domain object
public class Account implements Serializable{
  private String name;

  public String getName();
  public void setName(String name) {
    this.name = name;
  }
}
			</pre><p>
			</p><pre class="programlisting">
// Account service
public interface AccountService {

  public void insertAccount(Account acc);
  
  public List getAccounts(String name);
}
			</pre><p>
			</p><pre class="programlisting">
// ... and corresponding implement doing nothing at the moment
public class AccountServiceImpl implements AccountService {

  public void insertAccount(Account acc) {
    // do something
  }
  
  public List getAccounts(String name) {
    // do something
  }
}
			</pre><p>
		</p><p>
			&#25105;&#20204;&#20808;&#28436;&#31034;&#20351;&#29992;RMI&#21521;&#36828;&#31243;&#23458;&#25143;&#25552;&#20379;&#19994;&#21153;&#65292;&#24182;&#19988;&#20250;&#35848;&#21040;&#20351;&#29992;RMI&#30340;&#32570;&#28857;&#12290;&#28982;&#21518;&#25105;&#20204;&#23558;&#32487;&#32493;&#28436;&#31034;&#19968;&#20010;Hessian&#30340;&#20363;&#23376;&#12290;
		</p></div><div class="sect1" lang="zh_cn"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e8438"></a>16.2.&nbsp;&#20351;&#29992;RMI&#25552;&#20379;&#19994;&#21153;</h2></div></div><div></div></div><p>&#20351;&#29992;Spring&#30340;RMI&#25903;&#25345;&#65292;&#20320;&#21487;&#20197;&#36879;&#26126;&#22320;&#36890;&#36807;RMI&#25552;&#20379;&#20320;&#30340;&#19994;&#21153;&#12290;&#22312;&#37197;&#32622;&#22909;Spring&#30340;RMI&#25903;&#25345;&#21518;&#65292;&#20320;&#20250;&#30475;&#21040;&#19968;&#20010;&#21644;&#36828;&#31243;EJB&#31867;&#20284;&#30340;&#37197;&#32622;&#65292;&#38500;&#20102;&#27809;&#26377;&#23545;&#23433;&#20840;&#19978;&#19979;&#25991;&#20256;&#36882;&#21644;&#36828;&#31243;&#20107;&#21153;&#20256;&#36882;&#30340;&#26631;&#20934;&#25903;&#25345;&#12290;&#24403;&#20351;&#29992;RMI&#35843;&#29992;&#22120;&#26102;&#65292;Spring&#23545;&#36825;&#20123;&#39069;&#22806;&#30340;&#35843;&#29992;&#19978;&#19979;&#25991;&#25552;&#20379;&#25429;&#33719;&#65292;&#25152;&#20197;&#20320;&#21487;&#20197;&#25554;&#20837;&#20320;&#30340;&#23433;&#20840;&#26694;&#26550;&#25110;&#23433;&#20840;&#20449;&#20219;&#36923;&#36753;&#12290;</p><div class="sect2" lang="zh_cn"><div class="titlepage"><div><div><h3 class="title"><a name="d0e8443"></a>16.2.1.&nbsp;&#20351;&#29992;<tt class="literal">RmiServiceExporter</tt>&#25552;&#20379;&#19994;&#21153;</h3></div></div><div></div></div><p>&#20351;&#29992;<tt class="literal">RmiServiceExporter</tt>&#65292;&#25105;&#20204;&#21487;&#20197;&#23558;AccountServer&#23545;&#35937;&#20316;&#20026;RMI&#23545;&#35937;&#36755;&#20986;&#25509;&#21475;&#12290;&#36825;&#20010;&#25509;&#21475;&#21487;&#20197;&#20351;&#29992;<tt class="literal">RmiProxyFactoryBean</tt>&#35775;&#38382;&#65292;&#25110;&#20351;&#29992;&#31616;&#21333;RMI&#25226;&#35813;&#25509;&#21475;&#24403;&#20316;&#20256;&#32479;RMI&#19994;&#21153;&#26469;&#35775;&#38382;&#12290;<tt class="literal">RmiServiceExporter</tt>&#25903;&#25345;&#36890;&#36807;RMI&#35843;&#29992;&#22120;&#25552;&#20379;&#20219;&#20309;&#38750;RMI&#19994;&#21153;&#12290;
			</p><p>&#24403;&#28982;&#65292;&#25105;&#20204;&#39318;&#20808;&#24471;&#22312;Spring&#30340;BeanFactory&#20013;&#35774;&#32622;&#25105;&#20204;&#30340;&#19994;&#21153;&#65306;
				</p><pre class="programlisting">
&lt;bean id="accountService" class="example.AccountServiceImpl"&gt;
    &lt;!-- any additional properties, maybe a DAO? --&gt;
&lt;/bean&gt;
				</pre><p>				
			</p><p>
				&#25509;&#19979;&#26469;&#65292;&#25105;&#20204;&#20351;&#29992;<tt class="literal">RmiServiceExporter</tt>&#25552;&#20379;&#25105;&#20204;&#30340;&#19994;&#21153;&#65306;
				</p><pre class="programlisting">
&lt;bean class="org.springframework.remoting.rmi.RmiServiceExporter"&gt;
	&lt;!-- does not necessarily have to be the same name as the bean to be exported --&gt;
	&lt;property name="serviceName"&gt;&lt;value&gt;AccountService&lt;/value&gt;&lt;/property&gt;
	&lt;property name="service"&gt;&lt;ref bean="accountService"/&gt;&lt;/property&gt;
	&lt;property name="serviceInterface"&gt;&lt;value&gt;example.AccountService&lt;/value&gt;&lt;/property&gt;
	&lt;!-- defaults to 1099 --&gt;
	&lt;property name="registryPort"&gt;&lt;value&gt;1199&lt;/value&gt;&lt;/property&gt;
&lt;/bean&gt;
				</pre><p>					
				&#27491;&#22914;&#20320;&#30475;&#21040;&#30340;&#65292;&#25105;&#20204;&#26356;&#25442;&#20102;RMI&#27880;&#20876;&#30340;&#31471;&#21475;&#12290;&#36890;&#24120;&#65292;&#20320;&#30340;&#24212;&#29992;&#26381;&#21153;&#22120;&#20250;&#32500;&#25252;RMI&#27880;&#20876;&#65292;&#25105;&#20204;&#26368;&#22909;&#19981;&#35201;&#24178;&#25200;&#23427;&#12290;&#19994;&#21153;&#21517;&#34987;&#29992;&#26469;&#32465;&#23450;&#19994;&#21153;&#12290;&#25152;&#20197;&#29616;&#22312;&#65292;&#19994;&#21153;&#23601;&#32465;&#23450;&#22312;<tt class="literal">rmi://HOST:1199/AccountService</tt>&#19978;&#12290;&#25105;&#20204;&#23558;&#22312;&#23458;&#25143;&#31471;&#20351;&#29992;URL&#26469;&#36830;&#25509;&#19994;&#21153;&#12290;</p><p>
				<span class="emphasis"><em>&#27880;&#24847;&#65306;&#25105;&#20204;&#28431;&#20102;&#19968;&#20010;&#23646;&#24615;&#65292;&#23601;&#26159;<tt class="literal">servicePort</tt>&#23646;&#24615;&#65292;&#23427;&#32570;&#30465;&#20540;&#20026;0&#12290;&#36825;&#20010;&#24847;&#21619;&#30528;&#35813;&#19994;&#21153;&#20351;&#29992;&#21311;&#21517;&#31471;&#21475;&#36890;&#35759;&#12290;&#24403;&#28982;&#20320;&#20063;&#21487;&#20197;&#25351;&#23450;&#19968;&#20010;&#31471;&#21475;&#12290;</em></span>
			</p></div><div class="sect2" lang="zh_cn"><div class="titlepage"><div><div><h3 class="title"><a name="d0e8484"></a>16.2.2.&nbsp;&#23458;&#25143;&#31471;&#36830;&#25509;&#19994;&#21153;</h3></div></div><div></div></div><p>
				&#25105;&#20204;&#30340;&#23458;&#25143;&#31471;&#26159;&#19968;&#20010;&#20351;&#29992;AccountService&#31649;&#29702;&#36134;&#25143;&#30340;&#31616;&#21333;&#23545;&#35937;&#65306;
				</p><pre class="programlisting">
public class SimpleObject {
  private AccountService accountService;
  public void setAccountService(AccountService accountService) {
    this.accountService = accountService;
  }
}
				</pre><p>				
			</p><p>
				&#20026;&#20102;&#22312;&#23458;&#25143;&#31471;&#36830;&#25509;&#19994;&#21153;&#65292;&#25105;&#20204;&#24314;&#31435;&#21478;&#19968;&#20010;bean&#24037;&#21378;&#65292;&#23427;&#21253;&#21547;&#36825;&#20010;&#31616;&#21333;&#23545;&#35937;&#21644;&#19994;&#21153;&#36830;&#25509;&#30340;&#37197;&#32622;&#20449;&#24687;&#65306;
				</p><pre class="programlisting">
&lt;bean class="example.SimpleObject"&gt;
	&lt;property name="accountService"&gt;&lt;ref bean="accountService"/&gt;&lt;/bean&gt;
&lt;/bean&gt;

&lt;bean id="accountService" class="org.springframework.remoting.rmi.RmiProxyFactoryBean"&gt;
	&lt;property name="serviceUrl"&gt;&lt;value&gt;rmi://HOST:1199/AccountService&lt;/value&gt;&lt;/property&gt;
	&lt;property name="serviceInterface"&gt;&lt;value&gt;example.AccountService&lt;/value&gt;&lt;/property&gt;
&lt;/bean&gt;
				</pre><p>
				&#36825;&#23601;&#26159;&#25105;&#20204;&#22312;&#23458;&#25143;&#31471;&#35775;&#38382;&#36828;&#31243;&#36134;&#25143;&#19994;&#21153;&#25152;&#38656;&#35201;&#20570;&#30340;&#12290;Spring&#36879;&#26126;&#22320;&#21019;&#24314;&#19968;&#20010;&#35843;&#29992;&#22120;&#65292;&#36890;&#36807;RmiServiceExporter&#36828;&#31243;&#25552;&#20379;&#36134;&#25143;&#19994;&#21153;&#12290;&#22312;&#23458;&#25143;&#31471;&#65292;&#25105;&#20204;&#20351;&#29992;RmiProxyFactoryBean&#26469;&#20351;&#29992;&#35813;&#19994;&#21153;&#12290;
			</p></div></div><div class="sect1" lang="zh_cn"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e8497"></a>16.3.&nbsp;&#20351;&#29992;Hessian&#25110;Burlap&#36890;&#36807;HTTP&#36828;&#31243;&#35843;&#29992;&#19994;&#21153;</h2></div></div><div></div></div><p>
			Hessian&#25552;&#20379;&#20102;&#19968;&#20010;&#22522;&#20110;HTTP&#30340;&#20108;&#36827;&#21046;&#36828;&#31243;&#21327;&#35758;&#12290;&#23427;&#30001;Caucho&#21019;&#24314;&#65292;&#26356;&#22810;&#26377;&#20851;Hessian&#30340;&#20449;&#24687;&#21487;&#20197;&#35775;&#38382;<a href="http://www.caucho.com" target="_top">http://www.caucho.com</a>&#12290;		
		</p><div class="sect2" lang="zh_cn"><div class="titlepage"><div><div><h3 class="title"><a name="d0e8504"></a>16.3.1.&nbsp;&#20026;Hessian&#24314;&#31435;DispatcherServlet</h3></div></div><div></div></div><p>			Hessian&#20351;&#29992;&#19968;&#20010;&#29305;&#23450;&#30340;servlet&#26469;&#36890;&#36807;HTTP&#36890;&#35759;&#12290;&#20351;&#29992;Spring&#30340;DispatcherServlet&#27010;&#24565;&#65292;&#20320;&#21487;&#20197;&#24456;&#23481;&#26131;&#22320;&#21019;&#24314;&#36825;&#26679;&#30340;servlet&#26469;&#25552;&#20379;&#20320;&#30340;&#19994;&#21153;&#12290;&#39318;&#20808;&#25105;&#20204;&#24517;&#39035;&#22312;&#20320;&#30340;&#24212;&#29992;&#20013;&#21019;&#24314;&#19968;&#20010;&#26032;&#30340;servlet&#65288;&#19979;&#38754;&#26469;&#33258;<tt class="literal">web.xml</tt>&#65289;&#65306;
				</p><pre class="programlisting">
&lt;servlet&gt;
	&lt;servlet-name&gt;remote&lt;/servlet-name&gt;
	&lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;
	&lt;load-on-startup&gt;1&lt;/load-on-startup&gt;
&lt;/servlet&gt;
				</pre><p>
			</p><p>&#20320;&#21487;&#33021;&#29087;&#24713;Spring&#30340;DispatcherServlet&#27010;&#24565;&#65292;&#22914;&#26524;&#26159;&#30340;&#35805;&#65292;&#20320;&#24471;&#22312;<tt class="literal">WEB-INF</tt>&#30446;&#24405;&#19979;&#24314;&#31435;&#19968;&#20010;&#24212;&#29992;&#19978;&#19979;&#25991;&#65292;<tt class="literal">remote-servlet.xml</tt> &#12290;&#36825;&#20010;&#24212;&#29992;&#19978;&#19979;&#25991;&#20250;&#22312;&#19979;&#19968;&#33410;&#20013;&#20351;&#29992;&#12290;
			</p></div><div class="sect2" lang="zh_cn"><div class="titlepage"><div><div><h3 class="title"><a name="d0e8523"></a>16.3.2.&nbsp;&#20351;&#29992;HessianServiceExporter&#25552;&#20379;&#20320;&#30340;bean</h3></div></div><div></div></div><p>&#22312;&#36825;&#20010;&#26032;&#30340;&#24212;&#29992;&#19978;&#19979;&#25991;<tt class="literal">remote-servlet.xml</tt>&#20013;&#65292;&#25105;&#20204;&#23558;&#21019;&#24314;&#19968;&#20010;HessianServiceExporter&#26469;&#36755;&#20986;&#20320;&#30340;&#19994;&#21153;&#65306;
				</p><pre class="programlisting">
&lt;bean id="accountService" class="example.AccountServiceImpl"&gt;
    &lt;!-- any additional properties, maybe a DAO? --&gt;
&lt;/bean&gt;

&lt;bean name="/AccountService" class="org.springframework.remoting.caucho.HessianServiceExporter"&gt;
    &lt;property name="service"&gt;&lt;ref bean="accountService"/&gt;&lt;/property&gt;
    &lt;property name="serviceInterface"&gt;
        &lt;value&gt;example.AccountService&lt;/value&gt;
    &lt;/property&gt;
&lt;/bean&gt;
				</pre><p>
				&#29616;&#22312;&#25105;&#20204;&#20934;&#22791;&#22312;&#23458;&#25143;&#31471;&#36830;&#25509;&#36825;&#20010;&#19994;&#21153;&#12290;&#25105;&#20204;&#20351;&#29992;BeanNameUrlHandlerMapping&#65292;&#23601;&#19981;&#38656;&#35201;&#25351;&#23450;&#22788;&#29702;&#22120;&#26144;&#23556;&#23558;&#35831;&#27714;&#65288;url&#65289;&#26144;&#23556;&#21040;&#19994;&#21153;&#19978;&#65292;&#22240;&#27492;&#19994;&#21153;&#25552;&#20379;&#22312;<tt class="literal">http://HOST:8080/AccountService</tt>&#19978;&#12290;
			</p></div><div class="sect2" lang="zh_cn"><div class="titlepage"><div><div><h3 class="title"><a name="d0e8537"></a>16.3.3.&nbsp;&#23458;&#25143;&#31471;&#36830;&#25509;&#19994;&#21153;</h3></div></div><div></div></div><p>
				&#25105;&#20204;&#22312;&#23458;&#25143;&#31471;&#20351;&#29992;<tt class="literal">HessianProxyFactoryBean</tt>&#26469;&#36830;&#25509;&#19994;&#21153;&#12290;&#21644;RMI&#20363;&#23376;&#20013;&#30340;&#21407;&#21017;&#19968;&#26679;&#12290;&#25105;&#20204;&#23558;&#21019;&#24314;&#19968;&#20010;&#21333;&#29420;&#30340;bean&#24037;&#21378;&#25110;&#24212;&#29992;&#19978;&#19979;&#25991;&#65292;&#22312;SimpleObject&#20351;&#29992;AccountService&#26469;&#31649;&#29702;&#36134;&#25143;&#30340;&#22320;&#26041;&#23558;&#20250;&#25552;&#21040;&#19979;&#21015;bean&#65306;
				</p><pre class="programlisting">
&lt;bean class="example.SimpleObject"&gt;
    &lt;property name="accountService"&gt;&lt;ref bean="accountService"/&gt;&lt;/property&gt;
&lt;/bean&gt;

&lt;bean id="accountService" class="org.springframework.remoting.caucho.HessianProxyFactoryBean"&gt;
	&lt;property name="serviceUrl"&gt;&lt;value&gt;http://remotehost:8080/AccountService&lt;/value&gt;&lt;/property&gt;
	&lt;property name="ServiceInterface"&gt;&lt;value&gt;example.AccountService&lt;/value&gt;&lt;/property&gt;
&lt;/bean&gt;
				</pre><p>
				&#23601;&#26159;&#36825;&#26679;&#31616;&#21333;&#12290;
			</p></div><div class="sect2" lang="zh_cn"><div class="titlepage"><div><div><h3 class="title"><a name="d0e8548"></a>16.3.4.&nbsp;&#20351;&#29992;Burlap</h3></div></div><div></div></div><p>			&#25105;&#20204;&#19981;&#22312;&#36825;&#37324;&#35752;&#35770;Burlap&#65292;&#23427;&#21482;&#19981;&#36807;&#26159;Hessian&#30340;&#22522;&#20110;XML&#23454;&#29616;&#12290;&#22240;&#20026;&#23427;&#21644;&#19978;&#38754;&#30340;Hessian&#30340;&#20363;&#23376;&#20197;&#30456;&#21516;&#30340;&#26041;&#24335;&#37197;&#32622;&#12290;&#21482;&#35201;&#20320;&#25226;<tt class="literal">Hessian</tt>&#26367;&#25442;&#25104;<tt class="literal">Burlap</tt>&#23601;&#21487;&#20197;&#20102;&#12290;
			</p></div><div class="sect2" lang="zh_cn"><div class="titlepage"><div><div><h3 class="title"><a name="d0e8559"></a>16.3.5.&nbsp;&#22312;&#36890;&#36807;Hessian&#25110;Burlap&#36755;&#20986;&#30340;&#19994;&#21153;&#20013;&#24212;&#29992;HTTP&#22522;&#26412;&#35748;&#35777;</h3></div></div><div></div></div><p>			Hessian&#21644;Burlap&#30340;&#20248;&#28857;&#20043;&#19968;&#23601;&#26159;&#25105;&#20204;&#33021;&#24456;&#23481;&#26131;&#22320;&#24212;&#29992;HTTP&#35748;&#35777;&#65292;&#22240;&#20026;&#20004;&#32773;&#37117;&#26159;&#22522;&#20110;HTTP&#30340;&#21327;&#35758;&#12290;&#20363;&#22914;&#65292;&#26222;&#36890;&#30340;HTTP&#26381;&#21153;&#22120;&#23433;&#20840;&#26426;&#21046;&#21487;&#20197;&#24456;&#23481;&#26131;&#22320;&#36890;&#36807;&#20351;&#29992;<tt class="literal">web.xml</tt>&#23433;&#20840;&#21151;&#33021;&#26469;&#24212;&#29992;&#12290;&#36890;&#24120;&#65292;&#20320;&#19981;&#20250;&#20026;&#27599;&#20010;&#29992;&#25143;&#37117;&#24314;&#31435;&#19981;&#21516;&#30340;&#23433;&#20840;&#20449;&#20219;&#65292;&#32780;&#26159;&#22312;Hessian/Burlap&#30340;ProxyFactoryBean&#20013;&#23450;&#20041;&#21487;&#20849;&#20139;&#30340;&#20449;&#20219;&#65288;&#21644;JDBC DataSource&#30456;&#31867;&#20284;&#65289;&#12290;
			</p><p>
				</p><pre class="programlisting">
&lt;bean class="org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping"&gt;
	&lt;property name="interceptors"&gt;
		&lt;list&gt;
			&lt;ref bean="authorizationInterceptor"/&gt;
		&lt;/list&gt;
	&lt;/property&gt;
&lt;/bean&gt;

&lt;bean id="authorizationInterceptor" 
	class="org.springframework.web.servlet.handler.UserRoleAuthorizationInterceptor"&gt;
	&lt;property name="authorizedRoles"&gt;
		&lt;list&gt;
			&lt;value&gt;administrator&lt;/value&gt;
			&lt;value&gt;operator&lt;/value&gt;
		&lt;/list&gt;
	&lt;/property&gt;	
&lt;/bean&gt;
				</pre><p>
			</p><p>			&#36825;&#20010;&#20363;&#23376;&#20013;&#65292;&#25105;&#20204;&#29992;&#21040;&#20102;BeanNameUrlHandlerMapping&#65292;&#24182;&#35774;&#32622;&#20102;&#19968;&#20010;&#25318;&#25130;&#22120;&#65292;&#23427;&#21482;&#20801;&#35768;&#31649;&#29702;&#21592;&#21644;&#25805;&#20316;&#21592;&#35843;&#29992;&#36825;&#20010;&#24212;&#29992;&#19978;&#19979;&#25991;&#20013;&#30340;bean&#12290;
			</p><p>
				<span class="emphasis"><em>
					&#27880;&#24847;&#65306;&#24403;&#28982;&#65292;&#36825;&#20010;&#20363;&#23376;&#24182;&#27809;&#26377;&#28436;&#31034;&#28789;&#27963;&#30340;&#23433;&#20840;&#35774;&#26045;&#12290;&#22914;&#26524;&#32771;&#34385;&#26356;&#28789;&#27963;&#30340;&#23433;&#20840;&#35774;&#32622;&#65292;&#21487;&#20197;&#21435;&#30475;&#30475;Acegi Security System&#65292;<a href="http://acegisecurity.sourceforge.net" target="_top">http://acegisecurity.sourceforge.net</a>&#12290;
				</em></span>
			</p></div></div><div class="sect1" lang="zh_cn"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e8581"></a>16.4.&nbsp;&#20351;&#29992;HTTP&#35843;&#29992;&#22120;&#36755;&#20986;&#19994;&#21153;</h2></div></div><div></div></div><p>
			&#21644;Burlap&#21644;Hessian&#20351;&#29992;&#33258;&#36523;&#24207;&#21015;&#21270;&#26426;&#21046;&#30340;&#36731;&#37327;&#32423;&#21327;&#35758;&#30456;&#21453;&#65292;Spring HTTP&#35843;&#29992;&#22120;&#20351;&#29992;&#26631;&#20934;Java&#24207;&#21015;&#21270;&#26426;&#21046;&#26469;&#36890;&#36807;HTTP&#36755;&#20986;&#19994;&#21153;&#12290;&#22914;&#26524;&#20320;&#30340;&#21442;&#25968;&#25110;&#36820;&#22238;&#20540;&#26159;&#22797;&#26434;&#31867;&#22411;&#65292;&#24182;&#19988;&#19981;&#33021;&#36890;&#36807;Hessian&#21644;Burlap&#30340;&#24207;&#21015;&#21270;&#26426;&#21046;&#24207;&#21015;&#21270;&#65292;HTTP&#35843;&#29992;&#22120;&#23601;&#24456;&#26377;&#20248;&#21183;&#65288;&#21442;&#38405;&#19979;&#19968;&#33410;&#65292;&#36873;&#25321;&#36828;&#31243;&#25216;&#26415;&#26102;&#30340;&#32771;&#34385;&#65289;&#12290;
		</p><p>		&#23454;&#38469;&#19978;&#65292;Spring&#21487;&#20197;&#20351;&#29992;J2SE&#25552;&#20379;&#30340;&#26631;&#20934;&#21151;&#33021;&#25110;Commons&#30340;HttpClient&#26469;&#23454;&#29616;HTTP&#35843;&#29992;&#12290;&#22914;&#26524;&#20320;&#38656;&#35201;&#26356;&#20808;&#36827;&#65292;&#26356;&#22909;&#29992;&#30340;&#21151;&#33021;&#65292;&#23601;&#20351;&#29992;&#21518;&#32773;&#12290;&#20320;&#21487;&#20197;&#21442;&#32771;<a href="http://jakarta.apache.org/commons/httpclient" target="_top">jakarta.apache.org/commons/httpclient</a>&#12290;
		</p><div class="sect2" lang="zh_cn"><div class="titlepage"><div><div><h3 class="title"><a name="d0e8591"></a>16.4.1.&nbsp;&#36755;&#20986;&#19994;&#21153;&#23545;&#35937;</h3></div></div><div></div></div><p>&#20026;&#19994;&#21153;&#23545;&#35937;&#35774;&#32622;HTTP&#35843;&#29992;&#22120;&#21644;&#20320;&#22312;Hessian&#25110;Burlap&#20013;&#20351;&#29992;&#30340;&#26041;&#24335;&#31867;&#20284;&#12290;&#23601;&#35937;Hessian&#25552;&#20379;<tt class="literal">HessianServiceExporter</tt>&#65292;Spring&#30340;HTTP&#35843;&#29992;&#22120;&#25552;&#20379;&#20102;<tt class="literal">org.springframework.remoting.httpinvoker.HttpInvokerServiceExporter</tt>&#12290;&#20026;&#20102;&#36755;&#20986;<tt class="literal">AccountService</tt>&#65292;&#20351;&#29992;&#19979;&#38754;&#30340;&#37197;&#32622;&#65306;
</p><pre class="programlisting">
    &lt;bean name="/AccountService" class="org.sprfr.remoting.httpinvoker.HttpInvokerServiceExporter"&gt;
        &lt;property name="service"&gt;&lt;ref bean="accountService"/&gt;&lt;/property&gt;
        &lt;property name="serviceInterface"&gt;
            &lt;value&gt;example.AccountService&lt;/value&gt;
        &lt;/property&gt;
	&lt;/bean&gt;
</pre><p>
			</p></div><div class="sect2" lang="zh_cn"><div class="titlepage"><div><div><h3 class="title"><a name="d0e8608"></a>16.4.2.&nbsp;&#22312;&#23458;&#25143;&#31471;&#36830;&#25509;&#19994;&#21153;</h3></div></div><div></div></div><p>			&#21516;&#26679;&#65292;&#20174;&#23458;&#25143;&#31471;&#36830;&#25509;&#19994;&#21153;&#19982;&#20320;&#20351;&#29992;Hessian&#25110;Burlap&#26102;&#20570;&#30340;&#31867;&#20284;&#12290;&#20351;&#29992;&#20195;&#29702;&#65292;Spring&#21487;&#20197;&#23558;&#20320;&#30340;&#35843;&#29992;&#32763;&#35793;&#25104;HTTP &#30340;POST&#35831;&#27714;&#21040;&#25351;&#21521;&#36755;&#20986;&#19994;&#21153;&#30340;URL&#12290;
</p><pre class="programlisting">	
	&lt;bean id="httpInvokerProxy" class="org.sprfr.remoting.httpinvoker.HttpInvokerProxyFactoryBean"&gt;
		&lt;property name="serviceUrl"&gt;
			&lt;value&gt;http://remotehost:8080/AccountService&lt;/value&gt;
		&lt;/property&gt;
		&lt;property name="serviceInterface"&gt;
			&lt;value&gt;example.AccountService&lt;/value&gt;
		&lt;/property&gt;
	&lt;/bean&gt;
</pre><p>
			</p><p>
&#23601;&#35937;&#19978;&#38754;&#35828;&#30340;&#19968;&#26679;&#65292;&#20320;&#21487;&#20197;&#36873;&#25321;&#20351;&#29992;&#20320;&#24819;&#20351;&#29992;&#30340;HTTP&#23458;&#25143;&#31471;&#12290;&#32570;&#30465;&#24773;&#20917;&#19979;&#65292;HttpInvokerPropxy&#20351;&#29992;J2SE&#30340;HTTP&#21151;&#33021;&#65292;&#20294;&#26159;&#20320;&#20063;&#21487;&#20197;&#36890;&#36807;&#35774;&#32622;<tt class="literal">httpInvokerRequestExecutor</tt>&#23646;&#24615;&#36873;&#25321;&#20351;&#29992;Commons HttpClient&#65306;
</p><pre class="programlisting">
&lt;property name="httpInvokerRequestExecutor"&gt;
	&lt;bean class="org.springframework.remoting.httpinvoker.CommonsHttpInvokerRequestExecutor"/&gt;
&lt;/property&gt;
</pre><p>
			</p></div></div><div class="sect1" lang="zh_cn"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e8624"></a>16.5.&nbsp;&#22312;&#36873;&#25321;&#36825;&#20123;&#25216;&#26415;&#26102;&#30340;&#19968;&#20123;&#32771;&#34385;</h2></div></div><div></div></div><p>		&#36825;&#37324;&#25552;&#21040;&#30340;&#27599;&#31181;&#25216;&#26415;&#37117;&#26377;&#23427;&#30340;&#32570;&#28857;&#12290;&#20320;&#22312;&#36873;&#25321;&#36825;&#20123;&#25216;&#26415;&#26102;&#65292;&#24212;&#35813;&#20180;&#32454;&#32771;&#34385;&#20320;&#30340;&#38656;&#35201;&#65292;&#20320;&#25152;&#36755;&#20986;&#30340;&#19994;&#21153;&#21644;&#20320;&#22312;&#36828;&#31243;&#35775;&#38382;&#26102;&#20256;&#36865;&#30340;&#23545;&#35937;&#12290;
		</p><p>		&#24403;&#20351;&#29992;RMI&#26102;&#65292;&#36890;&#36807;HTTP&#21327;&#35758;&#35775;&#38382;&#23545;&#35937;&#26159;&#19981;&#21487;&#33021;&#30340;&#65292;&#38500;&#38750;&#20320;&#29992;HTTP&#21253;&#35065;RMI&#27969;&#12290;RMI&#26159;&#19968;&#31181;&#24456;&#37325;&#30340;&#21327;&#35758;&#65292;&#22240;&#20026;&#20182;&#25903;&#25345;&#23436;&#20840;&#30340;&#23545;&#35937;&#24207;&#21015;&#21270;&#65292;&#36825;&#26679;&#30340;&#24207;&#21015;&#21270;&#22312;&#35201;&#27714;&#22797;&#26434;&#25968;&#25454;&#32467;&#26500;&#22312;&#36828;&#31243;&#20256;&#36755;&#26102;&#26159;&#38750;&#24120;&#37325;&#35201;&#30340;&#12290;&#28982;&#32780;&#65292;RMI-JRMP&#21482;&#33021;&#32465;&#23450;&#21040;Java&#23458;&#25143;&#31471;&#65306;&#23427;&#26159;&#19968;&#31181;Java-to-Java&#30340;&#36828;&#31243;&#35775;&#38382;&#30340;&#26041;&#26696;&#12290;
		</p><p>&#22914;&#26524;&#20320;&#38656;&#35201;&#22522;&#20110;HTTP&#30340;&#36828;&#31243;&#35775;&#38382;&#32780;&#19988;&#36824;&#35201;&#27714;&#20351;&#29992;Java&#24207;&#21015;&#21270;&#65292;Spring&#30340;HTTP&#35843;&#29992;&#22120;&#26159;&#19968;&#20010;&#24456;&#22909;&#30340;&#36873;&#25321;&#12290;&#23427;&#21644;RMI&#35843;&#29992;&#22120;&#20351;&#29992;&#30456;&#21516;&#30340;&#22522;&#30784;&#35774;&#26045;&#65292;&#20165;&#20165;&#20351;&#29992;HTTP&#20316;&#20026;&#20256;&#36755;&#26041;&#24335;&#12290;&#27880;&#24847;HTTP&#35843;&#29992;&#22120;&#19981;&#20165;&#21482;&#33021;&#29992;&#22312;Java-to-Java&#30340;&#36828;&#31243;&#35775;&#38382;&#65292;&#32780;&#19988;&#22312;&#23458;&#25143;&#31471;&#21644;&#26381;&#21153;&#22120;&#31471;&#37117;&#24517;&#39035;&#20351;&#29992;Spring&#12290;&#65288;Spring&#20026;&#38750;RMI&#25509;&#21475;&#25552;&#20379;&#30340;RMI&#35843;&#29992;&#22120;&#20063;&#35201;&#27714;&#23458;&#25143;&#31471;&#21644;&#26381;&#21153;&#22120;&#31471;&#37117;&#20351;&#29992;Spring&#65289;
		</p><p>		&#24403;&#22312;&#24322;&#26500;&#29615;&#22659;&#20013;&#65292;Hessian&#21644;Burlap&#23601;&#38750;&#24120;&#26377;&#29992;&#20102;&#12290;&#22240;&#20026;&#23427;&#20204;&#21487;&#20197;&#20351;&#29992;&#22312;&#38750;Java&#30340;&#23458;&#25143;&#31471;&#12290;&#28982;&#32780;&#65292;&#23545;&#38750;Java&#25903;&#25345;&#20173;&#28982;&#26159;&#26377;&#38480;&#21046;&#30340;&#12290;&#24050;&#30693;&#30340;&#38382;&#39064;&#21253;&#25324;&#21547;&#26377;&#24310;&#36831;&#21021;&#22987;&#21270;&#30340;collection&#23545;&#35937;&#30340;Hibernate&#23545;&#35937;&#30340;&#24207;&#21015;&#21270;&#12290;&#22914;&#26524;&#20320;&#26377;&#19968;&#20010;&#36825;&#26679;&#30340;&#25968;&#25454;&#32467;&#26500;&#65292;&#32771;&#34385;&#20351;&#29992;RMI&#25110;HTTP&#35843;&#29992;&#22120;&#65292;&#32780;&#19981;&#26159;Hessian&#12290;
		</p><p>		&#26368;&#21518;&#20294;&#20063;&#24456;&#37325;&#35201;&#30340;&#19968;&#28857;&#65292;EJB&#20248;&#20110;RMI&#65292;&#22240;&#20026;&#23427;&#25903;&#25345;&#26631;&#20934;&#30340;&#22522;&#20110;&#35282;&#33394;&#30340;&#35748;&#35777;&#21644;&#25480;&#26435;&#65292;&#20197;&#21450;&#36828;&#31243;&#20107;&#21153;&#20256;&#36882;&#12290;&#29992;RMI&#35843;&#29992;&#22120;&#25110;HTTP&#35843;&#29992;&#22120;&#26469;&#25903;&#25345;&#23433;&#20840;&#19978;&#19979;&#25991;&#30340;&#20256;&#36882;&#26159;&#21487;&#33021;&#30340;&#65292;&#34429;&#28982;&#36825;&#19981;&#26159;&#30001;&#26680;&#24515;Spring&#25552;&#20379;&#65306;&#32780;&#26159;&#30001;&#31532;&#19977;&#26041;&#25110;&#22312;&#23450;&#21046;&#30340;&#35299;&#20915;&#26041;&#26696;&#20013;&#25554;&#20837;&#25318;&#25130;&#22120;&#26469;&#35299;&#20915;&#30340;&#12290;</p></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ejb.html">&#19978;&#19968;&#39029;</a>&nbsp;</td><td width="20%" align="center"><a accesskey="u" href="index.html">&#19978;&#19968;&#32423;</a></td><td width="40%" align="right">&nbsp;<a accesskey="n" href="mail.html">&#19979;&#19968;&#39029;</a></td></tr><tr><td width="40%" align="left" valign="top">&#31532;&nbsp;15&nbsp;&#31456;&nbsp;EJB&#30340;&#23384;&#21462;&#21644;&#23454;&#29616;&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="index.html">&#36215;&#22987;&#39029;</a></td><td width="40%" align="right" valign="top">&nbsp;&#31532;&nbsp;17&nbsp;&#31456;&nbsp;&#20351;&#29992;Spring&#37038;&#20214;&#25277;&#35937;&#23618;&#21457;&#36865;Email</td></tr></table></div></body></html>