<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>&#31532;&nbsp;9&nbsp;&#31456;&nbsp;DAO&#25903;&#25345;</title><link rel="stylesheet" href="../styles/html.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.65.1"><link rel="home" href="index.html" title="Spring - Java/J2EE Application Framework"><link rel="up" href="index.html" title="Spring - Java/J2EE Application Framework"><link rel="previous" href="metadata.html" title="&#31532;&nbsp;8&nbsp;&#31456;&nbsp;&#28304;&#20195;&#30721;&#32423;&#30340;&#20803;&#25968;&#25454;&#25903;&#25345;"><link rel="next" href="jdbc.html" title="&#31532;&nbsp;10&nbsp;&#31456;&nbsp;&#20351;&#29992;JDBC&#36827;&#34892;&#25968;&#25454;&#35775;&#38382;"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">&#31532;&nbsp;9&nbsp;&#31456;&nbsp;DAO&#25903;&#25345;</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="metadata.html">&#19978;&#19968;&#39029;</a>&nbsp;</td><th width="60%" align="center">&nbsp;</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="jdbc.html">&#19979;&#19968;&#39029;</a></td></tr></table><hr></div><div class="chapter" lang="zh_cn"><div class="titlepage"><div><div><h2 class="title"><a name="dao"></a>&#31532;&nbsp;9&nbsp;&#31456;&nbsp;DAO&#25903;&#25345;</h2></div></div><div></div></div><div class="sect1" lang="zh_cn"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="dao-introduction"></a>9.1.&nbsp;&#31616;&#20171;</h2></div></div><div></div></div><p>Spring&#20013;&#30340;DAO(&#25968;&#25454;&#35775;&#38382;&#23545;&#35937;)&#25903;&#25345;&#20027;&#35201;&#30340;&#30446;&#26631;&#26159;&#20415;&#20110;&#20197;&#26631;&#20934;&#30340;&#26041;&#24335;&#20351;&#29992;&#25968;&#25454;&#35775;&#38382;&#25216;&#26415;&#65292;
	&#22914;JDBC&#65292;Hibernate&#25110;&#32773;JDO&#12290;&#23427;&#19981;&#20165;&#21487;&#20197;&#35753;&#20320;&#22312;&#36825;&#20123;&#25216;&#26415;&#38388;&#30456;&#24403;&#23481;&#26131;&#30340;&#20999;&#25442;&#65292;
	&#32780;&#19988;&#35753;&#20320;&#22312;&#32534;&#30721;&#30340;&#26102;&#20505;&#19981;&#38656;&#35201;&#32771;&#34385;&#25429;&#33719;&#21508;&#31181;&#25216;&#26415;&#20013;&#29305;&#23450;&#30340;&#24322;&#24120;&#12290;</p></div><div class="sect1" lang="zh_cn"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="dao-exceptions"></a>9.2.&nbsp;&#19968;&#33268;&#30340;&#24322;&#24120;&#23618;&#27425;</h2></div></div><div></div></div><p>Spring&#25552;&#20379;&#20102;&#19968;&#20010;&#31616;&#20415;&#30340;&#25226;&#26576;&#31181;&#25216;&#26415;&#29305;&#23450;&#30340;&#24322;&#24120;&#22914;<tt class="literal">SQLException</tt>
	&#36716;&#21270;&#20026;&#23427;&#33258;&#36523;&#30340;&#24322;&#24120;&#23618;&#27425;&#20013;&#30340;&#22522;&#31867;&#24322;&#24120;<tt class="literal">DataAccessException</tt>&#30340;&#26041;&#27861;&#12290;
	&#36825;&#20123;&#24322;&#24120;&#21253;&#35013;&#20102;&#21407;&#22987;&#30340;&#24322;&#24120;&#65292;&#25152;&#20197;&#20320;&#19981;&#24517;&#25285;&#24515;&#20250;&#20002;&#22833;&#20219;&#20309;&#21487;&#33021;&#36896;&#25104;&#38169;&#35823;&#30340;&#24322;&#24120;&#20449;&#24687;&#12290;</p><p>&#38500;&#20102;&#23545;JDBC&#24322;&#24120;&#30340;&#21253;&#35013;&#22806;&#65292;Spring&#20063;&#21487;&#20197;&#21253;&#35013;Hibernate&#30340;&#24322;&#24120;&#65292;&#25226;&#23427;&#20204;&#20174;&#19987;&#26377;&#30340;&#65292;
	checked exceptions&#36716;&#21270;&#20026;&#19968;&#31995;&#21015;&#25277;&#35937;&#30340;runtime exceptions&#12290;
	&#21516;&#26679;&#30340;&#24773;&#20917;&#20063;&#36866;&#29992;&#20110;JDO&#30340;&#24322;&#24120;&#12290;&#23427;&#21487;&#20197;&#35753;&#20320;&#22788;&#29702;&#22823;&#22810;&#25968;&#25345;&#20037;&#30340;&#24322;&#24120;&#32780;&#19981;&#38656;&#35201;&#35752;&#21388;&#30340;&#26679;&#26495;&#24335;catches/throws&#20195;&#30721;&#22359;&#21644;&#24322;&#24120;&#22768;&#26126;&#65292;
	&#36825;&#20123;&#24322;&#24120;&#26159;&#19981;&#21487;&#24674;&#22797;&#30340;&#65292;&#21482;&#22312;&#19968;&#20123;&#36866;&#24403;&#30340;&#23618;&#20986;&#29616;.&#20320;&#20173;&#28982;&#21487;&#20197;&#22312;&#38656;&#35201;&#30340;&#22320;&#26041;&#25429;&#33719;&#24182;&#22788;&#29702;&#36825;&#20123;&#24322;&#24120;&#12290;
	&#35937;&#25105;&#20204;&#19978;&#38754;&#25552;&#21040;&#30340;&#19968;&#26679;&#65292;JDBC&#30340;&#24322;&#24120;(&#21253;&#25324;&#19981;&#21516;&#25968;&#25454;&#24211;&#29305;&#23450;&#30340;&#26041;&#35328;)&#20063;&#21487;&#20197;&#36716;&#21270;&#33267;&#21516;&#26679;&#30340;&#24322;&#24120;&#23618;&#27425;&#65292;
	&#36825;&#24847;&#21619;&#30528;&#20320;&#21487;&#20197;&#22312;&#19968;&#33268;&#30340;&#32534;&#31243;&#27169;&#22411;&#19979;&#20351;&#29992;JDBC&#25191;&#34892;&#26576;&#20123;&#25805;&#20316;&#12290;</p><p>&#19978;&#36848;&#30340;&#24773;&#20917;&#36866;&#21512;&#20110;Template&#29256;&#26412;&#30340;ORM&#23384;&#21462;&#26694;&#26550;&#12290;&#22914;&#26524;&#20320;&#20351;&#29992;&#22522;&#20110;&#25318;&#25130;&#22120;&#30340;&#31867;&#65292;
	&#24212;&#29992;&#20013;&#23601;&#24517;&#39035;&#23567;&#24515;&#30340;&#22788;&#29702;HibernateExceptions&#21644;JDOExceptions&#65292;
	&#26368;&#22909;&#36873;&#25321;&#36890;&#36807;<tt class="literal">SessionFactoryUtils</tt>	&#20013;&#30340;<tt class="literal">convertHibernateAccessException</tt>&#21644;<tt class="literal">convertJdoAccessException</tt>&#26041;&#27861;&#20195;&#29702;&#12290;
	&#36825;&#20123;&#26041;&#27861;&#21487;&#20197;&#25226;&#24322;&#24120;&#36716;&#21270;&#20026;&#19982;&#20860;&#23481;org.springframework.dao&#24322;&#24120;&#23618;&#27425;&#30340;&#24322;&#24120;&#12290;
	JDOException&#23646;&#20110;unchecked exception&#65292;&#23427;&#20204;&#21017;&#34987;&#31616;&#21333;&#30340;&#25243;&#20986;,&#23613;&#31649;&#36825;&#22312;&#24322;&#24120;&#22788;&#29702;&#26041;&#38754;&#29306;&#29298;&#20102;&#36890;&#29992;&#30340;DAO&#25277;&#35937;&#12290;</p><p>&#19979;&#38754;&#30340;&#22270;&#25551;&#36848;&#20102;Spring&#20351;&#29992;&#30340;&#24322;&#24120;&#23618;&#27425;&#65306;</p><div class="mediaobject"><img src="images/DataAccessException.gif"></div><p></p></div><div class="sect1" lang="zh_cn"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e5025"></a>9.3.&nbsp;&#19968;&#33268;&#30340;DAO&#25903;&#25345;&#25277;&#35937;&#31867;</h2></div></div><div></div></div><p>&#20026;&#20102;&#20415;&#20110;&#20197;&#19968;&#33268;&#30340;&#26041;&#24335;&#20351;&#29992;&#19981;&#21516;&#30340;&#25968;&#25454;&#35775;&#38382;&#25216;&#26415;&#22914;JDBC&#65292;JDO&#21644;Hibernate&#65292;
	Spring&#25552;&#20379;&#20102;&#19968;&#22871;&#25277;&#35937;&#30340;DAO&#31867;&#20379;&#20320;&#32487;&#25215;&#12290;&#36825;&#20123;&#25277;&#35937;&#31867;&#25552;&#20379;&#19968;&#20123;&#26041;&#27861;&#26469;&#35774;&#32622;&#25968;&#25454;&#28304;&#65292;
	&#20197;&#21450;&#20320;&#27491;&#22312;&#20351;&#29992;&#30340;&#25216;&#26415;&#20013;&#19987;&#26377;&#30340;&#19968;&#20123;&#37197;&#32622;&#35774;&#23450;&#12290;</p><p>Dao&#25903;&#25345;&#31867;&#65306;</p><div class="itemizedlist"><ul type="disc"><li><p><tt class="literal">JdbcDaoSupport</tt> - JDBC&#25968;&#25454;&#35775;&#38382;&#23545;&#35937;&#30340;&#22522;&#31867;&#12290;
		&#38656;&#35201;&#35774;&#32622;&#25968;&#25454;&#28304;&#65292;&#21516;&#26102;&#20026;&#23376;&#31867;&#25552;&#20379;JdbcTemplate&#12290;</p></li><li><p><tt class="literal">HibernateDaoSupport</tt> - Hibernate&#25968;&#25454;&#35775;&#38382;&#23545;&#35937;&#30340;&#22522;&#31867;&#12290;
		&#38656;&#35201;&#35774;&#32622;SessionFactory&#65292;&#21516;&#26102;&#20026;&#23376;&#31867;&#25552;&#20379;HibernateTemplate&#12290;&#21487;&#20197;&#36873;&#25321;&#30452;&#25509;&#36890;&#36807;HibernateTemplate&#26469;&#21021;&#22987;&#21270;&#65292;
		&#36825;&#26679;&#23601;&#21487;&#20197;&#37325;&#29992;&#21518;&#32773;&#30340;&#35774;&#32622;&#65292;&#20363;&#22914;SessionFactory&#65292;flush&#30340;&#26041;&#24335;&#65292;&#24322;&#24120;&#35299;&#37322;&#22120;&#31561;&#31561;&#12290;</p></li><li><p><tt class="literal">JdoDaoSupport</tt> - JDO&#25968;&#25454;&#35775;&#38382;&#23545;&#35937;&#30340;&#22522;&#31867;&#12290;
			&#38656;&#35201;&#35774;&#32622;PersistenceManagerFactory&#65292;&#21516;&#26102;&#20026;&#23376;&#31867;&#25552;&#20379;JdoTemplate&#12290;</p></li></ul></div><p></p></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="metadata.html">&#19978;&#19968;&#39029;</a>&nbsp;</td><td width="20%" align="center"><a accesskey="u" href="index.html">&#19978;&#19968;&#32423;</a></td><td width="40%" align="right">&nbsp;<a accesskey="n" href="jdbc.html">&#19979;&#19968;&#39029;</a></td></tr><tr><td width="40%" align="left" valign="top">&#31532;&nbsp;8&nbsp;&#31456;&nbsp;&#28304;&#20195;&#30721;&#32423;&#30340;&#20803;&#25968;&#25454;&#25903;&#25345;&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="index.html">&#36215;&#22987;&#39029;</a></td><td width="40%" align="right" valign="top">&nbsp;&#31532;&nbsp;10&nbsp;&#31456;&nbsp;&#20351;&#29992;JDBC&#36827;&#34892;&#25968;&#25454;&#35775;&#38382;</td></tr></table></div></body></html>