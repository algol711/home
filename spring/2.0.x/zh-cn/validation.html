<html>
<!-- Mirrored from www.redsaga.com/spring_ref/2.0RC2/html/validation.html by HTTrack Website Copier/3.x [XR&CO'2005], Tue, 17 Oct 2006 16:56:29 GMT -->
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>Chapter&nbsp;5.&nbsp;&#23646;&#24615;&#32534;&#36753;&#22120;&#65292;&#25968;&#25454;&#32465;&#23450;&#65292;&#26657;&#39564;&#19982;BeanWrapper</title><link rel="stylesheet" href="http://www.redsaga.com/spring_ref/2.0RC2/styles/html.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.60.1"><link rel="home" href="index.html" title="Spring Framework &#24320;&#21457;&#21442;&#32771;&#25163;&#20876;"><link rel="up" href="pt01.html" title="Part&nbsp;I.&nbsp;&#26680;&#24515;&#25216;&#26415;"><link rel="previous" href="resources.html" title="Chapter&nbsp;4.&nbsp;&#36164;&#28304;"><link rel="next" href="aop.html" title="Chapter&nbsp;6.&nbsp;&#20351;&#29992;Spring&#36827;&#34892;&#38754;&#21521;&#20999;&#38754;&#32534;&#31243;&#65288;AOP&#65289;"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div xmlns="http://www.w3.org/TR/xhtml1/transitional" style="background-color:#31430f;border:none;height:110px;border:1px solid black;"><a style="border:none;background: url();" href="http://www.springframework.org/" title="The Spring Framework"><img style="border:none;" src="images/banner4.jpg"></a><a style="border:none;background: url();" href="http://www.interface21.com/" title="Interface21 - Spring from the Source"><img style="border:none;position:absolute;right:32px;" src="images/bannerR.gif"></a></div><div class="chapter" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="validation"></a>Chapter&nbsp;5.&nbsp;&#23646;&#24615;&#32534;&#36753;&#22120;&#65292;&#25968;&#25454;&#32465;&#23450;&#65292;&#26657;&#39564;&#19982;BeanWrapper</h2></div></div><div></div></div>
   <table align="center">
<tr>
<td>
<script type="text/javascript"><!--
google_ad_client = "pub-2627642070897863";
google_ad_width = 336;
google_ad_height = 280;
google_ad_format = "336x280_as";
google_ad_type = "text_image";
//2006-10-13: com_336x280
google_ad_channel = "7652836435";
google_color_border = "FFFFFF";
google_color_bg = "FFFFFF";
google_color_link = "0000FF";
google_color_text = "000000";
google_color_url = "000000";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
<td>
<script type="text/javascript"><!--
google_ad_client = "pub-2627642070897863";
google_ad_width = 336;
google_ad_height = 280;
google_ad_format = "336x280_as";
google_ad_type = "text_image";
//2006-10-13: com_336x280
google_ad_channel = "7652836435";
google_color_border = "FFFFFF";
google_color_bg = "FFFFFF";
google_color_link = "0000FF";
google_color_text = "000000";
google_color_url = "000000";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</tr>
</table>
   <div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="validation-introduction"></a>5.1.&nbsp;&#31616;&#20171;</h2></div></div><div></div></div><p>&#26159;&#21542;&#25226;&#26657;&#39564;&#24403;&#20316;<span class="emphasis"><em>&#19994;&#21153;&#36923;&#36753;</em></span>&#26469;&#23545;&#24453;&#26159;&#19968;&#20010;&#24456;&#37325;&#35201;&#30340;&#38382;&#39064;&#12290;&#23545;&#27492;&#65292;&#23384;&#22312;&#30528;&#20004;&#27966;&#25130;&#28982;&#19981;&#21516;&#30340;&#24847;&#35265;&#65292;&#32780;Spring&#25552;&#20379;&#30340;&#39564;&#35777;&#27169;&#24335;(&#21644;&#25968;&#25454;&#32465;&#23450;)&#30340;&#35774;&#35745;&#23545;&#36825;&#20004;&#31181;&#24847;&#35265;&#37117;&#19981;&#25490;&#26021;&#12290;&#26657;&#39564;&#24212;&#35813;&#24456;&#23481;&#26131;&#26412;&#22320;&#21270;&#24182;&#19988;&#21487;&#20197;&#26041;&#20415;&#22320;&#21152;&#20837;&#26032;&#30340;&#39564;&#35777;&#36923;&#36753;&#65292;&#21516;&#26102;&#23427;&#19981;&#24212;&#35813;&#34987;&#24378;&#21046;&#32465;&#23450;&#22312;Web&#23618;&#12290;&#22522;&#20110;&#19978;&#36848;&#30340;&#32771;&#34385;&#65292;Spring&#25552;&#20379;&#20102;&#19968;&#20010;Validator&#25509;&#21475;&#12290;&#36825;&#26159;&#19968;&#20010;&#22522;&#30784;&#30340;&#25509;&#21475;&#24182;&#19988;&#21487;&#20197;&#34987;&#24212;&#29992;&#20110;&#24212;&#29992;&#31243;&#24207;&#30340;&#20219;&#20309;&#19968;&#20010;&#23618;&#38754;&#12290;</p><p>&#25968;&#25454;&#32465;&#23450;&#65288;Data binding&#65289;&#38750;&#24120;&#26377;&#29992;&#65292;&#23427;&#21487;&#20197;&#21160;&#24577;&#25226;&#29992;&#25143;&#36755;&#20837;&#19982;&#24212;&#29992;&#31243;&#24207;&#30340;&#22495;&#27169;&#22411;&#65288;&#25110;&#32773;&#20320;&#29992;&#20110;&#22788;&#29702;&#29992;&#25143;&#36755;&#20837;&#30340;&#23545;&#35937;&#65289;&#32465;&#23450;&#36215;&#26469;&#12290;Spring&#38024;&#23545;&#27492;&#25552;&#20379;&#20102;&#25152;&#35859;&#30340;<tt class="literal">DataBinder</tt>&#26469;&#23436;&#25104;&#36825;&#19968;&#21151;&#33021;&#12290;&#30001;Validator&#21644;DataBinder&#32452;&#25104;&#30340;<tt class="literal">validation</tt>&#39564;&#35777;&#21253;&#65292;&#20027;&#35201;&#34987;&#29992;&#20110;Spring&#30340;MVC&#26694;&#26550;&#12290;&#24403;&#28982;&#65292;&#20182;&#20204;&#21516;&#26679;&#21487;&#20197;&#34987;&#29992;&#20110;&#20854;&#20182;&#38656;&#35201;&#30340;&#22320;&#26041;&#12290;</p><p><tt class="literal">BeanWrapper</tt>&#20316;&#20026;&#19968;&#20010;&#22522;&#30784;&#32452;&#20214;&#34987;&#29992;&#22312;&#20102;Spring&#26694;&#26550;&#20013;&#30340;&#24456;&#22810;&#22320;&#26041;&#12290;&#19981;&#36807;&#65292;&#20320;&#21487;&#33021;&#24456;&#23569;&#20250;&#38656;&#35201;&#30452;&#25509;&#20351;&#29992;BeanWrapper&#12290;&#30001;&#20110;&#36825;&#26159;&#19968;&#31687;&#21442;&#32771;&#25991;&#26723;&#65292;&#22240;&#32780;&#25105;&#20204;&#35273;&#24471;&#23545;&#27492;&#31245;&#20316;&#35299;&#37322;&#36824;&#26159;&#26377;&#24517;&#35201;&#30340;&#12290;&#25105;&#20204;&#22312;&#36825;&#19968;&#31456;&#33410;&#37324;&#23545;BeanWrapper&#30340;&#35828;&#26126;&#65292;&#25110;&#35768;&#21040;&#20102;&#20320;&#26085;&#21518;&#35797;&#22270;&#36827;&#34892;&#31867;&#20284;&#23545;&#35937;&#19982;&#25968;&#25454;&#20043;&#38388;&#30340;&#32465;&#23450;&#36825;&#31181;&#19982;BeanWrapper&#38750;&#24120;&#30456;&#20851;&#30340;&#25805;&#20316;&#26102;&#20250;&#26377;&#19968;&#20123;&#24110;&#21161;&#12290;</p><p>Spring&#22823;&#37327;&#22320;&#20351;&#29992;&#20102;PropertyEditor&#65288;&#23646;&#24615;&#32534;&#36753;&#22120;&#65289;&#12290;PropertyEditor&#30340;&#27010;&#24565;&#26159;JavaBean&#35268;&#33539;&#30340;&#19968;&#37096;&#20998;&#12290;&#27491;&#22914;&#19978;&#38754;&#25552;&#21040;&#30340;BeanWrapper&#19968;&#26679;&#65292;&#30001;&#20110;&#23427;&#19982;BeanWrapper&#20197;&#21450;DataBinder&#19977;&#32773;&#20043;&#38388;&#26377;&#30528;&#23494;&#20999;&#30340;&#32852;&#31995;&#65292;&#25105;&#20204;&#22312;&#36825;&#37324;&#21516;&#26679;&#23545;PropertyEditor&#20316;&#19968;&#30058;&#35299;&#37322;&#12290;</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="validation-databinding"></a>5.2.&nbsp;&#20351;&#29992;<tt class="literal">DataBinder</tt>&#36827;&#34892;&#25968;&#25454;&#32465;&#23450;</h2></div></div><div></div></div><p>DataBinder&#26159;&#26500;&#24314;&#20110;BeanWrapper&#20043;&#19978;&#12290;<sup>[<a name="d0e5885" href="#ftn.d0e5885">3</a>]</sup>&#12290;</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="beans-beans"></a>5.3.&nbsp;Bean&#22788;&#29702;&#21644;BeanWrapper</h2></div></div><div></div></div><p>
    <tt class="literal">org.springframework.beans</tt>&#21253;&#36981;&#24490;Sun&#21457;&#24067;&#30340;JavaBean&#26631;&#20934;&#12290;JavaBean&#26159;&#19968;&#20010;&#31616;&#21333;&#30340;&#21547;&#26377;&#19968;&#20010;&#40664;&#35748;&#26080;&#21442;&#25968;&#26500;&#36896;&#20989;&#25968;&#30340;Java&#31867;&#65292; &#36825;&#20010;&#31867;&#20013;&#30340;&#23646;&#24615;&#36981;&#24490;&#19968;&#23450;&#30340;&#21629;&#21517;&#35268;&#33539;&#65292;&#19988;&#20855;&#26377;setter&#21644;getter&#26041;&#27861;&#12290;&#20363;&#22914;&#65292;&#26576;&#20010;&#31867;&#25317;&#26377;&#19968;&#20010;&#21483;&#20570;<tt class="literal">prop</tt>&#30340;&#23646;&#24615;&#65292;&#24182;&#21516;&#26102;&#20855;&#26377;&#19982;&#35813;&#23646;&#24615;&#23545;&#24212;&#30340;setter&#26041;&#27861;&#65306;<tt class="literal">setProp(...)</tt>&#21644;getter&#26041;&#27861;&#65306;<tt class="literal">getProp()</tt>&#12290;
&#22914;&#26524;&#20320;&#38656;&#35201;&#20102;&#35299;JavaBean&#35268;&#33539;&#30340;&#35814;&#32454;&#20449;&#24687;&#21487;&#20197;&#35775;&#38382;Sun&#30340;&#32593;&#31449; (<a href="http://java.sun.com/products/javabeans/" target="_top">java.sun.com/products/javabeans</a>)&#12290;</p><p>&#36825;&#20010;&#21253;&#20013;&#30340;&#19968;&#20010;&#38750;&#24120;&#37325;&#35201;&#30340;&#27010;&#24565;&#23601;&#26159;<tt class="literal">BeanWrapper</tt>&#25509;&#21475;&#20197;&#21450;&#23427;&#23545;&#24212;&#30340;&#23454;&#29616;(<tt class="literal">BeanWrapperImpl</tt>)&#12290;&#26681;&#25454;JavaDoc&#20013;&#30340;&#35828;&#26126;&#65292;BeanWrapper&#25552;&#20379;&#20102;&#35774;&#32622;&#21644;&#33719;&#21462;&#23646;&#24615;&#20540;&#65288;&#21333;&#20010;&#30340;&#25110;&#32773;&#26159;&#25209;&#37327;&#30340;&#65289;&#65292;&#33719;&#21462;&#23646;&#24615;&#25551;&#36848;&#20449;&#24687;&#12289;&#26597;&#35810;&#21482;&#35835;&#25110;&#32773;&#21487;&#20889;&#23646;&#24615;&#31561;&#21151;&#33021;&#12290;&#19981;&#20165;&#22914;&#27492;&#65292;BeanWrapper&#36824;&#25903;&#25345;&#23884;&#22871;&#23646;&#24615;&#65292;&#20320;&#21487;&#20197;&#19981;&#21463;&#23884;&#22871;&#28145;&#24230;&#38480;&#21046;&#23545;&#23376;&#23646;&#24615;&#30340;&#20540;&#36827;&#34892;&#35774;&#32622;&#12290;&#25152;&#20197;&#65292;BeanWrapper&#26080;&#38656;&#20219;&#20309;&#36741;&#21161;&#20195;&#30721;&#23601;&#21487;&#20197;&#25903;&#25345;&#26631;&#20934;JavaBean&#30340;<tt class="literal">PropertyChangeListener</tt>&#21644;<tt class="literal">VetoableChangeListener</tt>&#12290;&#38500;&#27492;&#20043;&#22806;&#65292;BeanWrapper&#36824;&#25552;&#20379;&#20102;&#35774;&#32622;&#32034;&#24341;&#23646;&#24615;&#30340;&#25903;&#25345;&#12290;&#36890;&#24120;&#24773;&#20917;&#19979;&#65292;&#25105;&#20204;&#19981;&#22312;&#24212;&#29992;&#31243;&#24207;&#20013;&#30452;&#25509;&#20351;&#29992;BeanWrapper&#32780;&#26159;&#20351;&#29992;DataBinder&#21644;BeanFactory&#12290;</p><p>BeanWrapper&#36825;&#20010;&#21517;&#23383;&#26412;&#36523;&#23601;&#26263;&#31034;&#20102;&#23427;&#30340;&#21151;&#33021;&#65306;<span class="emphasis"><em>&#23553;&#35013;&#20102;&#19968;&#20010;bean&#30340;&#34892;&#20026;</em></span>&#65292;&#35832;&#22914;&#35774;&#32622;&#21644;&#33719;&#21462;&#23646;&#24615;&#20540;&#31561;&#12290;
    </p><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="beans-beans-conventions"></a>5.3.1.&nbsp;&#35774;&#32622;&#21644;&#33719;&#21462;&#23646;&#24615;&#20540;&#20197;&#21450;&#23884;&#22871;&#23646;&#24615;</h3></div></div><div></div></div><p> 

&#35774;&#32622;&#21644;&#33719;&#21462;&#23646;&#24615;&#21487;&#20197;&#36890;&#36807;&#20351;&#29992;&#37325;&#36733;&#30340;<tt class="literal">setPropertyValue(s)</tt>&#21644;<tt class="literal">getPropertyValue(s)</tt>&#26041;&#27861;&#26469;&#23436;&#25104;&#12290;&#22312;Spring&#33258;&#24102;&#30340;JavaDoc&#20013;&#23545;&#23427;&#20204;&#26377;&#35814;&#32454;&#30340;&#25551;&#36848;&#12290;&#20540;&#24471;&#19968;&#25552;&#30340;&#26159;&#65292;&#22312;&#36825;&#20854;&#20013;&#23384;&#22312;&#19968;&#20123;&#38024;&#23545;&#23545;&#35937;&#23646;&#24615;&#30340;&#28508;&#22312;&#32422;&#23450;&#35268;&#21017;&#12290;&#19979;&#38754;&#26159;&#19968;&#20123;&#20363;&#23376;&#65306;
         </p><div class="table"><a name="d0e5942"></a><p class="title"><b>Table&nbsp;5.1.&nbsp;&#23646;&#24615;&#31034;&#20363;</b></p><table summary="&#23646;&#24615;&#31034;&#20363;" border="1"><colgroup><col><col></colgroup><thead><tr><th>&#34920;&#36798;&#24335;</th><th>&#35828;&#26126;</th></tr></thead><tbody><tr><td><tt class="literal">name</tt></td><td>&#25351;&#21521;&#23646;&#24615;name&#65292;&#19982;getName() &#25110; isName() &#21644; setName()&#30456;&#23545;&#24212;&#12290;</td></tr><tr><td><tt class="literal">account.name</tt></td><td>&#25351;&#21521;&#23646;&#24615;account&#30340;&#23884;&#22871;&#23646;&#24615;name&#65292;&#19982;&#20043;&#23545;&#24212;&#30340;&#26159;getAccount().setName()&#21644;getAccount().getName()</td></tr><tr><td><tt class="literal">account[2]</tt></td><td>&#25351;&#21521;&#32034;&#24341;&#23646;&#24615;account&#30340;&#31532;&#19977;&#20010;&#20803;&#32032;&#65292;&#32034;&#24341;&#23646;&#24615;&#21487;&#33021;&#26159;&#19968;&#20010;&#25968;&#32452;&#65288;array&#65289;&#65292;&#21015;&#34920;&#65288;list&#65289;&#25110;&#20854;&#23427;&#22825;&#28982;&#26377;&#24207;&#30340;&#23481;&#22120;&#12290;</td></tr><tr><td><tt class="literal">account[COMPANYNAME]</tt></td><td>&#25351;&#21521;&#19968;&#20010;Map&#23454;&#20307;account&#20013;&#20197;COMPANYNAME&#20316;&#20026;&#38190;&#20540;&#65288;key&#65289;&#25152;&#23545;&#24212;&#30340;&#20540;</td></tr></tbody></table></div><p>&#22312;&#19979;&#38754;&#30340;&#20363;&#23376;&#20013;&#20320;&#23558;&#30475;&#21040;&#19968;&#20123;&#20351;&#29992;BeanWrapper&#35774;&#32622;&#23646;&#24615;&#30340;&#20363;&#23376;&#12290;</p><p><span class="emphasis"><em>&#27880;&#24847;&#65306;&#22914;&#26524;&#20320;&#19981;&#25171;&#31639;&#30452;&#25509;&#20351;&#29992;BeanWrapper&#65292;&#36825;&#37096;&#20998;&#19981;&#26159;&#24456;&#37325;&#35201;&#12290;&#22914;&#26524;&#20320;&#20165;&#20165;&#20351;&#29992;DataBinder&#21644;BeanFactory&#25110;&#32773;&#20182;&#20204;&#30340;&#25193;&#23637;&#23454;&#29616;&#65292;&#20320;&#21487;&#20197;&#36339;&#36807;&#36825;&#37096;&#20998;&#30452;&#25509;&#38405;&#35835;PropertyEditor&#30340;&#37096;&#20998;&#12290;</em></span></p><p>&#32771;&#34385;&#19979;&#38754;&#20004;&#20010;&#31867;&#65306; </p><pre class="programlisting">public class Company {
    private String name;
    private Employee managingDirector;

    public String getName()	{ 
        return this.name; 
    }
    public void setName(String name) { 
        this.name = name; 
    } 
    public Employee getManagingDirector() { 
        return this.managingDirector; 
    }
    public void setManagingDirector(Employee managingDirector) {
        this.managingDirector = managingDirector;
    }
}</pre><pre class="programlisting">public class Employee {
    private float salary;

    public float getSalary() {
        return salary;
    }
    public void setSalary(float salary) {
        this.salary = salary;
    }
}</pre><p>&#19979;&#38754;&#30340;&#20195;&#30721;&#29255;&#26029;&#23637;&#31034;&#20102;&#22914;&#20309;&#33719;&#21462;&#21644;&#35774;&#32622;&#19978;&#38754;&#20004;&#20010;&#31034;&#20363;&#31867; <tt class="literal">Companies</tt>&#21644;<tt class="literal">Employees</tt>&#30340;&#23646;&#24615;&#65306;
      </p><pre class="programlisting">Company c = new Company();
BeanWrapper bwComp = BeanWrapperImpl(c);
// setting the company name...
bwComp.setPropertyValue("name", "Some Company Inc.");
// ... can also be done like this:
PropertyValue v = new PropertyValue("name", "Some Company Inc.");
bwComp.setPropertyValue(v);

<i class="lineannotation"><span class="lineannotation">// ok, let's create the director and tie it to the company:</span></i>
Employee jim = new Employee();
BeanWrapper bwJim = BeanWrapperImpl(jim);
bwJim.setPropertyValue("name", "Jim Stravinsky");
bwComp.setPropertyValue("managingDirector", jim);

<i class="lineannotation"><span class="lineannotation">// retrieving the salary of the managingDirector through the company</span></i>
Float salary = (Float)bwComp.getPropertyValue("managingDirector.salary");</pre></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="beans-beans-conversion"></a>5.3.2.&nbsp;&#20869;&#24314;&#30340;<span class="interface">PropertyEditor</span>&#23454;&#29616;</h3></div></div><div></div></div><p>Spring&#22823;&#37327;&#20351;&#29992;&#20102;PropertyEditor&#12290;&#26377;&#26102;&#20505;&#25442;&#19968;&#31181;&#26041;&#24335;&#26469;&#23637;&#31034;&#23646;&#24615;&#35201;&#27604;&#30452;&#25509;&#29992;&#23545;&#35937;&#33258;&#36523;&#26681;&#25454;&#23481;&#26131;&#35753;&#20154;&#29702;&#35299;&#12290;&#27604;&#22914;&#35828;&#65292;&#20154;&#20204;&#21487;&#20197;&#24456;&#23481;&#26131;&#29702;&#35299;&#26631;&#20934;&#30340;&#26085;&#26399;&#20889;&#27861;&#12290;&#24403;&#28982;&#65292;&#25105;&#20204;&#36824;&#26159;&#21487;&#20197;&#23558;&#36825;&#31181;&#20154;&#20204;&#27604;&#36739;&#23481;&#26131;&#29702;&#35299;&#30340;&#24418;&#24335;&#36716;&#21270;&#20026;&#21407;&#26377;&#30340;&#21407;&#22987;Date&#31867;&#22411;&#65288;&#29978;&#33267;&#23545;&#20110;&#20219;&#20309;&#20154;&#20204;&#36755;&#20837;&#30340;&#21487;&#29702;&#35299;&#30340;&#26085;&#26399;&#24418;&#24335;&#37117;&#21487;&#20197;&#36716;&#21270;&#25104;&#30456;&#24212;&#30340;Date&#23545;&#35937;&#65289;&#12290;&#35201;&#20570;&#21040;&#36825;&#28857;&#65292;&#21487;&#20197;&#36890;&#36807;<span class="emphasis"><em>&#27880;&#20876;&#19968;&#20010;&#29992;&#25143;&#23450;&#21046;&#32534;&#36753;&#22120;</em></span>&#65288;&#31867;&#22411;&#20026;<tt class="literal">java.beans.PropertyEditor</tt>&#65289;&#26469;&#23436;&#25104;&#12290;&#27880;&#20876;&#19968;&#20010;&#29992;&#25143;&#33258;&#23450;&#20041;&#30340;&#32534;&#36753;&#22120;&#21487;&#20197;&#21578;&#35785;BeanWrapper&#25105;&#20204;&#23558;&#35201;&#25226;&#23646;&#24615;&#36716;&#25442;&#20026;&#21738;&#31181;&#31867;&#22411;&#12290;&#27491;&#22914;&#22312;&#20808;&#21069;&#31456;&#33410;&#25552;&#21040;&#30340;&#65292;&#21478;&#22806;&#19968;&#31181;&#36873;&#25321;&#26159;&#22312;&#29305;&#23450;&#30340;Application Context&#20013;&#23436;&#25104;&#27880;&#20876;&#12290;&#20320;&#21487;&#20197;&#20174;Sun&#30340;JavaDoc&#20013;&#30340;java.beans&#21253;&#20013;&#20102;&#35299;&#21040;&#26377;&#20851;<tt class="literal">java.beans</tt>&#30340;&#32454;&#33410;&#12290;</p><p>&#23646;&#24615;&#32534;&#36753;&#22120;&#20027;&#35201;&#24212;&#29992;&#22312;&#20197;&#19979;&#20004;&#20010;&#26041;&#38754;&#65306;
      </p><div class="itemizedlist"><ul type="disc" compact><li><p>&#20351;&#29992;PropertyEditor<span class="emphasis"><em>&#35774;&#32622;Bean&#23646;&#24615;</em></span>&#12290;&#24403;&#20320;&#22312;XML&#25991;&#20214;&#20013;&#22768;&#26126;&#30340;bean&#30340;&#23646;&#24615;&#31867;&#22411;&#20026;java.lang.String&#26102;&#65292;Spring&#23558;&#20351;&#29992;ClassEditor&#23558;String&#35299;&#26512;&#25104;Class&#23545;&#35937;&#65288;&#22914;&#26524;setter&#26041;&#27861;&#38656;&#35201;&#19968;&#20010;Class&#21442;&#25968;&#30340;&#35805;&#65289;&#12290;</p></li><li><p>&#22312;Spring MVC&#26550;&#26500;&#20013;&#20351;&#29992;&#21508;&#31181;PropertyEditor&#26469;<span class="emphasis"><em>&#35299;&#26512;HTTP&#35831;&#27714;&#20013;&#30340;&#21442;&#25968;</em></span>&#12290;&#20320;&#21487;&#20197;&#29992;&#21508;&#31181;CommandController&#30340;&#23376;&#31867;&#26469;&#36827;&#34892;&#25163;&#24037;&#32465;&#23450;&#12290;
            </p></li></ul></div><p>Spring&#25552;&#20379;&#20102;&#35768;&#22810;&#20869;&#24314;&#30340;PropertyEditor&#21487;&#20197;&#31616;&#21270;&#25105;&#20204;&#30340;&#24037;&#20316;&#12290;&#19979;&#38754;&#30340;&#21015;&#34920;&#21015;&#20986;&#20102;&#25152;&#26377;Spring&#33258;&#24102;&#30340;PropertyEditor&#65292;&#23427;&#20204;&#37117;&#20301;&#20110;<tt class="literal">org.springframework.beans.propertyeditors</tt>&#21253;&#20869;&#12290;&#23427;&#20204;&#20013;&#30340;&#22823;&#22810;&#25968;&#24050;&#32463;&#40664;&#35748;&#22312;BeanWrapperImpl&#30340;&#23454;&#29616;&#31867;&#20013;&#27880;&#20876;&#22909;&#20102;&#12290;&#20316;&#20026;&#21487;&#37197;&#32622;&#30340;&#36873;&#39033;&#65292;&#20320;&#20063;&#21487;&#20197;&#27880;&#20876;&#20320;&#33258;&#24049;&#30340;&#23646;&#24615;&#32534;&#36753;&#22120;&#23454;&#29616;&#21435;&#35206;&#30422;&#37027;&#20123;&#40664;&#35748;&#32534;&#36753;&#22120;&#12290;
      </p><p>
       </p><div class="table"><a name="d0e6045"></a><p class="title"><b>Table&nbsp;5.2.&nbsp;&#20869;&#24314;&#30340;PropertyEditor</b></p><table summary="&#20869;&#24314;&#30340;PropertyEditor" border="1"><colgroup><col><col></colgroup><thead><tr><th>&#31867;&#21517;</th><th>&#35828;&#26126;</th></tr></thead><tbody><tr><td><tt class="literal">ByteArrayPropertyEditor</tt></td><td>byte&#25968;&#32452;&#32534;&#36753;&#22120;&#12290;&#23383;&#31526;&#20018;&#23558;&#34987;&#31616;&#21333;&#36716;&#21270;&#25104;&#20182;&#20204;&#30456;&#24212;&#30340;byte&#24418;&#24335;&#12290;&#22312;BeanWrapperImpl&#20013;&#24050;&#32463;&#40664;&#35748;&#27880;&#20876;&#22909;&#20102;&#12290;</td></tr><tr><td><tt class="literal">ClassEditor</tt></td><td>
                &#23558;&#20197;&#23383;&#31526;&#20018;&#24418;&#24335;&#20986;&#29616;&#30340;&#31867;&#21517;&#35299;&#26512;&#25104;&#20026;&#30495;&#23454;&#30340;Class&#23545;&#35937;&#25110;&#32773;&#20854;&#20182;&#30456;&#20851;&#24418;&#24335;&#12290;&#24403;&#36825;&#20010;Class&#27809;&#26377;&#34987;&#25214;&#21040;&#65292;&#20250;&#25243;&#20986;&#19968;&#20010;IllegalArgumentException&#30340;&#24322;&#24120;&#65292;&#22312;BeanWrapperImpl&#20013;&#24050;&#32463;&#40664;&#35748;&#27880;&#20876;&#22909;&#20102;&#12290;
                </td></tr><tr><td><tt class="literal">CustomBooleanEditor</tt></td><td>
                &#20026;Boolean&#31867;&#22411;&#23646;&#24615;&#23450;&#21046;&#30340;&#23646;&#24615;&#32534;&#36753;&#22120;&#12290;&#22312;BeanWrapperImpl&#20013;&#24050;&#32463;&#40664;&#35748;&#27880;&#20876;&#22909;&#20102;&#65292;&#20294;&#21487;&#20197;&#34987;&#29992;&#25143;&#33258;&#23450;&#20041;&#30340;&#32534;&#36753;&#22120;&#23454;&#20363;&#35206;&#30422;&#20854;&#34892;&#20026;&#12290;
                </td></tr><tr><td><tt class="literal">CustomCollectionEditor</tt></td><td>
                &#38598;&#21512;(Collection)&#32534;&#36753;&#22120;&#65292;&#23558;&#20219;&#20309;&#28304;&#38598;&#21512;(Collection)&#36716;&#21270;&#25104;&#30446;&#26631;&#30340;&#38598;&#21512;&#31867;&#22411;&#30340;&#23545;&#35937;&#12290;
                </td></tr><tr><td><tt class="literal">CustomDateEditor</tt></td><td>
                &#20026;java.util.Date&#31867;&#22411;&#23450;&#21046;&#30340;&#23646;&#24615;&#32534;&#36753;&#22120;&#65292;&#25903;&#25345;&#29992;&#25143;&#33258;&#23450;&#20041;&#30340;DateFormat&#12290;&#40664;&#35748;&#27809;&#26377;&#34987;BeanWrapperImpl&#27880;&#20876;&#65292;&#38656;&#35201;&#29992;&#25143;&#36890;&#36807;&#25351;&#23450;&#24688;&#24403;&#30340;format&#31867;&#22411;&#26469;&#27880;&#20876;&#12290;
                </td></tr><tr><td><tt class="literal">CustomNumberEditor</tt></td><td>
                &#20026;Integer&#65292; Long&#65292; Float&#65292; Double&#31561;Number&#30340;&#23376;&#31867;&#23450;&#21046;&#30340;&#23646;&#24615;&#32534;&#36753;&#22120;&#12290;&#22312;BeanWrapperImpl&#20013;&#24050;&#32463;&#40664;&#35748;&#27880;&#20876;&#22909;&#20102;&#65292;&#20294;&#21487;&#20197;&#34987;&#29992;&#25143;&#33258;&#24049;&#23450;&#20041;&#30340;&#32534;&#36753;&#22120;&#23454;&#20363;&#35206;&#30422;&#20854;&#34892;&#20026;&#12290;
                </td></tr><tr><td><tt class="literal">FileEditor</tt></td><td> 
                &#33021;&#22815;&#23558;&#23383;&#31526;&#20018;&#36716;&#21270;&#25104;<tt class="literal">java.io.File</tt>&#23545;&#35937;&#65292;&#22312;BeanWrapperImpl&#20013;&#24050;&#32463;&#40664;&#35748;&#27880;&#20876;&#22909;&#20102;&#12290;
                </td></tr><tr><td><tt class="literal">InputStreamEditor</tt></td><td>
                &#19968;&#20010;&#21333;&#21521;&#30340;&#23646;&#24615;&#32534;&#36753;&#22120;&#65292;&#33021;&#22815;&#25226;&#25991;&#26412;&#23383;&#31526;&#20018;&#36716;&#21270;&#25104;InputStream&#65288;&#36890;&#36807;ResourceEditor and Resource&#20316;&#20026;&#20013;&#20171;&#65289;&#65292;&#22240;&#32780;InputStream&#23646;&#24615;&#23558;&#30452;&#25509;&#34987;&#35774;&#32622;&#25104;&#23383;&#31526;&#20018;&#12290;&#27880;&#24847;&#22312;&#40664;&#35748;&#24773;&#20917;&#19979;&#65292;&#36825;&#20010;&#23646;&#24615;&#32534;&#36753;&#22120;&#19981;&#20250;&#20026;&#20320;&#20851;&#38381;InputStream&#12290;&#22312;BeanWrapperImpl&#20013;&#24050;&#32463;&#40664;&#35748;&#27880;&#20876;&#22909;&#20102;&#12290;
                </td></tr><tr><td><tt class="literal">LocaleEditor</tt></td><td>&#22312;String&#23545;&#35937;&#21644;<tt class="literal">Locale</tt>&#23545;&#35937;&#20043;&#38388;&#20114;&#30456;&#36716;&#21270;&#12290;&#65288;String&#30340;&#24418;&#24335;&#20026;[&#35821;&#35328;]_[&#22269;&#23478;]_[&#21464;&#37327;]&#65292;&#36825;&#19982;Local&#23545;&#35937;&#30340;toString()&#26041;&#27861;&#24471;&#21040;&#30340;&#32467;&#26524;&#30456;&#21516;&#65289;&#22312;BeanWrapperImpl&#20013;&#24050;&#32463;&#40664;&#35748;&#27880;&#20876;&#22909;&#20102;&#12290;
                </td></tr><tr><td><tt class="literal">PropertiesEditor</tt></td><td>
                &#33021;&#23558;String&#36716;&#21270;&#20026;<tt class="literal">Properties</tt>&#23545;&#35937;&#65288;&#30001;JavaDoc&#35268;&#23450;&#30340;java.lang.Properties&#31867;&#22411;&#30340;&#26684;&#24335;&#65289;&#12290;&#22312;BeanWrapperImpl&#20013;&#24050;&#32463;&#40664;&#35748;&#27880;&#20876;&#22909;&#20102;&#12290;
                </td></tr><tr><td><tt class="literal">StringArrayPropertyEditor</tt></td><td>
                &#33021;&#22815;&#22312;&#19968;&#20010;&#20197;&#36887;&#21495;&#20998;&#21106;&#30340;&#23383;&#31526;&#20018;&#19982;&#19968;&#20010;String&#25968;&#32452;&#20043;&#38388;&#36827;&#34892;&#20114;&#30456;&#36716;&#21270;&#12290;&#22312;BeanWrapperImpl&#20013;&#24050;&#32463;&#40664;&#35748;&#27880;&#20876;&#22909;&#20102;&#12290;
                </td></tr><tr><td><tt class="literal">StringTrimmerEditor</tt></td><td>
                &#19968;&#20010;&#29992;&#20110;&#20462;&#21098;(trim)String&#31867;&#22411;&#30340;&#23646;&#24615;&#32534;&#36753;&#22120;&#65292;&#20855;&#26377;&#23558;&#19968;&#20010;&#31354;&#23383;&#31526;&#20018;&#36716;&#21270;&#20026;null&#20540;&#30340;&#36873;&#39033;&#12290;&#40664;&#35748;&#27809;&#26377;&#22312;BeanWrapperImpl&#20013;&#27880;&#20876;&#65292;&#24517;&#39035;&#30001;&#29992;&#25143;&#22312;&#38656;&#35201;&#30340;&#26102;&#20505;&#33258;&#34892;&#27880;&#20876;&#12290;
                </td></tr><tr><td><tt class="literal">URLEditor</tt></td><td>
                &#33021;&#23558;String&#34920;&#31034;&#30340;URL&#36716;&#21270;&#20026;&#19968;&#20010;&#20855;&#20307;&#30340;<tt class="literal">URL</tt>&#23545;&#35937;&#12290;&#22312;BeanWrapperImpl&#20013;&#24050;&#32463;&#40664;&#35748;&#27880;&#20876;&#22909;&#20102;&#12290;
                </td></tr></tbody></table></div><p>
      </p><p>Spring&#20351;&#29992;<tt class="interfacename">java.beans.PropertyEditorManager</tt>&#26469;&#20026;&#21487;&#33021;&#38656;&#35201;&#30340;&#23646;&#24615;&#32534;&#36753;&#22120;&#35774;&#32622;&#26597;&#35810;&#36335;&#24452;&#12290;&#26597;&#35810;&#36335;&#24452;&#21516;&#26102;&#21253;&#21547;&#20102;<tt class="literal">sun.bean.editors</tt>&#65292; &#36825;&#20010;&#21253;&#20013;&#23450;&#20041;&#20102;&#24456;&#22810;<tt class="interfacename">PropertyEditor</tt>&#30340;&#20855;&#20307;&#23454;&#29616;&#65292;&#21253;&#25324;&#23383;&#20307;&#12289;&#39068;&#33394;&#20197;&#21450;&#32477;&#22823;&#22810;&#25968;&#30340;&#22522;&#26412;&#31867;&#22411;&#30340;&#20855;&#20307;&#23454;&#29616;&#12290;&#21516;&#26679;&#20540;&#24471;&#27880;&#24847;&#30340;&#26159;&#65292;&#26631;&#20934;&#30340;JavaBean&#22522;&#30784;&#26500;&#26550;&#33021;&#22815;&#33258;&#21160;&#35782;&#21035;<tt class="interfacename">PropertyEditor</tt>&#31867;&#65288;&#26080;&#38656;&#20570;&#39069;&#22806;&#30340;&#27880;&#20876;&#24037;&#20316;&#65289;&#65292;&#21069;&#25552;&#26465;&#20214;&#26159;&#65292;&#31867;&#21644;&#22788;&#29702;&#36825;&#20010;&#31867;&#30340;Editor&#20301;&#20110;&#21516;&#19968;&#32423;&#21253;&#32467;&#26500;&#65292;&#32780;Editor&#30340;&#21629;&#21517;&#36981;&#24490;&#20102;&#22312;&#31867;&#21517;&#21518;&#21152;&#20102;&#8220;Editor&#8221;&#30340;&#35268;&#21017;&#12290;&#20030;&#20363;&#26469;&#35828;&#65292;&#24403;<tt class="classname">FooEditor</tt>&#21644;<tt class="classname">Foo</tt>&#22312;&#21516;&#19968;&#32423;&#21035;&#21253;&#19979;&#30340;&#26102;&#20505;&#65292;<tt class="classname">FooEditor</tt>&#33021;&#22815;&#35782;&#21035;<tt class="classname">Foo</tt>&#31867;&#24182;&#20316;&#20026;&#23427;&#30340;<tt class="interfacename">PropertyEditor</tt>&#12290;
</p><pre class="programlisting">com
  chank
    pop
      Foo
      FooEditor   <i class="lineannotation"><span class="lineannotation">// the <tt class="interfacename">PropertyEditor</tt> for the <tt class="classname">Foo</tt> class</span></i></pre><p>
		&#27880;&#24847;&#65292;&#20320;&#21516;&#26679;&#21487;&#20197;&#20351;&#29992;&#26631;&#20934;&#30340;<tt class="interfacename">BeanInfo</tt> JavaBean&#26426;&#21046;(&#35814;&#24773;&#35265;<a href="http://java.sun.com/docs/books/tutorial/javabeans/customization/index.html" target="_top">&#36825;&#37324;</a>)&#12290;&#22312;&#19979;&#38754;&#30340;&#20363;&#23376;&#20013;&#65292;&#20320;&#21487;&#20197;&#30475;&#21040;&#19968;&#20010;&#36890;&#36807;&#20351;&#29992;<tt class="interfacename">BeanInfo</tt>&#26426;&#21046;&#26469;&#20026;&#30456;&#20851;&#31867;&#30340;&#23646;&#24615;&#26126;&#30830;&#23450;&#20041;&#19968;&#20010;&#25110;&#32773;&#22810;&#20010;<tt class="interfacename">PropertyEditor</tt>&#23454;&#20363;
      </p><pre class="programlisting">com
  chank
    pop
      Foo
      FooBeanInfo   <i class="lineannotation"><span class="lineannotation">// the <tt class="interfacename">BeanInfo</tt> for the <tt class="classname">Foo</tt> class</span></i></pre><p>&#19979;&#38754;&#23601;&#26159;<tt class="classname">FooBeanInfo</tt>&#31867;&#30340;&#28304;&#30721;&#65292;&#23427;&#23558;<tt class="classname">CustomNumberEditor</tt>&#19982;<tt class="classname">Foo</tt>&#20013;&#30340;<tt class="literal">age</tt>&#23646;&#24615;&#32852;&#31995;&#22312;&#20102;&#19968;&#36215;&#12290;
	  </p><pre class="programlisting">public class FooBeanInfo extends SimpleBeanInfo {
      
    public PropertyDescriptor[] getPropertyDescriptors() {
        try {
            final PropertyEditor numberPE = new CustomNumberEditor(Integer.class, true);
            PropertyDescriptor ageDescriptor = new PropertyDescriptor("age", Foo.class) {
                public PropertyEditor createPropertyEditor(Object bean) {
                    return numberPE;
                };
            };
            return new PropertyDescriptor[] { ageDescriptor };
        }
        catch (IntrospectionException ex) {
            throw new Error(ex.toString());
        }
    }
}</pre><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="beans-beans-conversion-customeditor-registration"></a>5.3.2.1.&nbsp;&#27880;&#20876;&#29992;&#25143;&#33258;&#23450;&#20041;&#30340;<tt class="literal">PropertyEditor</tt></h4></div></div><div></div></div><p>&#24403;&#20197;&#19968;&#20010;&#23383;&#31526;&#20018;&#20540;&#26469;&#35774;&#32622;bean&#23646;&#24615;&#26102;&#65292;Spring IoC &#23481;&#22120;&#26368;&#32456;&#20351;&#29992;&#26631;&#20934;&#30340;JavaBean <tt class="literal">PropertyEditor</tt>&#26469;&#23558;&#36825;&#20123;&#23383;&#31526;&#20018;&#36716;&#21270;&#25104;&#22797;&#26434;&#30340;&#25968;&#25454;&#31867;&#22411;&#12290;Spring&#39044;&#20808;&#27880;&#20876;&#20102;&#19968;&#20123;<tt class="literal">PropertyEditor</tt>(&#20030;&#20363;&#26469;&#35828;&#65292;&#23558;&#19968;&#20010;&#20197;&#23383;&#31526;&#20018;&#34920;&#31034;&#30340;Class&#36716;&#21270;&#25104;<tt class="classname">Class</tt>&#23545;&#35937;)&#12290;&#38500;&#27492;&#20043;&#22806;&#65292;Java&#26631;&#20934;&#30340;JavaBean <tt class="interfacename">PropertyEditor</tt>&#20250;&#35782;&#21035;&#22312;&#21516;&#19968;&#21253;&#32467;&#26500;&#19979;&#30340;&#31867;&#21644;&#23427;&#23545;&#24212;&#30340;&#21629;&#21517;&#24688;&#24403;&#30340;Editor&#65292;&#24182;&#33258;&#21160;&#23558;&#20854;&#20316;&#20026;&#36825;&#20010;&#31867;&#30340;&#30340;Editor&#12290;
</p><p>&#22914;&#26524;&#20320;&#24819;&#27880;&#20876;&#33258;&#24049;&#23450;&#20041;&#30340;<tt class="literal">PropertyEditor</tt>&#65292;&#37027;&#20040;&#26377;&#20960;&#31181;&#19981;&#21516;&#30340;&#26426;&#21046;&#20379;&#21531;&#36873;&#25321;&#12290;&#20854;&#20013;&#65292;&#26368;&#21407;&#22987;&#30340;&#25163;&#24037;&#26041;&#24335;&#26159;&#22312;&#20320;&#26377;&#19968;&#20010;<tt class="interfacename">BeanFactory</tt>&#30340;&#24341;&#29992;&#23454;&#20363;&#26102;&#65292;&#20351;&#29992;<tt class="interfacename">ConfigurableBeanFactory</tt>&#30340;<tt class="methodname">registerCustomEditor()</tt>&#26041;&#27861;&#12290;&#24403;&#28982;&#65292;&#36890;&#24120;&#36825;&#31181;&#26041;&#27861;&#19981;&#22815;&#26041;&#20415;&#65292;&#22240;&#32780;&#24182;&#19981;&#25512;&#33616;&#20351;&#29992;&#12290;&#21478;&#22806;&#19968;&#20010;&#31616;&#20415;&#30340;&#26041;&#27861;&#26159;&#20351;&#29992;&#19968;&#20010;&#31216;&#20043;&#20026;<tt class="classname">CustomEditorConfigurer</tt>&#30340;&#29305;&#27530;&#30340;bean factory&#21518;&#32622;&#22788;&#29702;&#22120;&#12290;&#23613;&#31649;bean factory&#30340;&#21518;&#32622;&#22788;&#29702;&#22120;&#21487;&#20197;&#21322;&#25163;&#24037;&#21270;&#30340;&#19982;<tt class="interfacename">BeanFactory</tt>&#23454;&#29616;&#19968;&#36215;&#20351;&#29992;&#65292;&#20294;&#26159;&#23427;&#23384;&#22312;&#30528;&#19968;&#20010;&#23884;&#22871;&#23646;&#24615;&#30340;&#24314;&#31435;&#26041;&#24335;&#12290;&#22240;&#27492;&#65292;&#24378;&#28872;&#25512;&#33616;&#30340;&#19968;&#31181;&#20570;&#27861;&#26159;&#19982;<tt class="interfacename">ApplicationContext</tt>&#19968;&#36215;&#26469;&#20351;&#29992;&#23427;&#12290;&#36825;&#26679;&#23601;&#33021;&#20351;&#20043;&#19982;&#20854;&#20182;&#30340;bean&#19968;&#26679;&#20197;&#31867;&#20284;&#30340;&#26041;&#24335;&#37096;&#32626;&#21516;&#26102;&#34987;&#23481;&#22120;&#25152;&#24863;&#30693;&#24182;&#20351;&#29992;&#12290;
</p><p>&#27880;&#24847;&#25152;&#26377;&#30340;bean factory&#21644;application context&#37117;&#20250;&#33258;&#21160;&#22320;&#20351;&#29992;&#19968;&#31995;&#21015;&#30340;&#20869;&#32622;&#23646;&#24615;&#32534;&#36753;&#22120;&#65292;&#36890;&#36807;<tt class="interfacename">BeanWrapper</tt>&#26469;&#22788;&#29702;&#23646;&#24615;&#30340;&#36716;&#21270;&#12290;&#22312;<a href="validation.html#beans-beans-conversion" title="5.3.2.&nbsp;&#20869;&#24314;&#30340;PropertyEditor&#23454;&#29616;">&#36825;&#37324;</a>&#21015;&#20986;&#19968;&#20123;&#22312;<tt class="interfacename">BeanWrapper</tt>&#20013;&#27880;&#20876;&#30340;&#26631;&#20934;&#30340;&#23646;&#24615;&#32534;&#36753;&#22120;&#12290;&#38500;&#27492;&#20043;&#22806;&#65292;<tt class="literal">ApplicationContext</tt>&#35206;&#30422;&#20102;&#19968;&#20123;&#40664;&#35748;&#34892;&#20026;&#65292;&#24182;&#20026;&#20043;&#22686;&#21152;&#20102;&#35768;&#22810;&#32534;&#36753;&#22120;&#26469;&#22788;&#29702;&#22312;&#26576;&#31181;&#24847;&#20041;&#19978;&#21512;&#36866;&#20110;&#29305;&#23450;&#30340;application context&#31867;&#22411;&#30340;&#36164;&#28304;&#26597;&#25214;&#12290;
</p><p>
			&#26631;&#20934;&#30340;JavaBean&#30340;<tt class="interfacename">PropertyEditor</tt>&#23454;&#20363;&#23558;&#20197;String&#34920;&#31034;&#30340;&#20540;&#36716;&#21270;&#25104;&#23454;&#38469;&#22797;&#26434;&#30340;&#25968;&#25454;&#31867;&#22411;&#12290;<tt class="classname">CustomEditorConfigurer</tt>&#20316;&#20026;&#19968;&#20010;bean factory&#30340;&#21518;&#32622;&#22788;&#29702;&#22120;&#65292; &#33021;&#22815;&#20415;&#25463;&#22320;&#23558;&#19968;&#20123;&#39069;&#22806;&#30340;<tt class="interfacename">PropertyEditor</tt>&#23454;&#20363;&#21152;&#20837;&#21040;<tt class="interfacename">ApplicationContext</tt>&#20013;&#21435;&#12290;
		</p><p>
			&#32771;&#34385;&#29992;&#25143;&#23450;&#20041;&#30340;&#31867;<tt class="classname">ExoticType</tt>&#21644;<tt class="classname">DependsOnExoticType</tt>&#65292;&#20854;&#20013;&#65292;&#21518;&#32773;&#38656;&#35201;&#23558;&#21069;&#32773;&#35774;&#32622;&#20026;&#23427;&#30340;&#23646;&#24615;&#65306;
		</p><pre class="programlisting">public class ExoticType {

    private String name;

    public ExoticType(String name) {
        this.name = name;
    }
}

public class DependsOnExoticType { 
   
    private ExoticType type;

    public void setType(ExoticType type) {
        this.type = type;
    }
}</pre><p>&#22312;&#19968;&#20999;&#24314;&#31435;&#36215;&#26469;&#20197;&#21518;&#65292;&#25105;&#20204;&#24076;&#26395;&#36890;&#36807;&#25351;&#23450;&#19968;&#20010;&#23383;&#31526;&#20018;&#26469;&#35774;&#32622;type&#23646;&#24615;&#30340;&#20540;&#65292;&#28982;&#21518;<tt class="interfacename">PropertyEditor</tt>&#23558;&#22312;&#24149;&#21518;&#24110;&#20320;&#23558;&#20854;&#36716;&#21270;&#20026;&#23454;&#38469;&#30340;<tt class="classname">ExoticType</tt>&#23545;&#35937;&#65306;</p><pre class="programlisting">&lt;bean id="sample" class="example.DependsOnExoticType"&gt;
    &lt;property name="type" value="aNameForExoticType"/&gt;
&lt;/bean&gt;</pre><p><tt class="interfacename">PropertyEditor</tt>&#30340;&#23454;&#29616;&#30475;&#19978;&#21435;&#23601;&#20687;&#36825;&#26679;&#65306;</p><pre class="programlisting">// converts string representation to ExoticType object
public class ExoticTypeEditor extends PropertyEditorSupport {

    private String format;

    public void setFormat(String format) {
        this.format = format;
    }
    
    public void setAsText(String text) {
        if (format != null &amp;amp;&amp;amp; format.equals("upperCase")) {
            text = text.toUpperCase();
        }
        ExoticType type = new ExoticType(text);
        setValue(type);
    }
}</pre><p>&#26368;&#21518;&#65292;&#25105;&#20204;&#36890;&#36807;&#20351;&#29992;<tt class="classname">CustomEditorConfigurer</tt>&#26469;&#20026;<tt class="interfacename">ApplicationContext</tt>&#27880;&#20876;&#19968;&#20010;&#26032;&#30340;<tt class="interfacename">PropertyEditor</tt>&#65292;&#36825;&#26679;&#65292;&#25105;&#20204;&#23601;&#21487;&#20197;&#22312;&#20219;&#20309;&#38656;&#35201;&#30340;&#22320;&#26041;&#20351;&#29992;&#23427;&#20102;&#65306;</p><pre class="programlisting">&lt;bean id="customEditorConfigurer" 
    class="org.springframework.beans.factory.config.CustomEditorConfigurer"&gt;
  &lt;property name="customEditors"&gt;
    &lt;map&gt;
      &lt;entry key="example.ExoticType"&gt;
        &lt;bean class="example.ExoticTypeEditor"&gt;
          &lt;property name="format" value="upperCase"/&gt;
        &lt;/bean&gt;
      &lt;/entry&gt;
    &lt;/map&gt;
  &lt;/property&gt;
&lt;/bean&gt;</pre></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="beans-beans-other"></a>5.3.3.&nbsp;&#20854;&#20182;&#20540;&#24471;&#19968;&#25552;&#30340;&#29305;&#24615;</h3></div></div><div></div></div><p>&#20851;&#20110;BeanWrapper&#25552;&#20379;&#30340;&#21151;&#33021;&#65292;&#38500;&#20102;&#20320;&#22312;&#21069;&#38754;&#30340;&#31456;&#33410;&#30475;&#21040;&#30340;&#20197;&#22806;&#65292;&#21487;&#33021;&#36824;&#26377;&#19968;&#20123;&#20320;&#24863;&#20852;&#36259;&#30340;&#65292;&#36825;&#37324;&#25105;&#20204;&#23601;&#19981;&#35814;&#32454;&#35762;&#35299;&#20102;&#65306;
         </p><div class="itemizedlist"><ul type="disc" compact><li><p><span class="emphasis"><em>&#21028;&#21035;&#23646;&#24615;&#26159;&#21542;&#21487;&#35835;&#20889;</em></span>&#65306;&#20351;&#29992;<tt class="literal">isReadable()</tt>&#21644;<tt class="literal">isWritable()</tt>&#26041;&#27861;&#21487;&#20197;&#24110;&#21161;&#20320;&#30830;&#23450;&#26576;&#20010;&#23646;&#24615;&#26159;&#21542;&#21487;&#35835;&#25110;&#32773;&#21487;&#20889;&#12290;</p></li><li><p><span class="emphasis"><em>&#33719;&#21462;PropertyDescriptor</em></span>&#65306;&#36890;&#36807;&#20351;&#29992;<tt class="literal">getPropertyDescriptor(String)</tt>&#21644;<tt class="literal">getPropertyDescriptors()</tt>&#26041;&#24335;&#65292;&#20320;&#23558;&#24471;&#21040;&#19968;&#20010;<tt class="literal">java.beans.PropertyDescriptor</tt>&#31867;&#22411;&#30340;&#23545;&#35937;&#65292;&#23427;&#26377;&#26102;&#25110;&#35768;&#23545;&#20320;&#26377;&#20123;&#29992;&#22788;&#12290;</p></li></ul></div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="validator"></a>5.4.&nbsp;&#20351;&#29992;Spring&#30340;Validator&#25509;&#21475;&#36827;&#34892;&#26657;&#39564;</h2></div></div><div></div></div><p>
			&#20320;&#21487;&#20197;&#20351;&#29992;Spring&#25552;&#20379;&#30340;validator&#25509;&#21475;&#36827;&#34892;&#23545;&#35937;&#30340;&#26657;&#39564;&#12290;Validator&#25509;&#21475;&#30340;&#20351;&#29992;&#30456;&#24403;&#30340;&#30452;&#25509;&#65292;&#21516;&#26102;&#23427;&#33021;&#19982;&#19968;&#20010;&#25152;&#35859;&#30340;Errors&#23545;&#35937;&#21327;&#21516;&#24037;&#20316;&#12290;&#25442;&#21477;&#35805;&#35828;&#65292;&#22312;Spring&#20570;&#26657;&#39564;&#30340;&#26102;&#20505;&#65292;&#23427;&#20250;&#23558;&#25152;&#26377;&#30340;&#26657;&#39564;&#38169;&#35823;&#27719;&#24635;&#21040;Errors&#23545;&#35937;&#20013;&#21435;&#12290;
		</p><p>
                        &#27491;&#22914;&#20808;&#21069;&#25152;&#35828;&#65292;Validator&#25509;&#21475;&#30340;&#20351;&#29992;&#30456;&#24403;&#30340;&#30452;&#25509;&#65292;&#20320;&#19981;&#22952;&#23454;&#29616;&#19968;&#19979;&#36825;&#20010;&#25509;&#21475;&#65292;&#32771;&#34385;&#19979;&#38754;&#36825;&#20010;&#31616;&#21333;&#30340;&#25968;&#25454;&#31867;&#65306;


			</p><pre class="programlisting">
public class Person {
  private String name;
  private int age;

  // the usual suspects: getters and setters
}</pre><p>
		</p><p>

                        &#23454;&#29616;<tt class="literal">org.springframework.validation.Validator</tt>&#25509;&#21475;&#65292;&#25105;&#20204;&#23558;&#25552;&#20379;&#23545;<tt class="literal">Person</tt>
&#31867;&#30340;&#26657;&#39564;&#34892;&#20026;&#65292;&#19979;&#38754;&#23601;&#26159;&#36825;&#20010;Validator&#25509;&#21475;&#38656;&#35201;&#23454;&#29616;&#30340;&#26041;&#27861;&#65306;

			</p><div class="itemizedlist"><ul type="disc" compact><li><p><tt class="literal">supports(Class)</tt>&#65306;&#34920;&#31034;&#36825;&#20010;&#26657;&#39564;&#22120;&#26159;&#21542;&#25903;&#25345;&#25552;&#20379;&#30340;object&#12290;</p></li><li><p><tt class="literal">validate(Object, org.springframework.validation.Errors)</tt>&#65306;&#23545;&#25552;&#20379;&#30340;&#23545;&#35937;&#36827;&#34892;&#26657;&#39564;&#65292;&#24182;&#23558;&#26657;&#39564;&#30340;&#38169;&#35823;&#27880;&#20876;&#21040;&#30456;&#24212;&#30340;Errors&#23545;&#35937;&#20013;&#12290;</p></li></ul></div><p>
		</p><p>
                        
                        &#23454;&#29616;&#19968;&#20010;&#26657;&#39564;&#22120;&#20063;&#27604;&#36739;&#31616;&#21333;&#65292;&#23588;&#20854;&#26159;&#24403;&#20320;&#20102;&#35299;Spring&#25152;&#25552;&#20379;&#30340;<tt class="literal">ValidationUtils</tt>&#30340;&#26102;&#20505;&#12290;&#25105;&#20204;&#19968;&#36215;&#26469;&#30475;&#19968;&#19979;&#22914;&#20309;&#25165;&#33021;&#21019;&#24314;&#19968;&#20010;&#26657;&#39564;&#22120;&#12290;

			</p><pre class="programlisting">public class PersonValidator implements Validator {
    
    public boolean supports(Class clazz) {
        return Person.class.equals(clazz);
    }
    
    public void validate(Object obj, Errors e) {
        ValidationUtils.rejectIfEmpty(e, "name", "name.empty");
        Person p = (Person) obj;
        if (p.getAge() &lt; 0) {
            e.rejectValue("age", "negativevalue");
        } else if (p.getAge() &gt; 110) {
            e.rejectValue("age", "tooold");
        }
    }
}</pre><p>

                        &#27491;&#22914;&#20320;&#22312;&#19978;&#38754;&#25152;&#30475;&#21040;&#30340;&#37027;&#26679;&#65292;&#25105;&#20204;&#20351;&#29992;&#20102;<tt class="classname">ValidationUtils</tt>&#20013;&#30340;&#19968;&#20010;<tt class="literal">&#38745;&#24577;</tt>&#26041;&#27861;&#26469;&#23545;name&#23646;&#24615;&#36827;&#34892;&#26657;&#39564;&#12290;&#35831;&#21442;&#29031;<tt class="classname">ValidationUtils</tt>&#30456;&#20851;&#30340;JavaDoc&#65292;&#26597;&#30475;&#19968;&#19979;&#38500;&#20102;&#20363;&#23376;&#20013;&#20171;&#32461;&#36807;&#30340;&#65292;&#20854;&#20182;&#30340;&#19968;&#20123;&#21151;&#33021;&#12290;
		</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="validation-errors"></a>5.5.&nbsp;Errors&#25509;&#21475;</h2></div></div><div></div></div><p>
			&#26657;&#39564;&#38169;&#35823;&#20449;&#24687;&#34987;&#27719;&#24635;&#25104;Errors&#23545;&#35937;&#20256;&#36882;&#21040;validator&#12290;&#22914;&#26524;&#20320;&#20351;&#29992;Spring Web MVC&#26694;&#26550;&#65292;&#20320;&#21487;&#20197;&#36890;&#36807;<tt class="literal">spring:bind</tt>&#36825;&#20010;Tag&#26469;&#33719;&#21462;&#35814;&#32454;&#30340;&#38169;&#35823;&#20449;&#24687;&#12290;&#24403;&#28982;&#20320;&#20063;&#21487;&#20197;&#29992;&#20320;&#33258;&#24049;&#30340;&#26041;&#24335;&#24471;&#21040;&#36825;&#20123;&#38169;&#35823;&#20449;&#24687;&#65292;&#19981;&#36807;Spring&#25552;&#20379;&#30340;&#35775;&#38382;&#26041;&#24335;&#26356;&#30452;&#25509;&#12290;&#26356;&#22810;&#20449;&#24687;&#35831;&#21442;&#29031;JavaDoc&#12290;</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="validation-conversion"></a>5.6.&nbsp;&#20174;&#38169;&#35823;&#20195;&#30721;&#21040;&#38169;&#35823;&#20449;&#24687;</h2></div></div><div></div></div><p>&#25105;&#20204;&#24050;&#32463;&#35752;&#35770;&#20102;&#25968;&#25454;&#32465;&#23450;&#21644;&#26657;&#39564;&#12290;&#26368;&#21518;&#25105;&#20204;&#26469;&#35752;&#35770;&#19968;&#19979;&#19982;&#26657;&#39564;&#38169;&#35823;&#30456;&#23545;&#24212;&#30340;&#38169;&#35823;&#20449;&#24687;&#36755;&#20986;&#12290;&#22312;&#20808;&#21069;&#30340;&#31034;&#20363;&#20013;&#65292;&#25105;&#20204;&#23545;<tt class="literal">name</tt>&#21644;<tt class="literal">age</tt>&#23383;&#27573;&#36827;&#34892;&#20102;&#26657;&#39564;&#24182;&#21457;&#29616;&#20102;&#38169;&#35823;&#12290;&#22914;&#26524;&#25105;&#20204;&#20351;&#29992;<tt class="literal">MessageSource</tt>&#26469;&#36755;&#20986;&#38169;&#35823;&#20449;&#24687;&#65292;&#24403;&#26576;&#20010;&#23383;&#27573;&#26657;&#39564;&#20986;&#38169;&#26102;&#65288;&#22312;&#36825;&#20010;&#20363;&#23376;&#20013;&#26159;name&#21644;age&#65289;&#25105;&#20204;&#36755;&#20986;&#30340;&#26159;&#38169;&#35823;&#20195;&#30721;&#12290;&#26080;&#35770;&#20320;&#30452;&#25509;&#25110;&#32773;&#38388;&#25509;&#20351;&#29992;&#31034;&#20363;&#20013;&#30340;<tt class="literal">ValidationUtils</tt>&#31867;&#26469;&#35843;&#29992;Errors&#25509;&#21475;&#20013;<tt class="literal">rejectValue</tt>&#26041;&#27861;&#25110;&#32773;&#20219;&#20309;&#19968;&#20010;&#20854;&#23427;&#30340;<tt class="literal">reject</tt>&#26041;&#27861;&#65292;&#28508;&#22312;&#30340;&#23454;&#29616;&#19981;&#20165;&#20026;&#20320;&#27880;&#20876;&#20102;&#20320;&#20256;&#20837;&#30340;&#20195;&#30721;&#65292;&#36824;&#21516;&#26102;&#20026;&#20320;&#27880;&#20876;&#20102;&#35768;&#22810;&#39069;&#22806;&#30340;&#38169;&#35823;&#20195;&#30721;&#20449;&#24687;&#12290;&#32780;&#20320;&#20351;&#29992;&#30340;<tt class="literal">MessageCodesResolver</tt>&#23558;&#20915;&#23450;&#31350;&#31455;&#27880;&#20876;&#20160;&#20040;&#26679;&#30340;&#38169;&#35823;&#20195;&#30721;&#12290;&#40664;&#35748;&#24773;&#20917;&#19979;&#65292;&#23558;&#20250;&#20351;&#29992;<tt class="literal">DefaultMessageCodesResolver</tt>&#12290;&#22238;&#21040;&#21069;&#38754;&#30340;&#20363;&#23376;&#65292;&#20351;&#29992;<tt class="literal">DefaultMessageCodesResolver</tt>&#65292;&#19981;&#20165;&#20250;&#20026;&#20320;&#27880;&#20876;&#20320;&#25552;&#20379;&#30340;&#38169;&#35823;&#20195;&#30721;&#20449;&#24687;&#65292;&#21516;&#26102;&#36824;&#21253;&#21547;&#20102;&#20320;&#20256;&#20837;&#21040;reject&#26041;&#27861;&#20013;&#30340;&#23383;&#27573;&#20449;&#24687;&#12290;&#25152;&#20197;&#22312;&#36825;&#20010;&#20363;&#23376;&#20013;&#65292;&#20320;&#36890;&#36807;<tt class="literal">rejectValue("age", "tooold")</tt>&#26469;&#27880;&#20876;&#19968;&#20010;&#23383;&#27573;&#26657;&#39564;&#38169;&#35823;&#12290;Spring&#19981;&#20165;&#20026;&#20320;&#27880;&#20876;&#20102;<tt class="literal">tooold</tt>&#36825;&#20010;&#20195;&#30721;&#65292;&#21516;&#26102;&#36824;&#20026;&#20320;&#27880;&#20876;&#20102;<tt class="literal">tooold.age</tt>&#21644;<tt class="literal">tooold.age.int</tt>&#26469;&#20998;&#21035;&#34920;&#31034;&#23383;&#27573;&#21517;&#31216;&#21644;&#23383;&#27573;&#30340;&#31867;&#22411;&#12290;</p><p>
			&#26356;&#22810;&#26377;&#20851;MessageCodesResolver&#30340;&#20449;&#24687;&#20197;&#21450;&#40664;&#35748;&#30340;&#31574;&#30053;&#21487;&#20197;&#22312;&#32447;&#35775;&#38382;&#30456;&#24212;&#30340;JavaDocs&#65306;
			<a href="http://www.springframework.org/docs/api/org/springframework/validation/MessageCodesResolver.html" target="_top">
				MessageCodesResolver
			</a> &#21644;
			<a href="http://www.springframework.org/docs/api/org/springframework/validation/DefaultMessageCodesResolver.html" target="_top">
				DefaultMessageCodesResolver
			</a>. 
		</p></div><div class="footnotes"><br><hr width="100" align="left"><div class="footnote"><p><sup>[<a name="ftn.d0e5885" href="#d0e5885">3</a>] </sup>&#26356;&#22810;&#30456;&#20851;&#20449;&#24687;&#35831;&#26597;&#30475;<a href="beans.html" title="Chapter&nbsp;3.&nbsp;&#25511;&#21046;&#21453;&#36716;&#23481;&#22120;">the beans</a>&#31456;&#33410;</p></div></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="resources.html">Prev</a>&nbsp;</td><td width="20%" align="center"><a accesskey="u" href="pt01.html">Up</a></td><td width="40%" align="right">&nbsp;<a accesskey="n" href="aop.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Chapter&nbsp;4.&nbsp;&#36164;&#28304;&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top">&nbsp;Chapter&nbsp;6.&nbsp;&#20351;&#29992;Spring&#36827;&#34892;&#38754;&#21521;&#20999;&#38754;&#32534;&#31243;&#65288;AOP&#65289;</td></tr></table></div><div xmlns="http://www.w3.org/TR/xhtml1/transitional" style="background-color:#31430f;border:none;height:50px;border:1px solid black;text-align:center"><table cellspacing="0" cellpadding="0" width="100%" style="margin: 0px; padding: 0px"><tr><td width="50%" style="font-size: 110%; color: white; vertical-align: center; text-align: right">
        				Sponsored by
        			</td><td width="50%" style="padding: 0px"><a style="border:none;background: url();" href="http://www.interface21.com/" title="Brought to you by Interface21"><img style="border: none" src="images/interface21.gif"></a></td></tr></table></div></body>
<!-- Mirrored from www.redsaga.com/spring_ref/2.0RC2/html/validation.html by HTTrack Website Copier/3.x [XR&CO'2005], Tue, 17 Oct 2006 16:56:29 GMT -->
</html>
