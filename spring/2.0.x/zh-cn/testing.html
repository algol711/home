<html>
<!-- Mirrored from www.redsaga.com/spring_ref/2.0RC2/html/testing.html by HTTrack Website Copier/3.x [XR&CO'2005], Tue, 17 Oct 2006 16:56:32 GMT -->
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>Chapter&nbsp;8.&nbsp;&#27979;&#35797;</title><link rel="stylesheet" href="http://www.redsaga.com/spring_ref/2.0RC2/styles/html.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.60.1"><link rel="home" href="index.html" title="Spring Framework &#24320;&#21457;&#21442;&#32771;&#25163;&#20876;"><link rel="up" href="pt01.html" title="Part&nbsp;I.&nbsp;&#26680;&#24515;&#25216;&#26415;"><link rel="previous" href="aop-api.html" title="Chapter&nbsp;7.&nbsp;Spring AOP APIs"><link rel="next" href="pt02.html" title="Part&nbsp;II.&nbsp;&#20013;&#38388;&#23618;&#25968;&#25454;&#35775;&#38382;"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div xmlns="http://www.w3.org/TR/xhtml1/transitional" style="background-color:#31430f;border:none;height:110px;border:1px solid black;"><a style="border:none;background: url();" href="http://www.springframework.org/" title="The Spring Framework"><img style="border:none;" src="images/banner4.jpg"></a><a style="border:none;background: url();" href="http://www.interface21.com/" title="Interface21 - Spring from the Source"><img style="border:none;position:absolute;right:32px;" src="images/bannerR.gif"></a></div><div class="chapter" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="testing"></a>Chapter&nbsp;8.&nbsp;&#27979;&#35797;</h2></div></div><div></div></div>
   <table align="center">
<tr>
<td>
<script type="text/javascript"><!--
google_ad_client = "pub-2627642070897863";
google_ad_width = 336;
google_ad_height = 280;
google_ad_format = "336x280_as";
google_ad_type = "text_image";
//2006-10-13: com_336x280
google_ad_channel = "7652836435";
google_color_border = "FFFFFF";
google_color_bg = "FFFFFF";
google_color_link = "0000FF";
google_color_text = "000000";
google_color_url = "000000";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
<td>
<script type="text/javascript"><!--
google_ad_client = "pub-2627642070897863";
google_ad_width = 336;
google_ad_height = 280;
google_ad_format = "336x280_as";
google_ad_type = "text_image";
//2006-10-13: com_336x280
google_ad_channel = "7652836435";
google_color_border = "FFFFFF";
google_color_bg = "FFFFFF";
google_color_link = "0000FF";
google_color_text = "000000";
google_color_url = "000000";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</tr>
</table>
   <div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="testing-introduction"></a>8.1.&nbsp;&#31616;&#20171;</h2></div></div><div></div></div><p>&#20851;&#20110;&#27979;&#35797;&#65292;&#30340;&#30830;&#26377;&#20154;&#35748;&#20026;&#26080;&#38656;&#22810;&#35828;&#65292;&#20294;&#26159;&#32771;&#34385;&#21040;&#25991;&#31456;&#30340;&#23436;&#20840;&#24615;&#65292;&#25105;&#20204;Spring&#22242;&#38431;&#65288;&#21644;&#24456;&#22810;&#20854;&#20182;&#22242;&#38431;&#19968;&#26679;&#65289;&#25226;&#27979;&#35797;&#24403;&#20570;&#26159;&#25972;&#20010;&#20225;&#19994;&#36719;&#20214;&#24320;&#21457;&#24517;&#19981;&#21487;&#23569;&#30340;&#19968;&#37096;&#20998;&#12290;</p><p>&#26412;&#31456;&#20027;&#35201;&#28041;&#21450;&#21040;&#27979;&#35797;&#12290;&#26377;&#20851;&#20225;&#19994;&#36719;&#20214;&#27979;&#35797;&#30340;&#35814;&#32454;&#35752;&#35770;&#24050;&#32463;&#36229;&#20986;&#20102;&#26412;&#31456;&#65288;&#23454;&#38469;&#19978;&#26159;&#26412;&#25163;&#20876;&#65289;&#30340;&#35752;&#35770;&#33539;&#22260;&#65292;&#25152;&#20197;&#26412;&#31456;&#65288;&#31616;&#35201;&#22320;&#65289;&#35752;&#35770;&#20102;&#37319;&#29992;IoC&#21407;&#21017;&#32473;&#21333;&#20803;&#27979;&#35797;&#24102;&#26469;&#30340;&#20215;&#20540;&#65292;&#24182;&#19988;&#65288;&#20027;&#35201;&#65289;&#19987;&#27880;&#20110;Spring&#26694;&#26550;&#22312;&#38598;&#25104;&#27979;&#35797;&#20013;&#24102;&#26469;&#30340;&#20999;&#23454;&#22909;&#22788;&#12290;</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="unit-testing"></a>8.2.&nbsp;&#21333;&#20803;&#27979;&#35797;</h2></div></div><div></div></div><p>&#37319;&#29992;&#20381;&#36182;&#27880;&#23556;&#30340;&#19968;&#20010;&#20027;&#35201;&#22909;&#22788;&#26159;&#20320;&#30340;&#20195;&#30721;&#23545;&#23481;&#22120;&#30340;&#20381;&#36182;&#23558;&#27604;&#20256;&#32479;J2EE&#24320;&#21457;&#23567;&#30340;&#22810;&#12290;<span class="emphasis"><em>&#26080;&#38656;Spring&#25110;&#20219;&#20309;&#20854;&#20182;&#23481;&#22120;</em></span>&#65292;&#21482;&#35201;&#31616;&#21333;&#22320;&#36890;&#36807; <tt class="literal">new</tt> &#25805;&#20316;&#31526;&#21363;&#21487;&#23454;&#20363;&#21270;&#23545;&#35937;&#65292;&#36890;&#36807;&#36825;&#31181;&#26041;&#24335;&#32452;&#25104;&#20320;&#24212;&#29992;&#30340;POJO&#23545;&#35937;&#23601;&#21487;&#20197;&#20805;&#20998;&#21033;&#29992;JUnit&#36827;&#34892;&#27979;&#35797;&#20102;&#12290;&#20320;&#21487;&#20197;&#20351;&#29992;&#27169;&#25311;&#23545;&#35937;&#25110;&#32773;&#20854;&#20182;&#24456;&#22810;&#26377;&#20215;&#20540;&#30340;&#27979;&#35797;&#25216;&#26415;&#23558;&#20320;&#30340;&#20195;&#30721;&#38548;&#31163;&#36215;&#26469;&#36827;&#34892;&#27979;&#35797;&#12290;&#22914;&#26524;&#20320;&#30340;&#24212;&#29992;&#22312;&#26550;&#26500;&#19978;&#36981;&#24490;&#20102;Spring&#30340;&#24314;&#35758;&#65292;&#37027;&#20040;&#20320;&#30340;&#20195;&#30721;&#23558;&#20250;&#26377;&#28165;&#26224;&#30340;&#23618;&#27425;&#21644;&#39640;&#24230;&#30340;&#27169;&#22359;&#21270;&#65292;&#36825;&#20123;&#37117;&#23558;&#22823;&#22823;&#26041;&#20415;&#21333;&#20803;&#27979;&#35797;&#12290;&#20363;&#22914;&#65292;&#22312;&#21333;&#20803;&#27979;&#35797;&#20013;&#20320;&#21487;&#20197;&#36890;&#36807;&#27979;&#35797;&#26694;&#26550;&#25110;&#32773;&#27169;&#25311;DAO&#25509;&#21475;&#30340;&#26041;&#24335;&#26469;&#27979;&#35797;&#26381;&#21153;&#23618;&#23545;&#35937;&#32780;&#26080;&#38656;&#35775;&#38382;&#25345;&#20037;&#21270;&#25968;&#25454;&#12290;</p><p>&#30495;&#27491;&#30340;&#21333;&#20803;&#27979;&#35797;&#36816;&#34892;&#36215;&#26469;&#36890;&#24120;&#37117;&#38750;&#24120;&#36805;&#36895;&#65292;&#22240;&#20026;&#27809;&#26377;&#24212;&#29992;&#26381;&#21153;&#22120;&#65292;&#25968;&#25454;&#24211;&#65292;ORM&#24037;&#20855;&#31561;&#36816;&#34892;&#35774;&#26045;&#38656;&#35201;&#35774;&#32622;&#12290;&#22240;&#27492;&#21152;&#24378;&#27491;&#30830;&#30340;&#21333;&#20803;&#27979;&#35797;&#21487;&#20197;&#22823;&#22823;&#25552;&#39640;&#20320;&#30340;&#29983;&#20135;&#21147;&#12290; </p><p>&#25152;&#20197;&#24182;&#19981;&#38656;&#35201;&#26412;&#33410;&#26469;&#24110;&#21161;&#20320;&#20026;&#20320;&#30340;&#22522;&#20110;Spring&#30340;&#24212;&#29992;&#32534;&#20889;&#26377;&#25928;&#30340; <span class="emphasis"><em>&#21333;&#20803;</em></span> &#27979;&#35797;&#12290;</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="integration-testing"></a>8.3.&nbsp;&#38598;&#25104;&#27979;&#35797;</h2></div></div><div></div></div><p>&#28982;&#32780;&#65292;&#19981;&#29992;&#23558;&#20320;&#30340;&#24212;&#29992;&#31243;&#24207;&#37096;&#32626;&#21040;&#24212;&#29992;&#26381;&#21153;&#22120;&#19978;&#25110;&#32773;&#23454;&#38469;&#36830;&#25509;&#21040;&#20225;&#19994;&#38598;&#25104;&#31995;&#32479;&#37324;&#23601;&#21487;&#20197;&#36827;&#34892;&#19968;&#20123;&#38598;&#25104;&#27979;&#35797;&#20063;&#24456;&#37325;&#35201;&#12290;&#36825;&#23558;&#20351;&#20320;&#21487;&#20197;&#27979;&#35797;&#20197;&#19979;&#20869;&#23481;&#65306;</p><div class="itemizedlist"><ul type="disc"><li><p>Spring contexts&#35013;&#37197;&#26159;&#21542;&#27491;&#30830;</p></li><li><p>&#20351;&#29992;JDBC&#25110;&#32773;ORM&#24037;&#20855;&#30340;&#25968;&#25454;&#35775;&#38382;&#12290;&#36825;&#23558;&#21253;&#25324;&#35832;&#22914;SQL&#35821;&#21477;&#25110;&#32773;Hibernate&#30340;XML&#26144;&#23556;&#25991;&#20214;&#26159;&#21542;&#27491;&#30830;&#31561;&#31561;&#12290;</p></li></ul></div><p>Spring&#20026;&#38598;&#25104;&#27979;&#35797;&#25552;&#20379;&#20102;&#19968;&#27969;&#30340;&#25903;&#25345;&#12290;&#36825;&#31181;&#19968;&#27969;&#30340;&#25903;&#25345;&#26159;&#36890;&#36807;Spring&#21457;&#34892;&#21253;&#37324; <tt class="literal">spring-mock.jar</tt> &#25991;&#20214;&#20013;&#30340;&#19968;&#20123;&#31867;&#26469;&#25552;&#20379;&#30340;&#12290;&#36825;&#20010;&#24211;&#20013;&#30340;&#31867;&#36828;&#36828;&#30340;&#36229;&#36234;&#20102;Cactus&#31561;&#23481;&#22120;&#20869;&#27979;&#35797;&#24037;&#20855;&#12290;</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="http://www.redsaga.com/spring_ref/2.0RC2/images/admons/note.png"></td><th align="left">Note</th></tr><tr><td colspan="2" align="left" valign="top"><p>&#35831;&#27880;&#24847;&#26412;&#31456;&#20013;&#20854;&#20313;&#22320;&#26041;&#25551;&#36848;&#30340;&#25152;&#26377;&#27979;&#35797;&#31867;&#37117;&#26159;&#22522;&#20110;JUnit&#30340;&#12290;</p></td></tr></table></div><p>&#21253; <tt class="literal">org.springframework.test</tt> &#20026;&#20351;&#29992;Srping&#23481;&#22120;&#36827;&#34892;&#38598;&#25104;&#27979;&#35797;&#25552;&#20379;&#20102;&#26377;&#20215;&#20540;&#30340;&#36229;&#31867;&#65292;&#32780;&#19988;&#21516;&#26102;&#19981;&#29992;&#20381;&#36182;&#20110;&#20219;&#20309;&#24212;&#29992;&#26381;&#21153;&#22120;&#25110;&#32773;&#20854;&#20182;&#37096;&#32626;&#29615;&#22659;&#12290;&#36825;&#20123;&#27979;&#35797;&#21487;&#20197;&#22312;Junit&#20013;&#29978;&#33267;&#26159;&#26576;&#20010;IDE&#20013;&#36816;&#34892;&#32780;&#19981;&#38656;&#35201;&#29305;&#21035;&#30340;&#37096;&#32626;&#27493;&#39588;&#12290;&#20182;&#20204;&#36890;&#24120;&#27604;&#21333;&#20803;&#27979;&#35797;&#35201;&#24930;&#65292;&#20294;&#26159;&#27604;Cactus&#27979;&#35797;&#25110;&#32773;&#38656;&#35201;&#37096;&#32626;&#21040;&#19968;&#20010;&#24212;&#29992;&#26381;&#21153;&#22120;&#19978;&#30340;&#36828;&#31243;&#27979;&#35797;&#35201;&#24555;&#12290;</p><p>&#36825;&#20010;&#21253;&#37324;&#30340;&#21508;&#31181;&#25277;&#35937;&#31867;&#25552;&#20379;&#20102;&#22914;&#19979;&#30340;&#21151;&#33021;&#65306;</p><div class="itemizedlist"><ul type="disc"><li><p>&#21508;&#27979;&#35797;&#26696;&#20363;&#25191;&#34892;&#26399;&#38388;&#30340;Spring IoC&#23481;&#22120;&#32531;&#23384;&#12290;</p></li><li><p>&#27979;&#35797;fixture&#33258;&#36523;&#30340;&#20381;&#36182;&#27880;&#20837;&#12290;</p></li><li><p>&#36866;&#21512;&#38598;&#25104;&#27979;&#35797;&#30340;&#20107;&#21153;&#31649;&#29702;&#12290;</p></li><li><p>&#32487;&#25215;&#32780;&#26469;&#30340;&#23545;&#27979;&#35797;&#26377;&#29992;&#30340;&#21508;&#31181;&#23454;&#20363;&#21464;&#37327;&#12290;</p></li></ul></div><p>2004&#24180;&#21518;&#26080;&#25968;&#30340; <a href="http://www.springframework.com/" target="_top">Interface21</a> &#21644;&#20854;&#20182;&#30340;&#39033;&#30446;&#24050;&#32463;&#26174;&#31034;&#20102;&#36825;&#19968;&#26041;&#27861;&#30340;&#26377;&#25928;&#24615;&#21644;&#21151;&#33021;&#65292;&#35753;&#25105;&#20204;&#20180;&#32454;&#30740;&#31350;&#19968;&#20123;&#37325;&#35201;&#30340;&#21151;&#33021;&#12290;</p><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e9802"></a>8.3.1.&nbsp;Context&#31649;&#29702;&#21644;&#32531;&#23384;</h3></div></div><div></div></div><p>&#21253; <tt class="literal">org.springframework.test</tt> &#25552;&#20379;&#20102;&#19968;&#33268;&#30340;Spring contexts&#21152;&#36733;&#24182;&#19988;&#23545;&#21152;&#36733;&#30340;Context&#25552;&#20379;&#32531;&#23384;&#12290;&#21518;&#32773;&#26159;&#38750;&#24120;&#37325;&#35201;&#30340;&#65292;&#22240;&#20026;&#22914;&#26524;&#20320;&#22312;&#20174;&#20107;&#19968;&#20010;&#22823;&#39033;&#30446;&#26102;&#65292;&#21551;&#21160;&#26102;&#38388;&#21487;&#33021;&#25104;&#20026;&#19968;&#20010;&#38382;&#39064;&#65293;&#65293;&#36825;&#19981;&#26159;Spring&#33258;&#36523;&#30340;&#24320;&#38144;&#65292;&#32780;&#26159;&#34987;Spring&#23481;&#22120;&#23454;&#20363;&#21270;&#30340;&#23545;&#35937;&#22312;&#23454;&#20363;&#21270;&#33258;&#36523;&#26102;&#25152;&#38656;&#35201;&#30340;&#26102;&#38388;&#12290;&#20363;&#22914;&#65292;&#19968;&#20010;&#21253;&#25324;50-100&#20010;Hibernate&#26144;&#23556;&#25991;&#20214;&#30340;&#39033;&#30446;&#21487;&#33021;&#38656;&#35201;10-20&#31186;&#30340;&#26102;&#38388;&#26469;&#21152;&#36733;&#19978;&#36848;&#30340;&#26144;&#23556;&#25991;&#20214;&#65292;&#22914;&#26524;&#22312;&#36816;&#34892;&#27599;&#20010;&#27979;&#35797;fixture&#37324;&#30340;&#27599;&#20010;&#27979;&#35797;&#26696;&#20363;&#21069;&#37117;&#26377;&#36825;&#26679;&#30340;&#24320;&#38144;&#65292;&#23558;&#23548;&#33268;&#25972;&#20010;&#27979;&#35797;&#24037;&#20316;&#30340;&#24310;&#26102;&#65292;&#26368;&#32456;&#26377;&#21487;&#33021;&#65288;&#23454;&#38469;&#19978;&#24456;&#21487;&#33021;&#65289;&#38477;&#20302;&#25928;&#29575;&#12290; </p><p>&#20026;&#20102;&#35299;&#20915;&#36825;&#20010;&#38382;&#39064;&#65292;<tt class="classname">AbstractDependencyInjectionSpringContextTests</tt> &#26377;&#19968;&#20010;&#23376;&#31867;&#24517;&#39035;&#23454;&#29616;&#30340; <tt class="literal">abstract</tt>
				<tt class="literal">protected</tt> &#26041;&#27861;&#26469;&#25552;&#20379;contexts&#30340;&#20301;&#32622;&#65306;</p><pre class="programlisting">protected abstract String[] getConfigLocations();</pre><p>&#36825;&#20010;&#26041;&#27861;&#30340;&#23454;&#29616;&#32773;&#24517;&#39035;&#25552;&#20379;&#19968;&#20010;&#21253;&#21547;XML&#37197;&#32622;&#26684;&#24335;&#30340;&#36164;&#28304;&#20301;&#32622;&#25968;&#32452;-&#36890;&#24120;&#22312;&#31867;&#36335;&#24452;&#19978;&#65293;&#65293;&#29992;&#26469;&#37197;&#32622;&#26412;&#24212;&#29992;&#12290;&#36825;&#23558;&#21644; <tt class="literal">web.xml</tt> &#25110;&#20854;&#20182;&#37096;&#32626;&#37197;&#32622;&#25991;&#20214;&#20013;&#25351;&#23450;&#30340;&#37197;&#32622;&#20301;&#32622;&#21015;&#34920;&#19968;&#26679;&#25110;&#32773;&#31867;&#20284;&#12290;</p><p>&#32570;&#30465;&#24773;&#20917;&#19979;&#65292;&#19968;&#26086;&#21152;&#36733;&#21518;&#65292;&#36825;&#20123;&#37197;&#32622;&#23558;&#34987;&#25152;&#26377;&#30340;&#27979;&#35797;&#26696;&#20363;&#37325;&#29992;&#12290;&#36825;&#26679;&#65292;&#21482;&#26377;&#19968;&#27425;&#35774;&#32622;&#30340;&#24320;&#38144;&#65292;&#38543;&#21518;&#30340;&#27979;&#35797;&#36816;&#34892;&#36215;&#26469;&#23558;&#24555;&#30340;&#22810;&#12290;</p><p>&#22312;&#26576;&#31181;&#26497;&#20598;&#28982;&#30340;&#24773;&#20917;&#19979;&#65292;&#26576;&#20010;&#27979;&#35797;&#21487;&#33021;&#8220;&#24324;&#33039;&#8221;&#20102;&#37197;&#32622;&#22330;&#25152;&#65292;&#24182;&#35201;&#27714;&#37325;&#26032;&#21152;&#36733;&#65293;&#65293;&#20363;&#22914;&#25913;&#21464;&#19968;&#20010;bean&#30340;&#23450;&#20041;&#25110;&#32773;&#19968;&#20010;&#24212;&#29992;&#23545;&#35937;&#30340;&#29366;&#24577;&#65293;&#65293;&#20320;&#21487;&#20197;&#35843;&#29992; <tt class="classname">AbstractDependencyInjectionSpringContextTests</tt> &#19978;&#30340; <tt class="literal">setDirty()</tt> &#26041;&#27861;&#26469;&#37325;&#26032;&#21152;&#36733;&#37197;&#32622;&#24182;&#22312;&#25191;&#34892;&#19979;&#19968;&#20010;&#27979;&#35797;&#26696;&#20363;&#21069;&#37325;&#24314;application context&#12290;</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e9838"></a>8.3.2.&nbsp;&#27979;&#35797;fixture&#30340;&#20381;&#36182;&#27880;&#20837;</h3></div></div><div></div></div><p>&#24403;&#31867; <tt class="classname">AbstractDependencyInjectionSpringContextTests</tt>&#65288;&#21450;&#20854;&#23376;&#31867;&#65289;&#35013;&#36733;&#20320;&#30340;Application Context&#26102;&#65292;&#20182;&#20204;&#21487;&#20197;&#36890;&#36807;Setter&#27880;&#20837;&#20219;&#24847;&#37197;&#32622;&#20320;&#30340;&#27979;&#35797;&#31867;&#30340;&#23454;&#20363;&#12290;&#20320;&#21482;&#38656;&#35201;&#23450;&#20041;&#23454;&#20363;&#21464;&#37327;&#21644;&#30456;&#24212;&#30340;setter&#25805;&#20316;&#12290;<tt class="classname">AbstractDependencyInjectionSpringContextTests</tt>&#23558;&#20174;<tt class="literal">getConfigLocations()</tt>&#26041;&#27861;&#25351;&#23450;&#30340;&#37197;&#32622;&#25991;&#20214;&#20013;&#33258;&#21160;&#26597;&#25214;&#23545;&#24212;&#30340;&#23545;&#35937;&#12290; </p><p>&#35753;&#25105;&#20204;&#22312;&#23454;&#38469;&#36816;&#29992;&#20013;&#25214;&#19968;&#20010;&#20307;&#29616;&#36825;&#20010;&#24378;&#22823;&#21151;&#33021;&#30340;&#31616;&#21333;&#20363;&#23376;&#26469;&#30475;&#30475;&#12290;&#32771;&#34385;&#20197;&#19979;&#24773;&#20917;&#65292;&#27604;&#22914;&#25105;&#20204;&#26377;&#19968;&#20010;&#31867; <tt class="classname">HibernateTitleDao</tt>&#65292;&#25191;&#34892;&#25968;&#25454;&#35775;&#38382;&#36923;&#36753;&#27604;&#22914;&#35828; <tt class="classname">Title</tt> &#39046;&#22495;&#23545;&#35937;&#12290;&#25105;&#20204;&#38656;&#35201;&#32534;&#20889;&#29992;&#20110;&#27979;&#35797;&#20197;&#19979;&#25152;&#26377;&#24773;&#20917;&#30340;&#38598;&#25104;&#27979;&#35797;&#65306;</p><div class="itemizedlist"><ul type="disc"><li><p>Spring&#30340;&#37197;&#32622;&#25991;&#20214;&#65307;&#20363;&#22914;&#26159;&#21542;&#25152;&#26377;&#21644; <tt class="classname">HibernateTitleDao</tt> &#30456;&#20851;&#30340;&#19996;&#35199;&#37117;&#23384;&#22312;&#24182;&#19988;&#27491;&#30830;&#65311;</p></li><li><p>Hibernate&#26144;&#23556;&#37197;&#32622;&#25991;&#20214;&#65307;&#20363;&#22914;&#26159;&#21542;&#25152;&#26377;&#31867;&#37117;&#26144;&#23556;&#27491;&#30830;&#26080;&#35823;&#24182;&#24688;&#24403;&#30340;&#37197;&#32622;&#20102;&#24310;&#26102;&#21152;&#36733;&#65311;</p></li><li><p>
						<tt class="classname">HibernateTitleDao</tt> &#30340;&#36923;&#36753;&#26159;&#21542;&#27491;&#30830;&#65307;&#36825;&#20010;&#31867;&#26159;&#21542;&#25353;&#29031;&#39044;&#26399;&#30340;&#26041;&#24335;&#36816;&#34892;&#65311;</p></li></ul></div><p>&#35753;&#25105;&#20204;&#20808;&#30475;&#19968;&#19979;&#27979;&#35797;&#31867;&#33258;&#36523;&#65288;&#25105;&#20204;&#38543;&#21518;&#23601;&#26597;&#30475;&#25152;&#23646;&#30340;&#37197;&#32622;&#25991;&#20214;&#65289;</p><pre class="programlisting">public class HibernateTitleDaoTests <span class="bold"><b>extends AbstractDependencyInjectionSpringContextTests</b></span>  {

    <i class="lineannotation"><span class="lineannotation">// &#36825;&#20010;&#23454;&#20363;&#23558;&#34987;&#65288;&#33258;&#21160;&#30340;&#65289;&#20381;&#36182;&#27880;&#20837;</span></i>    
    private HibernateTitleDao titleDao;
   
    <i class="lineannotation"><span class="lineannotation">// &#19968;&#20010;&#29992;&#26469;&#23454;&#29616;'titleDao'&#23454;&#20363;&#21464;&#37327;&#20381;&#36182;&#27880;&#20837;&#30340;setter&#26041;&#27861;</span></i>
    public void setTitleDao(HibernateTitleDao titleDao) {
        this.titleDao = titleDao;
    }
    
    public void testLoadTitle() throws Exception {
        Title title = this.titleDao.loadTitle(new Long10));
        assertNotNull(title);
    }

    <i class="lineannotation"><span class="lineannotation">//&#25351;&#23450;Spring&#37197;&#32622;&#25991;&#20214;&#21152;&#36733;&#36825;&#20010;fixture</span></i>
    protected String[] getConfigLocations() {
        return new String[] { "classpath:com/foo/daos.xml" };
    }

}</pre><p>&#34987;&#26041;&#27861; <tt class="literal">getConfigLocations()</tt> &#24341;&#29992;&#30340;&#30456;&#20851;&#25991;&#20214;&#65288;<tt class="literal">'classpath:com/foo/daos.xml'</tt>&#65289;&#30475;&#36215;&#26469;&#21487;&#33021;&#26159;&#36825;&#26679;&#30340;...</p><pre class="programlisting">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;!DOCTYPE beans PUBLIC  "-//SPRING//DTD BEAN//EN"
    "http://www.springframework.org/dtd/http://www.springframework.org/dtd/spring-beans.dtd"&gt;
&lt;beans&gt;

    <i class="lineannotation"><span class="lineannotation">&lt;!-- &#36825;&#20010;bean&#23558;&#34987;&#27880;&#20837;&#21040; <tt class="classname">HibernateTitleDaoTests</tt> &#31867;&#20013; --&gt;</span></i>
    &lt;bean id="titleDao" class="com/foo/dao/hibernate/HibernateTitleDao"&gt;
        &lt;property name="sessionFactory" ref="sessionFactory"/&gt;
    &lt;/bean&gt;
    
    &lt;bean id="sessionFactory" class="org.springframework.orm.hibernate3.LocalSessionFactoryBean"&gt;
        <i class="lineannotation"><span class="lineannotation">&lt;!-- &#20026;&#20102;&#28165;&#26970;&#36215;&#35265;&#65292;&#30456;&#20851;&#20381;&#36182;&#30340;&#23450;&#20041;&#22312;&#36825;&#37324;&#30465;&#30053; --&gt;</span></i>
    &lt;/bean&gt;

&lt;/beans&gt;</pre><p>&#31867; <tt class="classname">AbstractDependencyInjectionSpringContextTests</tt> &#20351;&#29992; <span class="emphasis"><em>&#26681;&#25454;&#31867;&#22411;&#30340;&#33258;&#21160;&#35013;&#37197;&#21151;&#33021;</em></span>&#65288;&#33258;&#21160;&#35013;&#37197;&#30340;&#20869;&#23481;&#21487;&#35265;&#26631;&#39064;&#20026;"&#33258;&#21160;&#35013;&#37197;" <a href="beans.html#beans-factory-autowire" title="3.3.7.&nbsp;&#33258;&#21160;&#35013;&#37197;&#65288;autowire&#65289;&#21327;&#20316;&#32773;">Section&nbsp;3.3.7, &#8220;&#33258;&#21160;&#35013;&#37197;&#65288;autowire&#65289;&#21327;&#20316;&#32773;&#8221;</a> &#30340;&#33410;3.3.7&#65289;&#12290;&#25152;&#20197;&#22914;&#26524;&#20320;&#26377;&#22810;&#20010;bean&#37117;&#23450;&#20041;&#20026;&#19968;&#20010;&#31867;&#22411;&#65292;&#21017;&#23545;&#36825;&#20123;bean&#20320;&#19981;&#33021;&#29992;&#36825;&#20010;&#26041;&#27861;&#12290;&#22312;&#36825;&#31181;&#24773;&#20917;&#19979;&#20320;&#35201;&#20351;&#29992;&#32487;&#25215;&#26469;&#30340; <tt class="literal">applicationContext</tt> &#23454;&#20363;&#21464;&#37327;&#65292;&#24182;&#19988;&#20351;&#29992; <tt class="literal">getBean()</tt> &#26469;&#36827;&#34892;&#26174;&#24335;&#26597;&#25214;&#12290;</p><p>&#22914;&#26524;&#20320;&#30340;&#27979;&#35797;&#26696;&#20363;&#19981;&#20351;&#29992;&#20381;&#36182;&#27880;&#20837;&#65292;&#21482;&#35201;&#19981;&#23450;&#20041;&#20219;&#20309;setters&#26041;&#27861;&#21363;&#21487;&#12290;&#25110;&#32773;&#20320;&#21487;&#20197;&#32487;&#25215; <tt class="classname">AbstractSpringContextTests</tt> &#65293;&#65293;&#36825;&#20010; <tt class="literal">org.springframework.test</tt> &#21253;&#20013;&#30340;&#26681;&#31867;&#12290;&#23427;&#21482;&#21253;&#25324;&#29992;&#26469;&#21152;&#36733;Spring Context&#30340;&#20415;&#21033;&#26041;&#27861;&#24182;&#19988;&#22312;&#27979;&#35797;fixture&#20013;&#19981;&#36827;&#34892;&#20381;&#36182;&#27880;&#20837;&#12290;</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e9935"></a>8.3.3.&nbsp;&#20107;&#21153;&#31649;&#29702;</h3></div></div><div></div></div><p>&#22312;&#37027;&#20123;&#35775;&#38382;&#30495;&#23454;&#25968;&#25454;&#24211;&#30340;&#27979;&#35797;&#20013;&#65292;&#26222;&#36941;&#23384;&#22312;&#30340;&#19968;&#20010;&#38382;&#39064;&#26159;&#27979;&#35797;&#33258;&#36523;&#23545;&#25345;&#20037;&#23384;&#20648;&#30340;&#25968;&#25454;&#20250;&#26377;&#24433;&#21709;&#12290;&#21363;&#20351;&#20320;&#22312;&#20351;&#29992;&#19968;&#20010;&#24320;&#21457;&#29992;&#25968;&#25454;&#24211;&#65292;&#23545;&#25968;&#25454;&#24211;&#30340;&#25913;&#21464;&#37117;&#21487;&#33021;&#24433;&#21709;&#23558;&#26469;&#30340;&#27979;&#35797;&#12290;</p><p>&#24182;&#19988;&#65292;&#35768;&#22810;&#25805;&#20316;&#65293;&#65293;&#27604;&#22914;&#25554;&#20837;&#25110;&#32773;&#25913;&#21464;&#25345;&#20037;&#25968;&#25454;&#65293;&#65293;&#19981;&#21487;&#33021;&#22312;&#20107;&#21153;&#22806;&#23436;&#25104;&#65288;&#25110;&#32773;&#36827;&#34892;&#39564;&#35777;&#65289;&#12290;
				&#36229;&#31867; <tt class="classname">org.springframework.test.AbstractTransactionalDataSourceSpringContextTests</tt>&#65288;&#21450;&#20854;&#23376;&#31867;&#65289;&#23601;&#26159;&#29992;&#26469;&#28385;&#36275;&#36825;&#20010;&#38656;&#35201;&#30340;&#12290;&#32570;&#30465;&#24773;&#20917;&#19979;&#65292;&#23545;&#27599;&#19968;&#20010;&#27979;&#35797;&#26696;&#20363;&#65292;&#20182;&#20204;&#21019;&#24314;&#24182;&#19988;&#22238;&#28378;&#19968;&#20010;&#20107;&#21153;&#12290;&#20320;&#30340;&#20195;&#30721;&#21482;&#35201;&#24403;&#20316;&#36825;&#20010;&#20107;&#21153;&#24050;&#23384;&#22312;&#21363;&#21487;&#65292;&#22914;&#26524;&#20320;&#22312;&#20320;&#30340;&#27979;&#35797;&#20013;&#35843;&#29992;&#20107;&#21153;&#20195;&#29702;&#23545;&#35937;&#65292;&#20182;&#20204;&#23558;&#26681;&#25454;&#20182;&#20204;&#30340;&#20107;&#21153;&#24615;&#35821;&#20041;&#27491;&#30830;&#36816;&#20316;&#12290;</p><p>&#31867; <tt class="classname">AbstractTransactionalSpringContextTests</tt> &#20381;&#36182;&#20110;Application Context&#20013;&#23450;&#20041;&#30340;&#19968;&#20010;bean <tt class="classname">PlatformTransactionManager</tt>&#12290;&#30001;&#20110;&#20351;&#29992;&#20102;&#20381;&#25454;&#31867;&#22411;&#30340;&#33258;&#21160;&#35013;&#37197;&#65292;&#21487;&#20197;&#20219;&#24847;&#21462;&#21517;&#12290;</p><p>&#36890;&#24120;&#20320;&#23558;&#20174; <tt class="classname">AbstractTransactionalDataSourceSpringContextTests</tt> &#32487;&#25215;&#23376;&#31867;&#12290;&#36825;&#20063;&#35201;&#27714;&#26377;&#19968;&#20010; <tt class="classname">DataSource</tt> bean&#23450;&#20041;&#22312;&#37197;&#32622;&#25991;&#20214;&#20013;&#65292;&#19968;&#26679;&#20063;&#21487;&#20197;&#20219;&#24847;&#21462;&#21517;&#12290;&#23427;&#23558;&#21019;&#24314;&#19968;&#20010; <tt class="classname">JdbcTemplate</tt> &#23454;&#20363;&#21464;&#37327;&#29992;&#26469;&#36827;&#34892;&#26041;&#20415;&#30340;&#26597;&#35810;&#24182;&#25552;&#20379;&#20102;&#19968;&#20010;&#21024;&#38500;&#25351;&#23450;&#34920;&#20869;&#23481;&#30340;&#20415;&#21033;&#26041;&#27861;&#65288;&#35760;&#20303;&#32570;&#30465;&#24773;&#20917;&#19979;&#36825;&#20010;&#20107;&#21153;&#23558;&#34987;&#22238;&#28378;&#65292;&#25152;&#20197;&#23545;&#25968;&#25454;&#24211;&#26159;&#23433;&#20840;&#30340;&#65289;&#12290;</p><p>&#22914;&#26524;&#20320;&#38656;&#35201;&#25552;&#20132;&#26576;&#20010;&#20107;&#21153;&#65293;&#65293;&#36825;&#19981;&#22826;&#24120;&#35265;&#65292;&#20294;&#26159;&#22914;&#26524;&#20320;&#38656;&#35201;&#19968;&#20010;&#29305;&#23450;&#30340;&#27979;&#35797;&#26469;&#22635;&#20805;&#25968;&#25454;&#24211;&#26102;&#20250;&#24456;&#26377;&#29992;&#12290;&#20363;&#22914;&#65293;&#65293;&#20320;&#21487;&#20197;&#35843;&#29992;&#20174;&#31867; <tt class="classname">AbstractTransactionalSpringContextTests</tt> &#32487;&#25215;&#26469;&#30340; <tt class="literal">setComplete()</tt> &#26041;&#27861;&#12290;&#36825;&#23558;&#25552;&#20132;&#32780;&#19981;&#26159;&#22238;&#28378;&#20107;&#21153;&#12290;</p><p>&#36890;&#36807;&#35843;&#29992; <tt class="literal">endTransaction()</tt> &#26041;&#27861;&#21487;&#20197;&#22312;&#27979;&#35797;&#26696;&#20363;&#32467;&#26463;&#21069;&#26041;&#20415;&#30340;&#20013;&#27490;&#20107;&#21153;&#12290;&#32570;&#30465;&#24773;&#20917;&#19979;&#23558;&#22238;&#28378;&#35813;&#20107;&#21153;&#65292;&#38500;&#38750;&#22312;&#21069;&#38754;&#35843;&#29992;&#36807; <tt class="literal">setComplete()</tt> &#26041;&#27861;&#26469;&#25552;&#20132;&#20107;&#21153;&#12290;&#36825;&#20010;&#21151;&#33021;&#22312;&#24403;&#20320;&#24819;&#27979;&#35797;'&#26029;&#24320;&#30340;'&#25968;&#25454;&#23545;&#35937;&#34892;&#20026;&#65292;&#27604;&#22914;&#29992;&#20110;web&#23618;&#25110;&#32773;&#22312;&#20107;&#21153;&#22806;&#30340;&#36828;&#31243;&#30340;Hibernate&#26144;&#23556;&#23545;&#35937;&#26102;&#26159;&#24456;&#26377;&#29992;&#30340;&#12290;&#36890;&#24120;&#65292;&#24310;&#36831;&#21152;&#36733;&#38169;&#35823;&#21482;&#33021;&#36890;&#36807;&#30028;&#38754;&#27979;&#35797;&#25165;&#33021;&#21457;&#29616;&#65292;&#22914;&#26524;&#20320;&#35843;&#29992; <tt class="literal">endTransaction()</tt> &#23601;&#21487;&#20197;&#36890;&#36807;JUnit&#27979;&#35797;&#22871;&#20214;&#26469;&#20445;&#35777;&#29992;&#25143;&#30028;&#38754;&#30340;&#27491;&#30830;&#25805;&#20316;&#12290;</p><p>&#36825;&#20123;&#27979;&#35797;&#25903;&#25345;&#31867;&#25353;&#29031;&#21333;&#20010;&#25968;&#25454;&#24211;&#26469;&#35774;&#35745;&#30340;&#12290;</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e9985"></a>8.3.4.&nbsp;&#26041;&#20415;&#30340;&#21464;&#37327;</h3></div></div><div></div></div><p>&#24403;&#20320;&#32487;&#25215; <tt class="classname">AbstractTransactionalDataSourceSpringContextTests</tt> &#31867;&#26102;&#20320;&#23558;&#21487;&#20197;&#35775;&#38382;&#19979;&#21015;&#20445;&#25252;&#24615;&#23454;&#20363;&#21464;&#37327;&#65306;</p><div class="itemizedlist"><ul type="disc"><li><p>&#32487;&#25215;&#33258; <tt class="classname">AbstractDependencyInjectionSpringContextTests</tt> &#36229;&#31867;&#12290;&#21487;&#20197;&#21033;&#29992;&#23427;&#36827;&#34892;&#26174;&#24335;bean&#26597;&#25214;&#65292;&#25110;&#32773;&#20316;&#20026;&#19968;&#20010;&#25972;&#20307;&#26469;&#27979;&#35797;&#36825;&#20010;Context&#30340;&#29366;&#24577;&#12290;</p></li><li><p>
						<tt class="literal">jdbcTemplate</tt>&#65306;&#32487;&#25215;&#33258;<tt class="classname">AbstractTransactionalDataSourceSpringContextTests</tt>&#12290;&#23545;&#30830;&#23450;&#25968;&#25454;&#29366;&#24577;&#30340;&#26597;&#35810;&#24456;&#26377;&#29992;&#12290;&#20363;&#22914;&#65292;&#20320;&#21487;&#33021;&#22312;&#21019;&#24314;&#23545;&#35937;&#24182;&#29992;ORM&#24037;&#20855;&#25345;&#20037;&#21270;&#30340;&#24212;&#29992;&#27979;&#35797;&#20195;&#30721;&#21069;&#21518;&#36827;&#34892;&#27492;&#31181;&#26597;&#35810;&#65292;&#29992;&#26469;&#39564;&#35777;&#25968;&#25454;&#24050;&#32463;&#36827;&#20837;&#25968;&#25454;&#24211;&#12290;&#65288;Spring&#23558;&#30830;&#20445;&#35813;&#26597;&#35810;&#22312;&#21516;&#19968;&#20010;&#20107;&#21153;&#20869;&#25191;&#34892;&#65289;&#12290;&#20026;&#27491;&#24120;&#24037;&#20316;&#20320;&#38656;&#35201;&#21578;&#35785;&#20320;&#30340;ORM&#24037;&#20855;'&#21047;&#26032;'&#23427;&#30340;&#24050;&#25913;&#21464;&#20869;&#23481;&#65292;&#20363;&#22914;&#20351;&#29992;Hibernate <tt class="classname">Session</tt> &#25509;&#21475;&#30340; <tt class="literal">flush()</tt> &#26041;&#27861;&#12290;</p></li></ul></div><p>&#36890;&#24120;&#20320;&#35201;&#20026;&#38598;&#25104;&#27979;&#35797;&#25552;&#20379;&#19968;&#20010;&#22312;&#25972;&#20010;&#24212;&#29992;&#33539;&#22260;&#20869;&#30340;&#21487;&#29992;&#36229;&#31867;&#65292;&#20197;&#20415;&#22312;&#20247;&#22810;&#27979;&#35797;&#20013;&#21487;&#20197;&#25552;&#20379;&#26356;&#26377;&#29992;&#30340;&#23454;&#20363;&#21464;&#37327;&#12290;</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e10017"></a>8.3.5.&nbsp;&#31034;&#20363;</h3></div></div><div></div></div><p>Spring&#21457;&#34892;&#29256;&#37324;&#21253;&#25324;&#30340;PetClinic&#23454;&#20363;&#23637;&#31034;&#20102;&#36825;&#20123;&#27979;&#35797;&#36229;&#31867;&#30340;&#29992;&#27861;&#65288;Spring 1.1.5 &#21450;&#20197;&#19978;&#29256;&#26412;&#65289;&#12290;&#22823;&#22810;&#25968;&#27979;&#35797;&#21151;&#33021;&#22312;<tt class="classname">AbstractClinicTests</tt> &#31867;&#37324;&#65292;&#37096;&#20998;&#20195;&#30721;&#22914;&#19979;&#65306;</p><pre class="programlisting">public abstract class AbstractClinicTests
               extends AbstractTransactionalDataSourceSpringContextTests {

   protected Clinic clinic;


   public void setClinic(Clinic clinic) {
      this.clinic = clinic;
   }


   public void testGetVets() {
      Collection vets = this.clinic.getVets();
      assertEquals('JDBC query must show the same number of vets'&#65292;
         jdbcTemplate.queryForInt('SELECT COUNT(0) FROM VETS')&#65292; 
         vets.size());
      Vet v1 = (Vet) EntityUtils.getById(vets&#65292; Vet.class&#65292; 2);
      assertEquals('Leary'&#65292; v1.getLastName());
      assertEquals(1&#65292; v1.getNrOfSpecialties());
      assertEquals('radiology'&#65292; ((Specialty) v1.getSpecialties().get(0)).getName());
      Vet v2 = (Vet) EntityUtils.getById(vets&#65292; Vet.class&#65292; 3);
      assertEquals('Douglas'&#65292; v2.getLastName());
      assertEquals(2&#65292; v2.getNrOfSpecialties());
      assertEquals('dentistry'&#65292; ((Specialty) v2.getSpecialties().get(0)).getName());
      assertEquals('surgery'&#65292; ((Specialty) v2.getSpecialties().get(1)).getName());
}</pre><p>&#27880;&#24847;&#65306;</p><div class="itemizedlist"><ul type="disc"><li><p>&#36825;&#20010;&#27979;&#35797;&#26696;&#20363;&#20174; <tt class="classname">AbstractTransactionalDataSourceSpringContextTests</tt> &#31867;&#32487;&#25215;&#20102;&#20381;&#36182;&#24615;&#27880;&#20837;&#21644;&#20107;&#21153;&#22788;&#29702;&#34892;&#20026;&#12290;</p></li><li><p>
						<tt class="literal">clinic</tt> &#23454;&#20363;&#21464;&#37327;&#65293;&#65293;&#20063;&#23601;&#26159;&#34987;&#27979;&#35797;&#30340;&#24212;&#29992;&#23545;&#35937;&#65293;&#65293;&#26159;&#36890;&#36807; <tt class="literal">setClinic()</tt> &#26041;&#27861;&#34987;&#20381;&#36182;&#27880;&#20837;&#30340;&#12290;</p></li><li><p>
						<tt class="literal">testGetVets()</tt>&#26041;&#27861;&#23637;&#31034;&#20102;&#32487;&#25215;&#26469;&#30340; <tt class="literal">JdbcTemplate</tt> &#21464;&#37327;&#22914;&#20309;&#29992;&#20110;&#39564;&#35777;&#27491;&#22312;&#34987;&#27979;&#35797;&#30340;&#24212;&#29992;&#20195;&#30721;&#34892;&#20026;&#26159;&#21542;&#27491;&#30830;&#12290;&#36825;&#20801;&#35768;&#26356;&#20005;&#23494;&#30340;&#27979;&#35797;&#24182;&#20943;&#23569;&#20102;&#23545;&#27979;&#35797;&#25968;&#25454;&#30340;&#20381;&#36182;&#12290;&#20363;&#22914;&#65292;&#21487;&#20197;&#22312;&#19981;&#20013;&#27490;&#27979;&#35797;&#30340;&#24773;&#20917;&#19979;&#22312;&#25968;&#25454;&#24211;&#37324;&#22686;&#21152;&#39069;&#22806;&#30340;&#25968;&#25454;&#34892;&#12290;</p></li><li><p>&#21644;&#35768;&#22810;&#38598;&#25104;&#27979;&#35797;&#38656;&#35201;&#20351;&#29992;&#19968;&#20010;&#25968;&#25454;&#24211;&#31867;&#20284;&#65292;&#22823;&#22810;&#25968; <tt class="classname">AbstractClinicTests</tt> &#20013;&#30340;&#27979;&#35797;&#38656;&#35201;&#27979;&#35797;&#21069;&#22312;&#25968;&#25454;&#24211;&#37324;&#26377;&#19968;&#23450;&#30340;&#25968;&#25454;&#37327;&#12290;&#28982;&#32780;&#65292;&#20320;&#20063;&#21487;&#20197;&#36873;&#25321;&#22312;&#27979;&#35797;&#26102;&#25165;&#22635;&#20805;&#25968;&#25454;&#24211;&#65293;&#65293;&#20381;&#28982;&#22312;&#21516;&#19968;&#20010;&#20107;&#21153;&#20013;&#12290;</p></li></ul></div><p>PetClinic&#24212;&#29992;&#25903;&#25345;&#19977;&#31181;&#25968;&#25454;&#35775;&#38382;&#25216;&#26415;&#65293;&#65293;JDBC&#12289;Hibernate&#21644;Apache OJB&#12290;&#22240;&#27492; <tt class="classname">AbstractClinicTests</tt> &#31867;&#33258;&#36523;&#19981;&#25351;&#23450;Context&#20301;&#32622;&#65293;&#65293;&#36825;&#20010;&#25805;&#20316;&#26159;&#22312;&#23376;&#31867;&#20013;&#30340;&#65292;&#36890;&#36807;&#23454;&#29616; <tt class="classname">AbstractDependencyInjectionSpringContextTests</tt> &#20013;&#24517;&#38656;&#23454;&#29616;&#30340;&#20445;&#25252;&#24615;&#25277;&#35937;&#26041;&#27861;&#12290;
			</p><p>&#20363;&#22914;&#65292;&#29992;JDBC&#23454;&#29616;&#30340;PetClinic&#27979;&#35797;&#21253;&#21547;&#22914;&#19979;&#26041;&#27861;&#65306;</p><pre class="programlisting">public class HibernateClinicTests extends AbstractClinicTests {

   protected String[] getConfigLocations() {
      return new String[] { 
         '/org/springframework/samples/petclinic/hibernate/applicationContext-hibernate.xml' 
      };
   }
}</pre><p>&#30001;&#20110;PetClinic&#26159;&#19968;&#20010;&#38750;&#24120;&#31616;&#21333;&#30340;&#24212;&#29992;&#65292;&#21482;&#26377;&#19968;&#20010;Spring&#37197;&#32622;&#25991;&#20214;&#12290;&#32780;&#26356;&#22797;&#26434;&#30340;&#24212;&#29992;&#24448;&#24448;&#35201;&#23558;&#20182;&#20204;&#30340;Spring&#37197;&#32622;&#25991;&#20214;&#20998;&#20026;&#22810;&#20010;&#12290;</p><p>&#38500;&#20102;&#23450;&#20041;&#22312;&#23376;&#31867;&#37324;&#65292;&#20063;&#32463;&#24120;&#22312;&#19968;&#20010;&#36890;&#29992;&#22522;&#31867;&#37324;&#20026;&#25152;&#26377;&#21644;&#24212;&#29992;&#30456;&#20851;&#30340;&#38598;&#25104;&#27979;&#35797;&#23450;&#20041;&#37197;&#32622;&#22330;&#25152;&#12290;&#36825;&#21487;&#33021;&#20063;&#22686;&#21152;&#20102;&#26377;&#29992;&#30340;&#23454;&#20363;&#21464;&#37327;&#65293;&#65293;&#33258;&#28982;&#65292;&#36825;&#26159;&#36890;&#36807;&#20381;&#36182;&#27880;&#20837;&#34987;&#22635;&#20805;&#30340;&#12290;&#27604;&#22914;&#22312;&#20351;&#29992;Hibernate&#30340;&#24212;&#29992;&#37324;&#20351;&#29992;&#30340; <tt class="classname">HibernateTemplate</tt>&#12290;
			</p><p>&#20320;&#24212;&#35813;&#23613;&#21487;&#33021;&#30340;&#22312;&#38598;&#25104;&#27979;&#35797;&#20013;&#20351;&#29992;&#21644;&#27491;&#24335;&#37096;&#32626;&#29615;&#22659;&#20013;&#19968;&#26679;&#30340;Spring&#37197;&#32622;&#25991;&#20214;&#12290;&#23545;&#25968;&#25454;&#24211;&#36830;&#25509;&#27744;&#21644;&#20107;&#21153;&#31649;&#29702;&#21017;&#35201;&#21306;&#21035;&#22788;&#29702;&#12290;&#22914;&#26524;&#20320;&#25171;&#31639;&#25226;&#24212;&#29992;&#37096;&#32626;&#21040;&#19968;&#20010;&#20840;&#21151;&#33021;&#30340;&#24212;&#29992;&#26381;&#21153;&#22120;&#19978;&#65292;&#24456;&#26377;&#21487;&#33021;&#20351;&#29992;&#23427;&#30340;&#36830;&#25509;&#27744;&#65288;&#36890;&#36807;JNDI&#65289;&#21644;JTA&#23454;&#29616;&#12290;&#36825;&#26679;&#22312;&#20135;&#21697;&#20013;&#20320;&#23558;&#20026; <tt class="classname">DataSource</tt>&#65292; &#21644; <tt class="classname">JtaTransactionManager</tt> &#20351;&#29992;&#19968;&#20010; <tt class="classname">JndiObjectFactoryBean</tt> &#12290;&#22312;&#27809;&#26377;&#23481;&#22120;&#30340;&#38598;&#25104;&#27979;&#35797;&#20013;&#65292;&#26080;&#27861;&#33719;JNDI&#21644;JTA&#65292;&#25152;&#20197;&#20320;&#35201;&#20351;&#29992;&#19968;&#20010;&#31867;&#20284;&#20110; <tt class="classname">BasicDataSource</tt> &#21644; <tt class="classname">DataSourceTransactionManager</tt> &#30340;&#36890;&#29992;DBCP&#32452;&#21512;&#25110;&#32773; <tt class="classname">HibernateTransactionManager</tt>&#12290;&#20320;&#21487;&#20197;&#25226;&#21464;&#21160;&#30340;&#36825;&#37096;&#20998;&#25918;&#20837;&#19968;&#20010;&#21333;&#29420;&#30340;XML&#25991;&#20214;&#65292;&#36825;&#26679;&#22312;&#24212;&#29992;&#26381;&#21153;&#22120;&#21644;'&#26412;&#22320;'&#37197;&#32622;&#19979;&#30340;&#36873;&#25321;&#23558;&#21644;&#20854;&#20182;&#22312;&#27979;&#35797;&#29615;&#22659;&#21644;&#20135;&#21697;&#29615;&#22659;&#19979;&#37117;&#19981;&#25913;&#21464;&#30340;&#37197;&#32622;&#38548;&#31163;&#24320;&#26469;&#12290;</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e10099"></a>8.3.6.&nbsp;&#36816;&#34892;&#38598;&#25104;&#27979;&#35797;</h3></div></div><div></div></div><p>&#38598;&#25104;&#27979;&#35797;&#33258;&#28982;&#27604;&#19968;&#33324;&#21333;&#20803;&#27979;&#35797;&#26377;&#26356;&#22810;&#30340;&#29615;&#22659;&#20381;&#36182;&#24615;&#12290;&#36825;&#20123;&#38598;&#25104;&#27979;&#35797;&#26159;&#27979;&#35797;&#30340;&#19968;&#20010;&#34917;&#20805;&#37096;&#20998;&#32780;&#19981;&#26159;&#29992;&#26469;&#20195;&#26367;&#21333;&#20803;&#27979;&#35797;&#30340;&#12290;</p><p>&#36825;&#31181;&#20381;&#36182;&#20027;&#35201;&#26159;&#23545;&#19968;&#20010;&#21253;&#21547;&#24212;&#29992;&#20351;&#29992;&#30340;&#23436;&#25972;&#25968;&#25454;&#27169;&#22411;&#30340;&#24320;&#21457;&#29992;&#25968;&#25454;&#24211;&#12290;&#20063;&#21487;&#20197;&#36890;&#36807;DbUnit&#25110;&#32773;&#20351;&#29992;&#20320;&#30340;&#25968;&#25454;&#24211;&#25552;&#20379;&#30340;&#24037;&#20855;&#26469;&#23548;&#20837;&#27979;&#35797;&#25968;&#25454;&#12290;</p></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="testing-resources"></a>8.4.&nbsp;&#26356;&#22810;&#36164;&#28304;</h2></div></div><div></div></div><p>&#26412;&#33410;&#21253;&#25324;&#20851;&#20110;&#27979;&#35797;&#30340;&#26356;&#22810;&#24120;&#29992;&#36164;&#28304;&#65306;</p><div class="itemizedlist"><ul type="disc"><li><p>
					<a href="http://www.junit.org/index.htm" target="_top">JUnit &#20027;&#39029;</a>
				</p></li><li><p>
					<a href="http://dbunit.sourceforge.net/" target="_top">DbUnit &#20027;&#39029;</a>
				</p></li><li><p>
					<a href="http://grinder.sourceforge.net/" target="_top">Grinder &#20027;&#39029;</a>&#65288;&#21387;&#21147;&#27979;&#35797;&#26694;&#26550;&#65289;</p></li></ul></div></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="aop-api.html">Prev</a>&nbsp;</td><td width="20%" align="center"><a accesskey="u" href="pt01.html">Up</a></td><td width="40%" align="right">&nbsp;<a accesskey="n" href="pt02.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Chapter&nbsp;7.&nbsp;Spring AOP APIs&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top">&nbsp;Part&nbsp;II.&nbsp;&#20013;&#38388;&#23618;&#25968;&#25454;&#35775;&#38382;</td></tr></table></div><div xmlns="http://www.w3.org/TR/xhtml1/transitional" style="background-color:#31430f;border:none;height:50px;border:1px solid black;text-align:center"><table cellspacing="0" cellpadding="0" width="100%" style="margin: 0px; padding: 0px"><tr><td width="50%" style="font-size: 110%; color: white; vertical-align: center; text-align: right">
        				Sponsored by
        			</td><td width="50%" style="padding: 0px"><a style="border:none;background: url();" href="http://www.interface21.com/" title="Brought to you by Interface21"><img style="border: none" src="images/interface21.gif"></a></td></tr></table></div></body>
<!-- Mirrored from www.redsaga.com/spring_ref/2.0RC2/html/testing.html by HTTrack Website Copier/3.x [XR&CO'2005], Tue, 17 Oct 2006 16:56:32 GMT -->
</html>
