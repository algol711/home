<html>
<!-- Mirrored from www.redsaga.com/spring_ref/2.0RC2/html/mvc.html by HTTrack Website Copier/3.x [XR&CO'2005], Tue, 17 Oct 2006 16:56:37 GMT -->
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>Chapter&nbsp;13.&nbsp;Web&#26694;&#26550;</title><link rel="stylesheet" href="http://www.redsaga.com/spring_ref/2.0RC2/styles/html.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.60.1"><link rel="home" href="index.html" title="Spring Framework &#24320;&#21457;&#21442;&#32771;&#25163;&#20876;"><link rel="up" href="pt03.html" title="Part&nbsp;III.&nbsp;Web"><link rel="previous" href="pt03.html" title="Part&nbsp;III.&nbsp;Web"><link rel="next" href="view.html" title="Chapter&nbsp;14.&nbsp;&#38598;&#25104;&#35270;&#22270;&#25216;&#26415;"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div xmlns="http://www.w3.org/TR/xhtml1/transitional" style="background-color:#31430f;border:none;height:110px;border:1px solid black;"><a style="border:none;background: url();" href="http://www.springframework.org/" title="The Spring Framework"><img style="border:none;" src="images/banner4.jpg"></a><a style="border:none;background: url();" href="http://www.interface21.com/" title="Interface21 - Spring from the Source"><img style="border:none;position:absolute;right:32px;" src="images/bannerR.gif"></a></div><div class="chapter" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="mvc"></a>Chapter&nbsp;13.&nbsp;Web&#26694;&#26550;</h2></div></div><div></div></div>
   <table align="center">
<tr>
<td>
<script type="text/javascript"><!--
google_ad_client = "pub-2627642070897863";
google_ad_width = 336;
google_ad_height = 280;
google_ad_format = "336x280_as";
google_ad_type = "text_image";
//2006-10-13: com_336x280
google_ad_channel = "7652836435";
google_color_border = "FFFFFF";
google_color_bg = "FFFFFF";
google_color_link = "0000FF";
google_color_text = "000000";
google_color_url = "000000";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
<td>
<script type="text/javascript"><!--
google_ad_client = "pub-2627642070897863";
google_ad_width = 336;
google_ad_height = 280;
google_ad_format = "336x280_as";
google_ad_type = "text_image";
//2006-10-13: com_336x280
google_ad_channel = "7652836435";
google_color_border = "FFFFFF";
google_color_bg = "FFFFFF";
google_color_link = "0000FF";
google_color_text = "000000";
google_color_url = "000000";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</td>
</tr>
</table>
   <div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="mvc-introduction"></a>13.1.&nbsp;&#20171;&#32461;</h2></div></div><div></div></div><p>Spring&#30340;web&#26694;&#26550;&#26159;&#22260;&#32469;<tt class="classname">DispatcherServlet</tt>&#26469;&#36827;&#34892;&#35774;&#35745;&#30340;&#12290;<tt class="classname">DispatcherServlet</tt>&#30340;&#20316;&#29992;&#26159;&#23558;&#35831;&#27714;&#20998;&#21457;&#21040;&#19981;&#21516;&#30340;&#22788;&#29702;&#22120;&#12290;Spring&#30340;web&#26694;&#26550;&#21253;&#25324;&#21487;&#37197;&#32622;&#30340;&#22788;&#29702;&#22120;&#65288;handler&#65289;&#26144;&#23556;&#12289;&#35270;&#22270;&#65288;view&#65289;&#35299;&#26512;&#12289;&#26412;&#22320;&#21270;&#65288;local&#65289;&#35299;&#26512;&#12289;&#20027;&#39064;&#65288;theme&#65289;&#35299;&#26512;&#20197;&#21450;&#23545;&#19978;&#20256;&#25991;&#20214;&#35299;&#26512;&#12290;&#22788;&#29702;&#22120;&#26159;&#23545;<tt class="interfacename">Controller</tt>&#25509;&#21475;&#30340;&#23454;&#29616;&#65292;&#35813;&#25509;&#21475;&#20165;&#20165;&#23450;&#20041;&#20102;<tt class="literal">ModelAndView  handleRequest(request, response)</tt>&#26041;&#27861;&#12290;&#20320;&#21487;&#20197;&#36890;&#36807;&#23454;&#29616;&#36825;&#20010;&#25509;&#21475;&#26469;&#29983;&#25104;&#33258;&#24049;&#30340;&#25511;&#21046;&#22120;&#65288;&#20063;&#21487;&#20197;&#31216;&#20043;&#20026;&#22788;&#29702;&#22120;&#65289;&#65292;&#20294;&#26159;&#20174;Spring&#25552;&#20379;&#30340;&#19968;&#31995;&#21015;&#25511;&#21046;&#22120;&#32487;&#25215;&#20250;&#26356;&#30465;&#20107;&#65292;&#27604;&#22914;<tt class="classname">AbstractController</tt>&#12289;<tt class="classname">AbstractCommandController</tt>&#21644;<tt class="classname">SimpleFormController</tt>&#12290;&#27880;&#24847;&#65292;&#20320;&#38656;&#35201;&#36873;&#25321;&#27491;&#30830;&#30340;&#22522;&#31867;&#65306;&#22914;&#26524;&#20320;&#27809;&#26377;&#34920;&#21333;&#65292;&#20320;&#23601;&#19981;&#38656;&#35201;&#19968;&#20010;FormController&#12290;&#36825;&#26159;&#21644;Structs&#30340;&#19968;&#20010;&#20027;&#35201;&#21306;&#21035;&#12290;
    </p><div class="sidebar"><a name="mvc-open-for-extension"></a><p class="title"><b>&#8220;<span class="quote">&#36981;&#24490;&#24320;&#38381;&#21407;&#21017;</span>&#8221;</b></p><p>&#36143;&#31359;&#25972;&#20010;Spring web&#26694;&#26550;&#65288;&#29978;&#33267;&#25972;&#20010;Spring&#26694;&#26550;&#65289;&#30340;&#19968;&#20010;&#35774;&#35745;&#21407;&#21017;&#26159;&#65306;&#8220;<span class="quote"><span class="emphasis"><em>&#23545;&#25193;&#23637;&#24320;&#25918;&#65292;&#23545;&#20462;&#25913;&#23553;&#38381;&#65288;&#24320;&#38381;&#21407;&#21017; OCP&#65289;</em></span></span>&#8221;
        </p><p>
		&#25105;&#20204;&#20043;&#25152;&#20197;&#22312;&#36825;&#37324;&#25552;&#21040;&#36825;&#20010;&#35774;&#35745;&#21407;&#21017;&#65292;&#26159;&#22240;&#20026;Spring Web MVC &#26694;&#26550;&#20013;&#26680;&#24515;&#31867;&#30340;&#24456;&#22810;&#26041;&#27861;&#37117;&#34987;&#26631;&#35760;&#25104;<tt class="literal">final</tt>&#12290;&#36825;&#24847;&#21619;&#30528;&#20320;&#19981;&#21487;&#20197;&#36890;&#36807;&#22797;&#20889;&#65288;override)&#26469;&#20462;&#25913;&#36825;&#20123;&#26041;&#27861;&#30340;&#21151;&#33021;&#12290;&#36825;&#26159;&#36981;&#20174;<span class="emphasis"><em>&#24320;&#38381;&#21407;&#21017;&#65288;OCP&#65289;</em></span>&#30340;&#20915;&#23450;&#65292;&#24182;&#19981;&#26159;&#25925;&#24847;&#20993;&#38590;&#24320;&#21457;&#20154;&#21592;&#12290;
		</p><p>&#22312;Seth Ladd&#31561;&#20154;&#25152;&#33879;&#12298;Expert Spring Web MVC and Web Flow&#12299;&#19968;&#20070;&#20013;&#35814;&#32454;&#22320;&#35299;&#37322;&#20102;&#36825;&#20010;&#35774;&#35745;&#21407;&#21017;&#20197;&#21450;&#20026;&#20160;&#20040;&#35201;&#36981;&#23432;&#23427;&#12290;&#22914;&#26524;&#26377;&#20852;&#36259;&#30340;&#35805;&#65292;&#20320;&#21487;&#20197;&#21442;&#32771;&#35813;&#20070;&#31532;&#19968;&#29256;117&#39029;&#12290;&#37027;&#19968;&#37096;&#20998;&#30340;&#26631;&#39064;&#20026;&#8220;A Look At Design&#8221;&#12290;</p><p>&#22914;&#26524;&#20320;&#25214;&#19981;&#21040;&#37027;&#26412;&#20070;&#65292;&#20063;&#21487;&#20197;&#21442;&#32771;&#19979;&#38754;&#36825;&#31687;&#25991;&#26723;&#65306;<a href="http://www.objectmentor.com/publications/ocp.pdf" target="_top">Bob Martin, The Open-Closed Principle (PDF)</a>&#12290;</p></div><p>&#20320;&#21487;&#20197;&#20351;&#29992;&#20219;&#20309;&#23545;&#35937;&#20316;&#20026;&#21629;&#20196;&#23545;&#35937;&#65288;&#25110;&#34920;&#21333;&#23545;&#35937;&#65289;&#65306;&#19981;&#24517;&#23454;&#29616;&#26576;&#20010;&#25509;&#21475;&#25110;&#20174;&#26576;&#20010;&#22522;&#31867;&#32487;&#25215;&#12290;Spring&#30340;&#25968;&#25454;&#32465;&#23450;&#30456;&#24403;&#28789;&#27963;&#65292;&#20363;&#22914;&#65292;&#23427;&#35748;&#20026;&#31867;&#22411;&#19981;&#21305;&#37197;&#36825;&#26679;&#30340;&#38169;&#35823;&#24212;&#35813;&#26159;&#24212;&#29992;&#32423;&#30340;&#39564;&#35777;&#38169;&#35823;&#65292;&#32780;&#19981;&#26159;&#31995;&#32479;&#38169;&#35823;&#12290;&#25152;&#20197;&#20320;&#19981;&#38656;&#35201;&#20026;&#20102;&#20445;&#35777;&#34920;&#21333;&#20869;&#23481;&#30340;&#27491;&#30830;&#25552;&#20132;&#65292;&#32780;&#37325;&#22797;&#23450;&#20041;&#19968;&#20010;&#21644;&#19994;&#21153;&#23545;&#35937;&#26377;&#30456;&#21516;&#23646;&#24615;&#30340;&#34920;&#21333;&#23545;&#35937;&#26469;&#22788;&#29702;&#31616;&#21333;&#30340;&#26080;&#31867;&#22411;&#23383;&#31526;&#20018;&#25110;&#32773;&#23545;&#23383;&#31526;&#20018;&#36827;&#34892;&#36716;&#25442;&#12290;&#36825;&#20063;&#26159;&#21644;Struts&#30456;&#27604;&#30340;&#21478;&#19968;&#20010;&#37325;&#35201;&#21306;&#21035;&#65292;Struts&#26159;&#22260;&#32469;&#35937;<tt class="classname">Action</tt>&#21644;<tt class="classname">ActionForm</tt>&#36825;&#26679;&#30340;&#22522;&#31867;&#26500;&#24314;&#30340;&#12290;</p><p>&#21644;WebWork&#30456;&#27604;&#65292;Spring&#23558;&#23545;&#35937;&#32454;&#20998;&#25104;&#26356;&#22810;&#19981;&#21516;&#30340;&#35282;&#33394;&#65306;&#25511;&#21046;&#22120;&#65288;<tt class="interfacename">Controller</tt>&#65289;&#12289;&#21487;&#36873;&#30340;&#21629;&#20196;&#23545;&#35937;&#65288;Command Object&#65289;&#25110;&#34920;&#21333;&#23545;&#35937;&#65288;Form Object&#65289;&#65292;&#20197;&#21450;&#20256;&#36882;&#21040;&#35270;&#22270;&#30340;&#27169;&#22411;&#65288;Model&#65289;&#12290;&#27169;&#22411;&#19981;&#20165;&#21253;&#21547;&#21629;&#20196;&#23545;&#35937;&#25110;&#34920;&#21333;&#23545;&#35937;&#65292;&#32780;&#19988;&#20063;&#21487;&#20197;&#21253;&#21547;&#20219;&#20309;&#24341;&#29992;&#25968;&#25454;&#12290;&#30456;&#27604;&#20043;&#19979;&#65292;WebWork&#30340;<tt class="interfacename">Action</tt>&#23558;&#25152;&#26377;&#30340;&#36825;&#20123;&#35282;&#33394;&#37117;&#21512;&#24182;&#22312;&#19968;&#20010;&#21333;&#29420;&#30340;&#23545;&#35937;&#37324;&#12290;WebWork&#30340;&#30830;&#20801;&#35768;&#20320;&#22312;&#34920;&#21333;&#20013;&#20351;&#29992;&#29616;&#26377;&#30340;&#19994;&#21153;&#23545;&#35937;&#65292;&#20294;&#26159;&#20320;&#24517;&#39035;&#25226;&#23427;&#20204;&#23450;&#20041;&#25104;&#30456;&#24212;&#30340;<tt class="interfacename">Action</tt>&#31867;&#30340;bean&#23646;&#24615;&#12290;&#26356;&#37325;&#35201;&#30340;&#26159;&#65292;&#22312;&#36827;&#34892;&#35270;&#22270;&#23618;&#65288;View&#65289;&#36816;&#31639;&#21644;&#34920;&#21333;&#36171;&#20540;&#26102;&#65292;WebWork&#20351;&#29992;&#30340;&#26159;&#21516;&#19968;&#20010;&#22788;&#29702;&#35831;&#27714;&#30340;<tt class="interfacename">Action</tt>&#23454;&#20363;&#12290;&#22240;&#27492;&#65292;&#24341;&#29992;&#25968;&#25454;&#20063;&#38656;&#35201;&#34987;&#23450;&#20041;&#25104;<tt class="interfacename">Action</tt>&#30340;bean&#23646;&#24615;&#12290;&#36825;&#26679;&#19968;&#20010;&#23545;&#35937;&#23601;&#25215;&#25285;&#20102;&#22826;&#22810;&#30340;&#35282;&#33394;&#65288;&#24403;&#28982;&#65292;&#23545;&#20110;&#36825;&#20010;&#35266;&#28857;&#20173;&#26377;&#20105;&#35758;&#65289;&#12290;</p><p>Spring&#30340;&#35270;&#22270;&#35299;&#26512;&#30456;&#24403;&#28789;&#27963;&#12290;&#19968;&#20010;&#25511;&#21046;&#22120;&#29978;&#33267;&#21487;&#20197;&#30452;&#25509;&#21521;response&#36755;&#20986;&#19968;&#20010;&#35270;&#22270;&#65288;&#27492;&#26102;&#25511;&#21046;&#22120;&#36820;&#22238;ModelAndView&#30340;&#20540;&#24517;&#39035;&#26159;null&#65289;&#12290;&#22312;&#19968;&#33324;&#30340;&#24773;&#20917;&#19979;&#65292;&#19968;&#20010;ModelAndView&#23454;&#20363;&#21253;&#21547;&#19968;&#20010;&#35270;&#22270;&#21517;&#23383;&#21644;&#19968;&#20010;&#31867;&#22411;&#20026;<tt class="interfacename">Map</tt>&#30340;model&#65292;&#19968;&#20010;model&#26159;&#19968;&#20123;&#20197;bean&#30340;&#21517;&#23383;&#20026;key&#65292;&#20197;bean&#23545;&#35937;&#65288;&#21487;&#20197;&#26159;&#21629;&#20196;&#25110;form&#65292;&#20063;&#21487;&#20197;&#26159;&#20854;&#20182;&#30340;JavaBean&#65289;&#20026;value&#30340;&#21517;&#20540;&#23545;&#12290;&#23545;&#35270;&#22270;&#21517;&#31216;&#30340;&#35299;&#26512;&#22788;&#29702;&#20063;&#26159;&#39640;&#24230;&#21487;&#37197;&#32622;&#30340;&#65292;&#21487;&#20197;&#36890;&#36807;bean&#30340;&#21517;&#23383;&#12289;&#23646;&#24615;&#25991;&#20214;&#25110;&#32773;&#33258;&#23450;&#20041;&#30340;<tt class="interfacename">ViewResolver</tt>&#23454;&#29616;&#26469;&#36827;&#34892;&#35299;&#26512;&#12290;&#23454;&#38469;&#19978;&#22522;&#20110;<tt class="interfacename">Map</tt>&#30340;model&#65288;&#20063;&#23601;&#26159;MVC&#20013;&#30340;M&#65289;&#65289;&#26159;&#39640;&#24230;&#25277;&#35937;&#30340;&#65292;&#36866;&#29992;&#20110;&#21508;&#31181;&#34920;&#29616;&#23618;&#25216;&#26415;&#12290;&#20063;&#23601;&#26159;&#35828;&#65292;&#20219;&#20309;&#34920;&#29616;&#23618;&#37117;&#21487;&#20197;&#30452;&#25509;&#21644;Spring&#38598;&#25104;&#65292;&#26080;&#35770;&#26159;JSP&#12289;Velocity&#36824;&#26159;&#20854;&#23427;&#34920;&#29616;&#23618;&#25216;&#26415;&#12290;Map model&#21487;&#20197;&#34987;&#36716;&#25442;&#25104;&#21512;&#36866;&#30340;&#26684;&#24335;&#65292;&#27604;&#22914;JSP request attribute&#25110;&#32773;Velocity template model&#12290;</p><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="mvc-introduction-pluggability"></a>13.1.1.&nbsp;&#19982;&#20854;&#20182;web&#26694;&#26550;&#30340;&#38598;&#25104;</h3></div></div><div></div></div><p>&#30001;&#20110;&#31181;&#31181;&#21407;&#22240;&#65292;&#35768;&#22810;&#22242;&#38431;&#20542;&#21521;&#20110;&#20351;&#29992;&#20854;&#20182;&#30340;web&#26694;&#26550;&#12290;&#27604;&#22914;&#65292;&#26576;&#20123;&#22242;&#38431;&#24050;&#32463;&#22312;&#20854;&#20182;&#30340;&#25216;&#26415;&#21644;&#24037;&#20855;&#26041;&#38754;&#36827;&#34892;&#20102;&#25237;&#20837;&#65292;&#20182;&#20204;&#24076;&#26395;&#20805;&#20998;&#21033;&#29992;&#24050;&#26377;&#30340;&#32463;&#39564;&#12290;&#21478;&#22806;&#65292;Struts&#19981;&#20165;&#26377;&#22823;&#37327;&#30340;&#20070;&#31821;&#21644;&#24037;&#20855;&#65292;&#32780;&#19988;&#26377;&#35768;&#22810;&#24320;&#21457;&#32773;&#29087;&#24713;&#23427;&#12290;&#22240;&#27492;&#65292;&#22914;&#26524;&#20320;&#33021;&#24525;&#21463;Struts&#30340;&#26550;&#26500;&#24615;&#32570;&#38519;&#65292;&#23427;&#20173;&#28982;&#26159;web&#23618;&#19968;&#20010;&#19981;&#38169;&#30340;&#36873;&#25321;&#12290;WebWork&#21644;&#20854;&#23427;&#30340;web&#26694;&#26550;&#20063;&#26159;&#36825;&#26679;&#12290;</p><p>&#22914;&#26524;&#20320;&#19981;&#24819;&#20351;&#29992;Spring&#30340;web MVC&#26694;&#26550;&#65292;&#20294;&#20173;&#24076;&#26395;&#20351;&#29992;Spring&#25552;&#20379;&#30340;&#20854;&#23427;&#21151;&#33021;&#65292;&#20320;&#21487;&#20197;&#24456;&#23481;&#26131;&#22320;&#23558;&#20320;&#36873;&#25321;&#30340;web&#26694;&#26550;&#21644;Spring&#32467;&#21512;&#36215;&#26469;&#12290;&#21482;&#38656;&#36890;&#36807;Spring&#30340;<tt class="classname">ContextLoadListener</tt>&#21551;&#21160;&#19968;&#20010;root application context&#65292;&#20320;&#23601;&#21487;&#20197;&#22312;Struts&#25110;WebWork&#30340;Action&#20013;&#65292;&#36890;&#36807;<tt class="interfacename">ServletContext</tt>&#23646;&#24615;&#65288;&#25110;&#32773;Spring&#25552;&#20379;&#30340;&#30456;&#24212;&#36741;&#21161;&#26041;&#27861;&#65289;&#36827;&#34892;&#35775;&#38382;&#12290;&#35831;&#27880;&#24847;&#25105;&#20204;&#27809;&#26377;&#25552;&#21040;&#20219;&#20309;&#20855;&#20307;&#30340;&#8220;plugins&#8221;&#65292;&#22240;&#27492;&#20063;&#19981;&#24517;&#25552;&#21450;&#22914;&#20309;&#38598;&#25104;&#12290;&#20174;web&#23618;&#30340;&#35282;&#24230;&#30475;&#65292;&#20320;&#21487;&#20197;&#20197;root application context&#23454;&#20363;&#20026;&#20837;&#21475;&#65292;&#25226;Spring&#20316;&#20026;&#19968;&#20010;library&#20351;&#29992;&#12290;</p><p>&#21363;&#20415;&#20320;&#19981;&#20351;&#29992;Spring&#30340;web&#26694;&#26550;&#65292;&#32463;&#27880;&#20876;&#30340;&#25152;&#26377;bean&#21644;&#25152;&#26377;Spring&#26381;&#21153;&#20173;&#28982;&#21487;&#20197;&#20351;&#29992;&#12290;&#20174;&#36825;&#20010;&#29992;&#27861;&#19978;&#26469;&#35762;&#65292;Spring&#24182;&#27809;&#26377;&#21644;Struts&#25110;WebWork&#31454;&#20105;&#65292;&#23427;&#21482;&#26159;&#25552;&#20379;&#36825;&#20123;&#32431;&#31929;&#30340;web&#26694;&#26550;&#25152;&#27809;&#26377;&#30340;&#21151;&#33021;&#65292;&#20363;&#22914;&#65306;bean&#30340;&#37197;&#32622;&#12289;&#25968;&#25454;&#35775;&#38382;&#21644;&#20107;&#21153;&#22788;&#29702;&#12290;&#22240;&#27492;&#20320;&#21487;&#20197;&#20351;&#29992;Spring&#30340;&#20013;&#38388;&#23618;&#25110;&#32773;&#25968;&#25454;&#35775;&#38382;&#23618;&#26469;&#22686;&#24378;&#20320;&#30340;&#24212;&#29992;&#65292;&#21363;&#20415;&#20320;&#21482;&#26159;&#38656;&#35201;&#20351;&#29992;&#20687;JDBC&#25110;Hibernate&#20107;&#21153;&#25277;&#35937;&#36825;&#26679;&#30340;&#21151;&#33021;&#12290;</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="mvc-features"></a>13.1.2.&nbsp;Spring Web MVC&#26694;&#26550;&#30340;&#29305;&#28857;</h3></div></div><div></div></div><p>Spring Web MVC&#26694;&#26550;&#25552;&#20379;&#20102;&#22823;&#37327;&#29420;&#29305;&#30340;&#21151;&#33021;&#65292;&#21253;&#25324;:</p><div class="itemizedlist"><ul type="disc"><li><p>&#28165;&#26224;&#30340;&#35282;&#33394;&#21010;&#20998;&#65306;&#25511;&#21046;&#22120;&#65288;controller&#65289;&#12289;&#39564;&#35777;&#22120;&#65288;validator&#65289;&#12289;&#21629;&#20196;&#23545;&#35937;&#65288;command object&#65289;&#12289;&#34920;&#21333;&#23545;&#35937;&#65288;form object&#65289;&#12289;&#27169;&#22411;&#23545;&#35937;&#65288;model object&#65289;&#12289;Servlet&#20998;&#21457;&#22120;&#65288;<tt class="classname">DispatcherServlet</tt>&#65289;&#12289;&#22788;&#29702;&#22120;&#26144;&#23556;&#65288;handler mapping&#65289;&#12289;&#35270;&#22270;&#35299;&#26512;&#22120;&#65288;view resolver&#65289;&#31561;&#31561;&#12290; &#27599;&#19968;&#20010;&#35282;&#33394;&#37117;&#21487;&#20197;&#30001;&#19968;&#20010;&#19987;&#38376;&#30340;&#23545;&#35937;&#26469;&#23454;&#29616;&#12290;</p></li><li><p>&#24378;&#22823;&#32780;&#30452;&#25509;&#30340;&#37197;&#32622;&#26041;&#24335;&#65306;&#23558;&#26694;&#26550;&#31867;&#21644;&#24212;&#29992;&#31867;&#37117;&#20316;&#20026;JavaBean&#37197;&#32622;&#65292;&#25903;&#25345;&#22312;&#19968;&#20010;context&#20013;&#24341;&#29992;&#20854;&#20182;context&#30340;&#20013;JavaBean&#65292;&#20363;&#22914;&#65292;&#22312;web&#25511;&#21046;&#22120;&#20013;&#23545;&#19994;&#21153;&#23545;&#35937;&#21644;&#39564;&#35777;&#22120;&#65288;validator&#65289;&#30340;&#24341;&#29992;&#12290;</p></li><li><p>&#21487;&#36866;&#37197;&#12289;&#38750;&#20405;&#20837;&#30340;controller&#65306;&#20320;&#21487;&#20197;&#26681;&#25454;&#19981;&#21516;&#30340;&#24212;&#29992;&#22330;&#26223;&#65292;&#36873;&#25321;&#21512;&#36866;&#30340;&#25511;&#21046;&#22120;&#23376;&#31867;&#65288;simple&#22411;&#12289;command&#22411;&#12289;form&#22411;&#12289;wizard&#22411;&#12289;multi-action&#22411;&#25110;&#32773;&#33258;&#23450;&#20041;&#65289;&#65292;&#32780;&#19981;&#26159;&#20174;&#21333;&#19968;&#25511;&#21046;&#22120;&#65288;&#27604;&#22914;Action/ActionForm&#65289;&#32487;&#25215;&#12290;</p></li><li><p>&#21487;&#37325;&#29992;&#30340;&#19994;&#21153;&#20195;&#30721;&#65306;&#20320;&#21487;&#20197;&#20351;&#29992;&#29616;&#26377;&#30340;&#19994;&#21153;&#23545;&#35937;&#20316;&#20026;&#21629;&#20196;&#25110;&#34920;&#21333;&#23545;&#35937;&#65292;&#32780;&#19981;&#38656;&#35201;&#22312;&#31867;&#20284;ActionForm&#30340;&#23376;&#31867;&#20013;&#37325;&#22797;&#23427;&#20204;&#30340;&#23450;&#20041;&#12290;</p></li><li><p>&#21487;&#23450;&#21046;&#30340;&#32465;&#23450;&#65288;binding&#65289; &#21644;&#39564;&#35777;&#65288;validation&#65289;&#65306;&#27604;&#22914;&#23558;&#31867;&#22411;&#19981;&#21305;&#37197;&#20316;&#20026;&#24212;&#29992;&#32423;&#30340;&#39564;&#35777;&#38169;&#35823;&#65292;&#36825;&#21487;&#20197;&#20445;&#23384;&#38169;&#35823;&#30340;&#20540;&#12290;&#20877;&#27604;&#22914;&#26412;&#22320;&#21270;&#30340;&#26085;&#26399;&#21644;&#25968;&#23383;&#32465;&#23450;&#31561;&#31561;&#12290;&#22312;&#20854;&#20182;&#26576;&#20123;&#26694;&#26550;&#20013;&#65292;&#20320;&#21482;&#33021;&#20351;&#29992;&#23383;&#31526;&#20018;&#34920;&#21333;&#23545;&#35937;&#65292;&#38656;&#35201;&#25163;&#21160;&#35299;&#26512;&#23427;&#24182;&#36716;&#25442;&#21040;&#19994;&#21153;&#23545;&#35937;&#12290;</p></li><li><p>&#21487;&#23450;&#21046;&#30340;handler mapping&#21644;view resolution&#65306;Spring&#25552;&#20379;&#20174;&#26368;&#31616;&#21333;&#30340;&#30340;URL&#26144;&#23556;&#65292;&#21040;&#22797;&#26434;&#30340;&#12289;&#19987;&#29992;&#30340;&#23450;&#21046;&#31574;&#30053;&#12290;&#19982;&#26576;&#20123;MVC&#26694;&#26550;&#24378;&#21046;&#24320;&#21457;&#20154;&#21592;&#20351;&#29992;&#21333;&#19968;&#29305;&#23450;&#25216;&#26415;&#30456;&#27604;&#65292;Spring&#26174;&#24471;&#26356;&#21152;&#28789;&#27963;&#12290;&#28789;&#27963;&#12290;</p></li><li><p>&#28789;&#27963;&#30340;model&#36716;&#25442;&#65306; &#22312;Springweb&#26694;&#26550;&#20013;&#65292;&#20351;&#29992;&#22522;&#20110;<tt class="interfacename">Map</tt>&#30340;&#21517;/&#20540;&#23545;&#26469;&#36798;&#21040;&#36731;&#26131;&#22320;&#19982;&#21508;&#31181;&#35270;&#22270;&#25216;&#26415;&#30340;&#38598;&#25104;&#12290;</p></li><li><p>&#21487;&#23450;&#21046;&#30340;&#26412;&#22320;&#21270;&#21644;&#20027;&#39064;&#65288;theme&#65289;&#35299;&#26512;&#65306;&#25903;&#25345;&#22312;JSP&#20013;&#21487;&#36873;&#25321;&#22320;&#20351;&#29992;Spring&#26631;&#31614;&#24211;&#12289;&#25903;&#25345;JSTL&#12289;&#25903;&#25345;Velocity&#65288;&#19981;&#38656;&#35201;&#39069;&#22806;&#30340;&#20013;&#38388;&#23618;&#65289;&#31561;&#31561;&#12290;</p></li><li><p>&#31616;&#21333;&#32780;&#24378;&#22823;&#30340;JSP&#26631;&#31614;&#24211;(Spring Tag Library)&#65306;&#25903;&#25345;&#21253;&#25324;&#35832;&#22914;&#25968;&#25454;&#32465;&#23450;&#21644;&#20027;&#39064;&#65288;theme&#65289;&#20043;&#31867;&#30340;&#35768;&#22810;&#21151;&#33021;&#12290;&#23427;&#25552;&#20379;&#22312;&#26631;&#35760;&#26041;&#38754;&#30340;&#26368;&#22823;&#28789;&#27963;&#24615;&#12290;&#22914;&#27442;&#20102;&#35299;&#35814;&#24773;&#65292;&#35831;&#21442;&#38405;&#38468;&#24405;<a href="spring.tld.html" title="Appendix&nbsp;D.&nbsp;spring.tld">Appendix&nbsp;D, <i>spring.tld</i></a>		  </p></li><li><p>&#26032;&#22686;&#21152;&#30340;JSP&#34920;&#21333;&#26631;&#31614;&#24211;&#65306;&#22312;Spring2.0&#20013;&#21018;&#21018;&#24341;&#20837;&#30340;&#34920;&#21333;&#26631;&#31614;&#24211;&#65292;&#20351;&#24471;&#22312;JSP&#20013;&#32534;&#20889;&#34920;&#21333;&#26356;&#21152;&#23481;&#26131;&#12290;&#22914;&#27442;&#20102;&#35299;&#35814;&#24773;&#65292;&#35831;&#21442;&#38405;&#38468;&#24405;<a href="spring-form.tld.html" title="Appendix&nbsp;E.&nbsp;spring-form.tld">Appendix&nbsp;E, <i>spring-form.tld</i></a></p></li><li><p>Spring Bean&#30340;&#29983;&#21629;&#21608;&#26399;&#21487;&#20197;&#34987;&#38480;&#21046;&#22312;&#24403;&#21069;&#30340;HTTP Request&#25110;&#32773;HTTP <tt class="interfacename">Session</tt>&#12290;&#20934;&#30830;&#30340;&#35828;&#65292;&#36825;&#24182;&#38750;Spring MVC&#26694;&#26550;&#26412;&#36523;&#29305;&#24615;&#65292;&#32780;&#24212;&#24402;&#23646;&#20110;Sping MVC&#20351;&#29992;&#30340;WebApplicationContext&#23481;&#22120;&#12290;&#35813;&#21151;&#33021;&#22312;<a href="beans.html#beans-factory-scopes-other" title="3.4.3.&nbsp;&#20854;&#20182;&#20316;&#29992;&#22495;">Section&nbsp;3.4.3, &#8220;&#20854;&#20182;&#20316;&#29992;&#22495;&#8221;</a>&#26377;&#35814;&#32454;&#25551;&#36848;&#12290;</p></li></ul></div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="mvc-servlet"></a>13.2.&nbsp;<tt class="classname">DispatcherServlet</tt></h2></div></div><div></div></div><p>&#21644;&#20854;&#23427;web&#26694;&#26550;&#19968;&#26679;&#65292;Spring&#30340;web&#26694;&#26550;&#26159;&#19968;&#20010;&#35831;&#27714;&#39537;&#21160;&#30340;web&#26694;&#26550;&#65292;&#20854;&#35774;&#35745;&#22260;&#32469;&#19968;&#20010;&#20013;&#24515;&#30340;servlet&#36827;&#34892;&#65292;&#23427;&#33021;&#23558;&#35831;&#27714;&#20998;&#21457;&#32473;&#25511;&#21046;&#22120;&#65292;&#24182;&#25552;&#20379;&#20854;&#23427;&#21151;&#33021;&#24110;&#21161;web&#24212;&#29992;&#24320;&#21457;&#12290;&#28982;&#32780;&#65292;Spring&#30340;<tt class="classname">DispatcherServlet</tt>&#25152;&#20570;&#30340;&#19981;&#20165;&#20165;&#26159;&#36825;&#20123;&#65292;&#23427;&#21644;Spring&#30340;IoC&#23481;&#22120;&#23436;&#20840;&#38598;&#25104;&#22312;&#19968;&#36215;&#65292;&#20174;&#32780;&#20801;&#35768;&#20320;&#20351;&#29992;Spring&#30340;&#20854;&#23427;&#21151;&#33021;&#12290;</p><p>&#19979;&#22270;&#23637;&#31034;&#20102;<tt class="classname">DispatcherServlet</tt>&#23545;&#35831;&#27714;&#30340;&#22788;&#29702;&#27969;&#31243;&#12290;&#29087;&#24713;&#35774;&#35745;&#27169;&#24335;&#30340;&#35835;&#32773;&#21487;&#33021;&#20250;&#21457;&#29616;<tt class="classname">DispatcherServlet</tt>&#24212;&#29992;&#20102;&#8220;<span class="quote">Front Controller</span>&#8221;&#36825;&#20010;&#27169;&#24335;&#65288;&#24456;&#22810;&#20854;&#20182;&#30340;&#20027;&#27969;web&#26694;&#26550;&#20063;&#37117;&#29992;&#21040;&#20102;&#36825;&#20010;&#27169;&#24335;&#65289;&#12290;
	</p><p>
		</p><div class="mediaobject" align="center"><img src="images/mvc.png" align="middle"><div class="caption"><p>Spring Web MVC&#22788;&#29702;&#35831;&#27714;&#30340;&#24037;&#20316;&#27969;&#31243;</p></div></div><p>
	</p><p><tt class="classname">DispatcherServlet</tt>&#23454;&#38469;&#19978;&#26159;&#19968;&#20010;<tt class="interfacename">Servlet</tt>(&#23427;&#20174;<tt class="classname">HttpServlet</tt>&#32487;&#25215;&#32780;&#26469;)&#12290;&#21644;&#20854;&#23427;Servlet&#19968;&#26679;&#65292;<tt class="classname">DispatcherServlet</tt>&#23450;&#20041;&#22312;web&#24212;&#29992;&#30340;<tt class="literal">web.xml</tt>&#25991;&#20214;&#37324;&#12290;DispatcherServlet&#22788;&#29702;&#30340;&#35831;&#27714;&#24517;&#39035;&#22312;&#21516;&#19968;&#20010;<tt class="literal">web.xml</tt>&#25991;&#20214;&#37324;&#20351;&#29992;url-mapping&#23450;&#20041;&#26144;&#23556;&#12290;&#19979;&#38754;&#30340;&#20363;&#23376;&#28436;&#31034;&#20102;&#22914;&#20309;&#37197;&#32622;<tt class="classname">DispatcherServlet</tt>&#12290;</p><pre class="programlisting">&lt;web-app&gt;

    &lt;servlet&gt;
        &lt;servlet-name&gt;example&lt;/servlet-name&gt;
        &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;
        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;
    &lt;/servlet&gt;

    &lt;servlet-mapping&gt;
        &lt;servlet-name&gt;example&lt;/servlet-name&gt;
        &lt;url-pattern&gt;*.form&lt;/url-pattern&gt;
    &lt;/servlet-mapping&gt;

&lt;/web-app&gt;</pre><p>&#22312;&#19978;&#38754;&#30340;&#20363;&#23376;&#37324;&#65292;&#25152;&#26377;&#20197;<tt class="literal">.form</tt>&#32467;&#23614;&#30340;&#35831;&#27714;&#37117;&#20250;&#30001;&#21517;&#20026;<tt class="literal">example</tt>&#30340;<tt class="classname">DispatcherServlet</tt>&#22788;&#29702;&#12290;&#36825;&#21482;&#26159;&#37197;&#32622;Spring Web MVC&#30340;&#31532;&#19968;&#27493;&#12290;&#25509;&#19979;&#26469;&#38656;&#35201;&#37197;&#32622;<tt class="classname">DispatcherServlet</tt>&#26412;&#36523;&#21644;Spring Web MVC &#26694;&#26550;&#29992;&#21040;&#30340;&#20854;&#20182;&#30340;bean&#12290;</p><p>&#27491;&#22914;&#22312;<a href="beans.html#context-introduction" title="3.8.&nbsp;ApplicationContext">Section&nbsp;3.8, &#8220;ApplicationContext&#8221;</a>&#20013;&#25152;&#25551;&#36848;&#30340;&#65292;Spring&#20013;&#30340;<tt class="interfacename">ApplicationContext</tt>&#21487;&#20197;&#34987;&#38480;&#21046;&#22312;&#19981;&#21516;&#30340;&#20316;&#29992;&#22495;&#65288;scope&#65289;&#20013;&#12290;&#22312;web MVC&#26694;&#26550;&#20013;&#65292;&#27599;&#20010;<tt class="classname">DispatcherServlet</tt>&#26377;&#23427;&#33258;&#24049;&#30340;<tt class="interfacename">WebApplicationContext</tt>&#65292;&#36825;&#20010;context&#32487;&#25215;&#20102;&#26681; <tt class="interfacename">WebApplicationContext</tt>&#30340;&#25152;&#26377;bean&#23450;&#20041;&#12290;&#36825;&#20123;&#32487;&#25215;&#30340;bean&#20063;&#21487;&#20197;&#22312;&#27599;&#20010;serlvet&#33258;&#24049;&#30340;&#25152;&#23646;&#30340;&#22495;&#20013;&#34987;&#35206;&#30422;&#65288;override&#65289;&#65292;&#35206;&#30422;&#21518;&#30340;bean&#21487;&#20197;&#34987;&#35774;&#32622;&#25104;&#21482;&#26377;&#36825;&#20010;servlet&#23454;&#20363;&#33258;&#24049;&#25165;&#21487;&#20197;&#20351;&#29992;&#30340;&#23646;&#24615;&#12290;</p><p>
		</p><div class="mediaobject" align="center"><img src="images/mvc-contexts.gif" align="middle"><div class="caption"><p>Spring Web MVC&#20013;&#30340;Context&#20307;&#31995;</p></div></div><p>
	</p><p>&#22312;<tt class="classname">DispatcherServlet</tt>&#30340;&#21021;&#22987;&#21270;&#36807;&#31243;&#20013;&#65292;Spring&#20250;&#22312;web&#24212;&#29992;&#30340;<tt class="literal">WEB-INF</tt>&#25991;&#20214;&#22841;&#19979;&#23547;&#25214;&#21517;&#20026;<tt class="literal">[servlet-name]-servlet.xml</tt>&#30340;&#37197;&#32622;&#25991;&#20214;&#65292;&#29983;&#25104;&#25991;&#20214;&#20013;&#23450;&#20041;&#30340;bean&#12290;&#36825;&#20123;bean&#20250;&#35206;&#30422;&#22312;&#20840;&#23616;&#33539;&#22260;&#65288;global cope&#65289;&#20013;&#23450;&#20041;&#30340;&#21516;&#21517;&#30340;bean&#12290;</p><p>&#19979;&#38754;&#36825;&#20010;&#20363;&#23376;&#23637;&#31034;&#20102;&#22312;<tt class="literal">web.xml</tt>&#20013;<tt class="classname">DispatcherServlet</tt>&#30340;&#37197;&#32622;&#65306;</p><pre class="programlisting">&lt;web-app&gt;
    ...
    &lt;servlet&gt;
        &lt;servlet-name&gt;<span class="bold"><b>golfing</b></span>&lt;/servlet-name&gt;
        &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;
        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;
    &lt;/servlet&gt;
    &lt;servlet-mapping&gt;
        &lt;servlet-name&gt;<span class="bold"><b>golfing</b></span>&lt;/servlet-name&gt;
        &lt;url-pattern&gt;*.do&lt;/url-pattern&gt;
    &lt;/servlet-mapping&gt;
&lt;/web-app&gt;</pre><p>&#35201;&#36827;&#34892;&#22914;&#19978;&#30340;servlet&#37197;&#32622;&#65292;&#20320;&#36824;&#38656;&#35201;&#37197;&#32622;<tt class="literal">/WEB-INF/<span class="bold"><b>golfing</b></span>-servlet.xml</tt>&#36825;&#26679;&#19968;&#20010;&#25991;&#20214;&#12290;golfing-servlet.xml&#36825;&#20010;&#25991;&#20214;&#24212;&#35813;&#22768;&#26126;&#20320;&#22312;<span class="emphasis"><em>Spring Web MVC &#26694;&#26550;&#20013;</em></span>&#38656;&#35201;&#30340;bean&#12290; &#36825;&#20010;&#25991;&#20214;&#30340;&#36335;&#24452;&#20063;&#21487;&#20197;&#36890;&#36807;web.xml&#20013;servlet&#30340;&#21021;&#22987;&#21270;&#21442;&#25968;&#26469;&#26356;&#25913;&#12290;&#65288;&#35814;&#24773;&#35265;&#19979;&#38754;&#30340;&#20363;&#23376;&#12290;&#65289;</p><p><tt class="interfacename">WebApplicationContext</tt>&#20165;&#20165;&#26159;&#19968;&#20010;&#25317;&#26377;web&#24212;&#29992;&#24517;&#35201;&#21151;&#33021;&#30340;&#26222;&#36890;<tt class="interfacename">ApplicationContext</tt>&#12290;&#23427;&#19982;&#19968;&#20010;&#26631;&#20934;&#30340;<tt class="interfacename">ApplicationContext</tt>&#30340;&#19981;&#21516;&#20043;&#22788;&#22312;&#20110;&#65292;&#23427;&#33021;&#22815;&#35299;&#26512;theme&#65288;&#21442;&#32771;<a href="mvc.html#mvc-themeresolver" title="13.7.&nbsp;&#20351;&#29992;&#20027;&#39064;">Section&nbsp;13.7, &#8220;&#20351;&#29992;&#20027;&#39064;&#8221;</a>&#65289;&#65292;&#24182;&#19988;&#23427;&#30693;&#36947;&#33258;&#24049;&#19982;&#21738;&#20010;servlet&#30456;&#20851;&#32852;&#65288;&#36890;&#36807;<tt class="interfacename">ServletContext</tt>&#65289;&#12290;<tt class="interfacename">WebApplicationContext</tt>&#34987;&#32465;&#23450;&#22312;<tt class="interfacename">ServletContext</tt>&#19978;&#65292;&#24403;&#20320;&#38656;&#35201;&#30340;&#26102;&#20505;&#65292;&#21487;&#20197;&#20351;&#29992;<tt class="classname">RequestContextUtils</tt>&#25552;&#20379;&#30340;&#38745;&#24577;&#26041;&#27861;&#25214;&#21040;<tt class="interfacename">WebApplicationContext</tt>&#12290;</p><p>Spring&#30340;<tt class="classname">DispatcherServlet</tt>&#26377;&#19968;&#32452;&#29305;&#27530;&#30340;bean&#65292;&#29992;&#26469;&#22788;&#29702;&#35831;&#27714;&#21644;&#28210;&#26579;&#30456;&#24212;&#30340;&#35270;&#22270;&#12290;&#36825;&#20123;bean&#21253;&#21547;&#22312;Spring&#30340;&#26694;&#26550;&#37324;&#65292;&#21487;&#20197;&#22312;<tt class="interfacename">WebApplicationContext</tt>&#20013;&#37197;&#32622;&#65292;&#37197;&#32622;&#26041;&#24335;&#19982;&#37197;&#32622;&#20854;&#23427;bean&#30456;&#21516;&#12290;&#36825;&#20123;bean&#20013;&#30340;&#27599;&#19968;&#20010;&#37117;&#22312;&#19979;&#25991;&#20316;&#35814;&#32454;&#25551;&#36848;&#12290;&#27492;&#21051;&#35835;&#32773;&#21482;&#38656;&#30693;&#36947;&#23427;&#20204;&#30340;&#23384;&#22312;&#65292;&#20415;&#32487;&#32493;&#23545;DispatcherServlet&#36827;&#34892;&#35752;&#35770;&#12290;&#23545;&#22823;&#22810;&#25968;bean&#65292;Spring&#37117;&#25552;&#20379;&#20102;&#21512;&#29702;&#30340;&#32570;&#30465;&#20540;&#65292;&#25152;&#20197;&#22312;&#24320;&#22987;&#38454;&#27573;&#65292;&#20320;&#19981;&#24517;&#25285;&#24515;&#22914;&#20309;&#23545;&#20854;&#36827;&#34892;&#37197;&#32622;&#12290;</p><div class="table"><a name="d0e15570"></a><p class="title"><b>Table&nbsp;13.1.&nbsp;<tt class="interfacename">WebApplicationContext</tt>&#20013;&#29305;&#27530;&#30340;bean</b></p><table summary="WebApplicationContext&#20013;&#29305;&#27530;&#30340;bean" border="1"><colgroup><col><col></colgroup><thead><tr><th>&#21517;&#31216;</th><th>&#25551;&#36848;</th></tr></thead><tbody><tr><td>&#25511;&#21046;&#22120;(Controller)</td><td><a href="mvc.html#mvc-controller" title="13.3.&nbsp;&#25511;&#21046;&#22120;">&#25511;&#21046;&#22120;</a> &#23454;&#29616;&#30340;&#26159;MVC&#20013;<tt class="literal">C</tt> &#37027;&#20010;&#32452;&#25104;&#37096;&#20998;&#12290;
			</td></tr><tr><td>&#22788;&#29702;&#22120;&#26144;&#23556;(Handler mapping)</td><td><a href="mvc.html#mvc-handlermapping" title="13.4.&nbsp;&#22788;&#29702;&#22120;&#26144;&#23556;&#65288;handler mapping&#65289;">&#22788;&#29702;&#22120;&#26144;&#23556;</a>&#21253;&#21547;&#39044;&#22788;&#29702;&#22120;&#65288;pre-processor&#65289;&#65292;&#21518;&#22788;&#29702;&#22120;&#65288;post-processor&#65289;&#21644;&#25511;&#21046;&#22120;&#30340;&#21015;&#34920;&#65292;&#23427;&#20204;&#22312;&#31526;&#21512;&#26576;&#31181;&#26465;&#20214;&#26102;&#25165;&#34987;&#25191;&#34892;&#65288;&#20363;&#22914;&#31526;&#21512;&#25511;&#21046;&#22120;&#25351;&#23450;&#30340;URL&#65289;&#12290;
			</td></tr><tr><td>&#35270;&#22270;&#35299;&#26512;&#22120;(View resolvers)</td><td><a href="mvc.html#mvc-viewresolver" title="13.5.&nbsp;&#35270;&#22270;&#19982;&#35270;&#22270;&#35299;&#26512;">&#35270;&#22270;&#35299;&#26512;&#22120;</a> &#21487;&#20197;&#23558;&#35270;&#22270;&#21517;&#35299;&#26512;&#20026;&#23545;&#24212;&#30340;&#35270;&#22270;&#12290;
			</td></tr><tr><td>&#26412;&#22320;&#21270;&#35299;&#26512;&#22120;(Locale resolver)</td><td><a href="mvc.html#mvc-localeresolver" title="13.6.&nbsp;&#26412;&#22320;&#21270;&#35299;&#26512;&#22120;">&#26412;&#22320;&#21270;&#35299;&#26512;&#22120;</a>&#33021;&#22815;&#35299;&#26512;&#29992;&#25143;&#27491;&#22312;&#20351;&#29992;&#30340;&#26412;&#22320;&#21270;&#35774;&#32622;&#65292;&#20197;&#25552;&#20379;&#22269;&#38469;&#21270;&#35270;&#22270;&#12290;
			</td></tr><tr><td>&#20027;&#39064;&#35299;&#26512;&#22120;(Theme resolver)</td><td><a href="mvc.html#mvc-themeresolver" title="13.7.&nbsp;&#20351;&#29992;&#20027;&#39064;">&#20027;&#39064;&#35299;&#26512;&#22120;</a>&#33021;&#22815;&#35299;&#26512;&#20320;&#30340;web&#24212;&#29992;&#25152;&#20351;&#29992;&#30340;&#20027;&#39064;&#65292;&#20197;&#25552;&#20379;&#20010;&#24615;&#21270;&#30340;&#24067;&#23616;&#12290;
			</td></tr><tr><td>&#19978;&#20256;&#25991;&#20214;&#35299;&#26512;&#22120;(multipart file resolver)</td><td><a href="mvc.html#mvc-multipart" title="13.8.&nbsp;Spring&#23545;&#20998;&#27573;&#25991;&#20214;&#19978;&#20256;&#65288;multipart file upload&#65289;&#30340;&#25903;&#25345;">&#19978;&#20256;&#25991;&#20214;&#35299;&#26512;&#22120;</a>&#25552;&#20379;HTML&#34920;&#21333;&#25991;&#20214;&#19978;&#20256;&#21151;&#33021;&#12290;
			</td></tr><tr><td>&#22788;&#29702;&#22120;&#24322;&#24120;&#35299;&#26512;&#22120;(Handler exception resolver(s))</td><td><a href="mvc.html#mvc-exceptionhandlers" title="13.10.&nbsp;&#22788;&#29702;&#24322;&#24120;">&#22788;&#29702;&#22120;&#24322;&#24120;&#35299;&#26512;&#22120;</a>&#21487;&#20197;&#23558;&#24322;&#24120;&#23545;&#24212;&#21040;&#35270;&#22270;,&#25110;&#32773;&#23454;&#29616;&#26356;&#21152;&#22797;&#26434;&#30340;&#24322;&#24120;&#22788;&#29702;&#20195;&#30721;&#12290;
			</td></tr></tbody></table></div><p>&#24403;<tt class="classname">DispatcherServlet</tt>&#37197;&#32622;&#22909;&#20197;&#21518;&#65292;<tt class="classname">DispatcherServlet</tt>&#25509;&#25910;&#21040;&#19982;&#20854;&#23545;&#24212;&#30340;&#35831;&#27714;&#20043;&#26102;&#65292;&#22788;&#29702;&#23601;&#24320;&#22987;&#20102;&#12290;&#19979;&#38754;&#30340;&#21015;&#34920;&#25551;&#36848;&#20102;<tt class="classname">DispatcherServlet</tt>&#22788;&#29702;&#35831;&#27714;&#30340;&#20840;&#36807;&#31243;&#65306;
	</p><div class="orderedlist"><ol type="1"><li><p>&#25214;&#21040;<tt class="interfacename">WebApplicationContext</tt>&#24182;&#23558;&#20854;&#32465;&#23450;&#21040;&#35831;&#27714;&#30340;&#19968;&#20010;&#23646;&#24615;&#19978;&#65292;&#20197;&#20415;&#25511;&#21046;&#22120;&#21644;&#22788;&#29702;&#38142;&#19978;&#30340;&#20854;&#23427;&#22788;&#29702;&#22120;&#33021;&#20351;&#29992;<tt class="interfacename">WebApplicationContext</tt>&#12290;&#40664;&#35748;&#30340;&#23646;&#24615;&#21517;&#20026;DispatcherServlet.WEB_APPLICATION_CONTEXT_ATTRIBUTE&#12290;</p></li><li><p>&#23558;&#26412;&#22320;&#21270;&#35299;&#26512;&#22120;&#65288;localResolver&#65289;&#32465;&#23450;&#21040;&#35831;&#27714;&#19978;&#65292;&#36825;&#26679;&#20351;&#24471;&#22788;&#29702;&#38142;&#19978;&#30340;&#22788;&#29702;&#22120;&#22312;&#22788;&#29702;&#35831;&#27714;&#65288;&#20934;&#22791;&#25968;&#25454;&#12289;&#26174;&#31034;&#35270;&#22270;&#31561;&#31561;&#65289;&#26102;&#33021;&#36827;&#34892;&#26412;&#22320;&#21270;&#22788;&#29702;&#12290;&#33509;&#19981;&#20351;&#29992;&#26412;&#22320;&#21270;&#35299;&#26512;&#22120;&#65292;&#20063;&#19981;&#20250;&#26377;&#20219;&#20309;&#21103;&#20316;&#29992;&#65292;&#22240;&#27492;&#22914;&#26524;&#19981;&#38656;&#35201;&#26412;&#22320;&#21270;&#35299;&#26512;&#65292;&#24573;&#30053;&#23427;&#23601;&#21487;&#20197;&#20102;&#12290;</p></li><li><p>&#23558;&#20027;&#39064;&#35299;&#26512;&#22120;&#32465;&#23450;&#21040;&#35831;&#27714;&#19978;&#65292;&#36825;&#26679;&#35270;&#22270;&#21487;&#20197;&#20915;&#23450;&#20351;&#29992;&#21738;&#20010;&#20027;&#39064;&#12290;&#22914;&#26524;&#20320;&#19981;&#38656;&#35201;&#20027;&#39064;&#65292;&#21487;&#20197;&#24573;&#30053;&#23427;&#12290;</p></li><li><p>&#22914;&#26524;&#19978;&#20256;&#25991;&#20214;&#35299;&#26512;&#22120;&#34987;&#25351;&#23450;&#65292;Spring&#20250;&#26816;&#26597;&#27599;&#20010;&#25509;&#25910;&#21040;&#30340;&#35831;&#27714;&#26159;&#21542;&#23384;&#22312;&#19978;&#20256;&#25991;&#20214;&#65292;&#22914;&#26524;&#26159;&#65292;&#36825;&#20010;&#35831;&#27714;&#23558;&#34987;&#23553;&#35013;&#25104;<tt class="classname">MultipartHttpServletRequest</tt>&#20197;&#20415;&#34987;&#22788;&#29702;&#38142;&#20013;&#30340;&#20854;&#23427;&#22788;&#29702;&#22120;&#20351;&#29992;&#12290;&#65288;&#20851;&#20110;&#25991;&#20214;&#19978;&#20256;&#30340;&#26356;&#22810;&#20869;&#23481;&#35831;&#21442;&#32771;<a href="mvc.html#mvc-multipart-resolver" title="13.8.2.&nbsp;&#20351;&#29992;MultipartResolver">Section&nbsp;13.8.2, &#8220;&#20351;&#29992;MultipartResolver&#8221;</a>&#12290;&#65289;</p></li><li><p>&#25214;&#21040;&#21512;&#36866;&#30340;&#22788;&#29702;&#22120;&#65292;&#25191;&#34892;&#21644;&#36825;&#20010;&#22788;&#29702;&#22120;&#30456;&#20851;&#30340;&#25191;&#34892;&#38142;&#65288;&#39044;&#22788;&#29702;&#22120;&#65292;&#21518;&#22788;&#29702;&#22120;&#65292;&#25511;&#21046;&#22120;&#65289;&#65292;&#20197;&#20415;&#20026;&#35270;&#22270;&#20934;&#22791;&#27169;&#22411;&#25968;&#25454;&#12290;</p></li><li><p>&#22914;&#26524;&#27169;&#22411;&#25968;&#25454;&#34987;&#36820;&#22238;&#65292;&#23601;&#20351;&#29992;&#37197;&#32622;&#22312;<tt class="interfacename">WebApplicationContext</tt>&#20013;&#30340;&#35270;&#22270;&#35299;&#26512;&#22120;&#26174;&#31034;&#35270;&#22270;&#65292;&#21542;&#21017;&#35270;&#22270;&#19981;&#20250;&#34987;&#26174;&#31034;&#12290;&#26377;&#22810;&#31181;&#21407;&#22240;&#21487;&#20197;&#23548;&#33268;&#36820;&#22238;&#30340;&#25968;&#25454;&#27169;&#22411;&#20026;&#31354;&#65292;&#27604;&#22914;&#39044;&#22788;&#29702;&#22120;&#25110;&#21518;&#22788;&#29702;&#22120;&#21487;&#33021;&#25130;&#21462;&#20102;&#35831;&#27714;&#65292;&#36825;&#21487;&#33021;&#26159;&#20986;&#20110;&#23433;&#20840;&#21407;&#22240;&#65292;&#20063;&#21487;&#33021;&#26159;&#35831;&#27714;&#24050;&#32463;&#34987;&#22788;&#29702;&#36807;&#65292;&#27809;&#26377;&#24517;&#35201;&#20877;&#22788;&#29702;&#19968;&#27425;&#12290;
		  </p></li></ol></div><p>&#22312;&#35831;&#27714;&#22788;&#29702;&#36807;&#31243;&#20013;&#25243;&#20986;&#30340;&#24322;&#24120;,&#21487;&#20197;&#34987;&#20219;&#20309;&#23450;&#20041;&#22312;<tt class="interfacename">WebApplicationContext</tt>&#20013;&#30340;&#24322;&#24120;&#35299;&#26512;&#22120;&#25152;&#33719;&#21462;&#12290;&#20351;&#29992;&#36825;&#20123;&#24322;&#24120;&#35299;&#26512;&#22120;&#65292;&#20320;&#21487;&#20197;&#22312;&#24322;&#24120;&#25243;&#20986;&#26102;&#26681;&#25454;&#38656;&#35201;&#23450;&#20041;&#29305;&#23450;&#34892;&#20026;&#12290;</p><p>Spring&#30340;<tt class="classname">DispatcherServlet</tt>&#20063;&#25903;&#25345;&#36820;&#22238;Servlet API&#23450;&#20041;&#30340;<span class="emphasis"><em>last-modification-date</em></span>&#12290;&#20915;&#23450;&#26576;&#20010;&#35831;&#27714;&#26368;&#21518;&#20462;&#25913;&#30340;&#26085;&#26399;&#24456;&#31616;&#21333;&#65306;<tt class="classname">DispatcherServlet</tt>&#20250;&#39318;&#20808;&#23547;&#25214;&#19968;&#20010;&#21512;&#36866;&#30340;handler mapping&#65292;&#26816;&#26597;&#20174;&#20013;&#21462;&#24471;&#25351;&#23450;&#30340;&#22788;&#29702;&#22120;&#26159;&#21542;&#23454;&#29616;&#20102;<tt class="interfacename">LastModified</tt>&#25509;&#21475;&#65292;&#22914;&#26524;&#26159;&#65292;&#23558;&#35843;&#29992;<tt class="literal">long getLastModified(request)</tt>&#26041;&#27861;&#65292;&#24182;&#23558;&#32467;&#26524;&#36820;&#22238;&#32473;&#23458;&#25143;&#31471;&#12290;</p><p>&#20320;&#21487;&#20197;&#36890;&#36807;&#20004;&#31181;&#26041;&#24335;&#23450;&#21046;Spring&#30340;<tt class="classname">DispatcherServlet</tt>&#65306;&#22312;<tt class="literal">web.xml</tt>&#25991;&#20214;&#20013;&#22686;&#21152;&#28155;&#21152;context&#21442;&#25968;&#65292;&#25110;servlet&#21021;&#22987;&#21270;&#21442;&#25968;&#12290;&#19979;&#38754;&#26159;&#30446;&#21069;&#25903;&#25345;&#30340;&#21442;&#25968;&#12290;</p><div class="table"><a name="d0e15711"></a><p class="title"><b>Table&nbsp;13.2.&nbsp;<tt class="classname">DispatcherServlet</tt>&#21021;&#22987;&#21270;&#21442;&#25968;</b></p><table summary="DispatcherServlet&#21021;&#22987;&#21270;&#21442;&#25968;" border="1"><colgroup><col><col></colgroup><thead><tr><th>&#21442;&#25968;</th><th>&#25551;&#36848;</th></tr></thead><tbody><tr><td><tt class="literal">contextClass</tt></td><td>
			&#23454;&#29616;<tt class="interfacename">WebApplicationContext</tt>&#25509;&#21475;&#30340;&#31867;&#65292;&#24403;&#21069;&#30340;servlet&#29992;&#23427;&#26469;&#21019;&#24314;&#19978;&#19979;&#25991;&#12290;&#22914;&#26524;&#36825;&#20010;&#21442;&#25968;&#27809;&#26377;&#25351;&#23450;&#65292;&#40664;&#35748;&#20351;&#29992;<tt class="classname">XmlWebApplicationContext</tt>&#12290;			
			</td></tr><tr><td><tt class="literal">contextConfigLocation</tt></td><td>
			&#20256;&#32473;&#19978;&#19979;&#25991;&#23454;&#20363;&#65288;&#30001;contextClass&#25351;&#23450;&#65289;&#30340;&#23383;&#31526;&#20018;&#65292;&#29992;&#26469;&#25351;&#23450;&#19978;&#19979;&#25991;&#30340;&#20301;&#32622;&#12290;&#36825;&#20010;&#23383;&#31526;&#20018;&#21487;&#20197;&#34987;&#20998;&#25104;&#22810;&#20010;&#23383;&#31526;&#20018;&#65288;&#20351;&#29992;&#36887;&#21495;&#20316;&#20026;&#20998;&#38548;&#31526;&#65289;&#26469;&#25903;&#25345;&#22810;&#20010;&#19978;&#19979;&#25991;&#65288;&#22312;&#22810;&#19978;&#19979;&#25991;&#30340;&#24773;&#20917;&#19979;&#65292;&#22914;&#26524;&#21516;&#19968;&#20010;bean&#34987;&#23450;&#20041;&#20004;&#27425;&#65292;&#21518;&#38754;&#19968;&#20010;&#20248;&#20808;&#65289;&#12290;
			</td></tr><tr><td>namespace</td><td><tt class="interfacename">WebApplicationContext</tt>&#21629;&#21517;&#31354;&#38388;&#12290;&#40664;&#35748;&#20540;&#26159;<tt class="literal">[server-name]-servlet</tt>&#12290;
			</td></tr></tbody></table></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="mvc-controller"></a>13.3.&nbsp;&#25511;&#21046;&#22120;</h2></div></div><div></div></div><p>&#25511;&#21046;&#22120;&#30340;&#27010;&#24565;&#26159;MVC&#35774;&#35745;&#27169;&#24335;&#30340;&#19968;&#37096;&#20998;(&#30830;&#20999;&#22320;&#35828;&#65292;&#26159;MVC&#20013;&#30340;<span class="emphasis"><em>C</em></span>&#65289;&#12290;&#24212;&#29992;&#31243;&#24207;&#30340;&#34892;&#20026;&#36890;&#24120;&#34987;&#23450;&#20041;&#20026;&#26381;&#21153;&#25509;&#21475;&#65292;&#32780;&#25511;&#21046;&#22120;&#20351;&#24471;&#29992;&#25143;&#21487;&#20197;&#35775;&#38382;&#24212;&#29992;&#25152;&#25552;&#20379;&#30340;&#26381;&#21153;&#12290;&#25511;&#21046;&#22120;&#35299;&#26512;&#29992;&#25143;&#36755;&#20837;&#65292;&#24182;&#23558;&#20854;&#36716;&#25442;&#25104;&#21512;&#29702;&#30340;&#27169;&#22411;&#25968;&#25454;&#65292;&#20174;&#32780;&#21487;&#20197;&#36827;&#19968;&#27493;&#30001;&#35270;&#22270;&#23637;&#31034;&#32473;&#29992;&#25143;&#12290;Spring&#20197;&#19968;&#31181;&#25277;&#35937;&#30340;&#26041;&#24335;&#23454;&#29616;&#20102;&#25511;&#21046;&#22120;&#27010;&#24565;&#65292;&#36825;&#26679;&#20351;&#24471;&#19981;&#21516;&#31867;&#22411;&#30340;&#25511;&#21046;&#22120;&#21487;&#20197;&#34987;&#21019;&#24314;&#12290;Spring&#26412;&#36523;&#21253;&#21547;&#34920;&#21333;&#25511;&#21046;&#22120;&#12289;&#21629;&#20196;&#25511;&#21046;&#22120;&#12289;&#21521;&#23548;&#22411;&#25511;&#21046;&#22120;&#31561;&#22810;&#31181;&#22810;&#26679;&#30340;&#25511;&#21046;&#22120;&#12290;</p><p>Spring&#25511;&#21046;&#22120;&#26550;&#26500;&#30340;&#22522;&#30784;&#26159;<tt class="interfacename">org.springframework.mvc.Controller</tt>&#25509;&#21475;&#65292;&#20854;&#20195;&#30721;&#22914;&#19979;&#65306;</p><pre class="programlisting">public interface Controller {

    /**
     * Process the request and return a ModelAndView object which the DispatcherServlet
     * will render.
     */
    ModelAndView handleRequest(
        HttpServletRequest request,
        HttpServletResponse response) throws Exception;

}</pre><p>&#20320;&#21487;&#20197;&#21457;&#29616;<tt class="interfacename">Controller</tt>&#25509;&#21475;&#20165;&#20165;&#22768;&#26126;&#20102;&#19968;&#20010;&#26041;&#27861;&#65292;&#23427;&#36127;&#36131;&#22788;&#29702;&#35831;&#27714;&#24182;&#36820;&#22238;&#21512;&#36866;&#30340;&#27169;&#22411;&#21644;&#35270;&#22270;&#12290;Spring MVC&#23454;&#29616;&#30340;&#22522;&#30784;&#23601;&#26159;&#36825;&#19977;&#20010;&#27010;&#24565;&#65306;Mdel&#12289;View&#65288;<tt class="classname">ModelAndView</tt>&#65289;&#20197;&#21450; <tt class="interfacename">Controller</tt>&#12290;&#34429;&#28982;<tt class="interfacename">Controller</tt>&#25509;&#21475;&#26159;&#23436;&#20840;&#25277;&#35937;&#30340;&#65292;&#20294;Spring&#20063;&#25552;&#20379;&#20102;&#35768;&#22810;&#20320;&#21487;&#33021;&#20250;&#29992;&#21040;&#30340;&#25511;&#21046;&#22120;&#12290;Controller&#25509;&#21475;&#20165;&#20165;&#23450;&#20041;&#20102;&#27599;&#20010;&#25511;&#21046;&#22120;&#37117;&#24517;&#39035;&#25552;&#20379;&#30340;&#22522;&#26412;&#21151;&#33021;&#65306;&#22788;&#29702;&#35831;&#27714;&#24182;&#36820;&#22238;&#19968;&#20010;&#27169;&#22411;&#21644;&#19968;&#20010;&#35270;&#22270;&#12290;</p><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="mvc-controller-abstractcontroller"></a>13.3.1.&nbsp;<tt class="classname">AbstractController</tt> &#21644; <tt class="classname">WebContentGenerator</tt></h3></div></div><div></div></div><p>&#20026;&#20102;&#25552;&#20379;&#19968;&#22871;&#22522;&#30784;&#35774;&#26045;&#65292;&#25152;&#26377;&#30340;Spring&#25511;&#21046;&#22120;&#37117;&#32487;&#25215;&#20102; <tt class="classname">AbstractController</tt> &#65292;<tt class="classname">AbstractController</tt> &#25552;&#20379;&#20102;&#35832;&#22914;&#32531;&#23384;&#25903;&#25345;&#21644;mimetype&#35774;&#32622;&#36825;&#26679;&#30340;&#21151;&#33021;&#12290;</p><div class="table"><a name="mvc-controller-abstract-features"></a><p class="title"><b>Table&nbsp;13.3.&nbsp;<tt class="classname">AbstractController</tt>&#25552;&#20379;&#30340;&#21151;&#33021;</b></p><table summary="AbstractController&#25552;&#20379;&#30340;&#21151;&#33021;" border="1"><colgroup><col><col></colgroup><thead><tr><th>&#21151;&#33021;</th><th>&#25551;&#36848;</th></tr></thead><tbody><tr><td><tt class="literal">supportedMethods</tt></td><td>
		  
			  &#25351;&#23450;&#36825;&#20010;&#25511;&#21046;&#22120;&#24212;&#35813;&#25509;&#21463;&#20160;&#20040;&#26679;&#30340;&#35831;&#27714;&#26041;&#27861;&#12290;&#36890;&#24120;&#23427;&#34987;&#35774;&#32622;&#25104;&#21516;&#26102;&#25903;&#25345;GET&#21644;POST&#65292;&#20294;&#26159;&#20320;&#21487;&#20197;&#36873;&#25321;&#20320;&#24819;&#25903;&#25345;&#30340;&#26041;&#27861;&#12290;&#22914;&#26524;&#25511;&#21046;&#22120;&#19981;&#25903;&#25345;&#35831;&#27714;&#21457;&#36865;&#30340;&#26041;&#27861;&#65292;&#23458;&#25143;&#31471;&#20250;&#24471;&#21040;&#36890;&#30693;&#65288;&#36890;&#24120;&#26159;&#25243;&#20986;&#19968;&#20010;<tt class="classname">ServletException</tt>&#65289;&#12290;
			  </td></tr><tr><td><tt class="literal">requiresSession</tt></td><td>
			  &#25351;&#23450;&#36825;&#20010;&#25511;&#21046;&#22120;&#26159;&#21542;&#38656;&#35201;HTTP session&#25165;&#33021;&#27491;&#24120;&#24037;&#20316;&#12290;&#22914;&#26524;&#25511;&#21046;&#22120;&#22312;&#27809;&#26377;session&#30340;&#24773;&#20917;&#19979;&#25509;&#25910;&#21040;&#35831;&#27714;&#65292;&#23458;&#25143;&#31471;&#20250;&#22240;&#20026;&#25243;&#20986;<tt class="classname">ServletException</tt>&#32780;&#24471;&#21040;&#36890;&#30693;&#12290;
			  </td></tr><tr><td><tt class="literal">synchronizeSession</tt></td><td>
			  &#25351;&#23450;controller&#26159;&#21542;&#21516;&#27493;&#29992;&#25143;&#30340;HTTP session&#12290;
			  </td></tr><tr><td><tt class="literal">cacheSeconds</tt></td><td>
			  &#25351;&#23450;controller&#36890;&#30693;&#23458;&#25143;&#31471;&#23545;&#25968;&#25454;&#20869;&#23481;&#32531;&#23384;&#30340;&#31186;&#25968;&#65292;&#19968;&#33324;&#20026;&#22823;&#20110;&#38646;&#30340;&#25972;&#25968;&#12290;&#40664;&#35748;&#20540;&#20026;<span class="emphasis"><em>-1</em></span>&#65292;&#21363;&#19981;&#32531;&#23384;&#12290;
			  </td></tr><tr><td><tt class="literal">useExpiresHeader</tt></td><td>
			  &#25351;&#23450;Controller&#22312;&#21709;&#24212;&#35831;&#27714;&#26102;&#26159;&#21542;&#20860;&#23481;HTTP 1.0 <span class="emphasis"><em>Expires</em></span> header&#12290;&#32570;&#30465;&#20540;&#20026;<tt class="literal">true</tt>&#12290;
			  </td></tr><tr><td><tt class="literal">useCacheHeader</tt></td><td>
		  
			  &#25351;&#23450;Controller&#22312;&#30456;&#24212;&#35831;&#27714;&#26102;&#26159;&#21542;&#20860;&#23481;HTTP 1.1 <span class="emphasis"><em>Cache-Control</em></span> header&#12290;&#40664;&#35748;&#20540;&#20026;<tt class="literal">true</tt>&#12290;
			  </td></tr></tbody></table></div><p>&#24403;&#20174;<tt class="classname">AbstractController</tt>&#32487;&#25215;&#26102;&#65292;&#38656;&#35201;&#23454;&#29616;<tt class="literal">handleRequestInternal(HttpServletRequest, HttpServletResponse)</tt>&#25277;&#35937;&#26041;&#27861;&#65292;&#35813;&#26041;&#27861;&#23558;&#29992;&#26469;&#23454;&#29616;&#33258;&#24049;&#30340;&#36923;&#36753;&#65292;&#24182;&#36820;&#22238;&#19968;&#20010;<tt class="classname">ModelAndView</tt>&#23545;&#35937;&#12290;&#19979;&#38754;&#36825;&#20010;&#31616;&#21333;&#30340;&#20363;&#23376;&#28436;&#31034;&#20102;&#22914;&#20309;&#20174;<tt class="classname">AbstractController</tt>&#32487;&#25215;&#20197;&#21450;&#22914;&#20309;&#22312;applicationContext.xml&#20013;&#36827;&#34892;&#37197;&#32622;</p><pre class="programlisting">package samples;

public class SampleController extends AbstractController {

    public ModelAndView handleRequestInternal(
        HttpServletRequest request,
        HttpServletResponse response) throws Exception {

        ModelAndView mav = new ModelAndView("hello");
        mav.addObject("message", "Hello World!");
        return mav;        
    }
}</pre><pre class="programlisting">&lt;bean id="sampleController" class="samples.SampleController"&gt;
    &lt;property name="cacheSeconds" value="120"/&gt;
&lt;/bean&gt;</pre><p>&#35813;controller&#36820;&#22238;&#30340;ModelAndView&#20351;&#29992;&#20102;&#30828;&#32534;&#30721;&#30340;&#35270;&#22270;&#21517;&#65288;&#23613;&#31649;&#36825;&#26679;&#20570;&#19981;&#22909;&#65289;&#65292;&#24182;&#36890;&#30693;&#23458;&#25143;&#31471;&#23558;&#21709;&#24212;&#25968;&#25454;&#32531;&#23384;2&#20998;&#38047;&#12290;&#38500;&#20102;&#36890;&#36807;&#20197;&#19978;&#26041;&#24335;&#21019;&#24314;&#21644;&#37197;&#32622;controller&#20043;&#22806;&#65292;&#36824;&#38656;&#35201;&#37197;&#32622;handler mapping(&#35831;&#21442;&#32771;<a href="mvc.html#mvc-handlermapping" title="13.4.&nbsp;&#22788;&#29702;&#22120;&#26144;&#23556;&#65288;handler mapping&#65289;">Section&nbsp;13.4, &#8220;&#22788;&#29702;&#22120;&#26144;&#23556;&#65288;handler mapping&#65289;&#8221;</a>)&#65292;&#36825;&#26679;&#35813;controller&#23601;&#21487;&#20197;&#24037;&#20316;&#20102;&#12290;</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="mvc-controller-othersimplecontrollers"></a>13.3.2.&nbsp;&#20854;&#23427;&#30340;&#31616;&#21333;&#25511;&#21046;&#22120;</h3></div></div><div></div></div><p>&#23613;&#31649;&#21487;&#20197;&#32487;&#25215;<tt class="classname">AbstractController</tt>&#26469;&#23454;&#29616;&#33258;&#24049;&#30340;&#25511;&#21046;&#22120;&#65292;&#19981;&#36807;Spring&#25552;&#20379;&#30340;&#20247;&#22810;&#25511;&#21046;&#22120;&#20943;&#36731;&#20102;&#25105;&#20204;&#24320;&#21457;&#31616;&#21333;MVC&#24212;&#29992;&#26102;&#30340;&#36127;&#25285;&#12290;<tt class="classname">ParameterizableViewController</tt>&#22522;&#26412;&#19978;&#21644;&#19978;&#38754;&#20363;&#23376;&#20013;&#30340;&#19968;&#26679;&#65292;&#19981;&#21516;&#30340;&#26159;&#65292;&#20320;&#21487;&#20197;&#22312;applicationContext.xml&#37197;&#32622;&#20013;&#25351;&#23450;&#36820;&#22238;&#35270;&#22270;&#21517;&#20174;&#32780;&#36991;&#20813;&#20102;&#22312;Java&#20195;&#30721;&#20013;&#30340;&#30828;&#32534;&#30721;&#12290;</p><p><tt class="classname">UrlFilenameViewController</tt>&#20250;&#26816;&#26597;URL&#65292;&#33719;&#21462;&#25991;&#20214;&#35831;&#27714;&#30340;&#25991;&#20214;&#21517;&#65292;&#24182;&#25226;&#23427;&#20316;&#20026;&#35270;&#22270;&#21517;&#21152;&#20197;&#20351;&#29992;&#12290;&#12290;&#20363;&#22914;&#65292;<tt class="literal">http://www.springframework.org/index.html</tt>&#23545;&#24212;&#30340;&#35270;&#22270;&#25991;&#20214;&#21517;&#26159;<tt class="literal">index</tt>&#12290;</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="mvc-controller-multiaction"></a>13.3.3.&nbsp;<tt class="classname">MultiActionController</tt></h3></div></div><div></div></div><p><tt class="classname">MultiActionController</tt>&#23558;&#22810;&#20010;&#34892;&#20026;(action)&#21512;&#24182;&#22312;&#19968;&#20010;&#25511;&#21046;&#22120;&#37324;&#65292;&#36825;&#26679;&#21487;&#20197;&#25226;&#30456;&#20851;&#21151;&#33021;&#32452;&#21512;&#22312;&#19968;&#36215;&#12290;<tt class="classname">MultiActionController</tt>&#20301;&#20110;<tt class="literal">org.springframework.web.mvc.multiaction</tt>&#21253;&#20013;&#65292;&#23427;&#36890;&#36807;&#23558;&#35831;&#27714;&#26144;&#23556;&#21040;&#27491;&#30830;&#30340;&#26041;&#27861;&#21517;&#26469;&#35843;&#29992;&#26041;&#27861;&#12290;&#24403;&#22312;&#19968;&#20010;&#25511;&#21046;&#22120;&#23384;&#22312;&#22823;&#37327;&#20844;&#20849;&#30340;&#34892;&#20026;&#65292;&#20294;&#26159;&#26377;&#22810;&#20010;&#35843;&#29992;&#20837;&#21475;&#26102;&#65292;&#20351;&#29992;<tt class="classname">MultiActionController</tt>&#23601;&#29305;&#21035;&#26041;&#20415;&#12290;</p><div class="table"><a name="mvc-controller-multiaction-features"></a><p class="title"><b>Table&nbsp;13.4.&nbsp;<tt class="classname">MultiActionController</tt>&#25552;&#20379;&#30340;&#21151;&#33021;</b></p><table summary="MultiActionController&#25552;&#20379;&#30340;&#21151;&#33021;" border="1"><colgroup><col><col></colgroup><thead><tr><th>&#21151;&#33021;</th><th>&#25551;&#36848;</th></tr></thead><tbody><tr><td><tt class="literal">delegate</tt></td><td><tt class="classname">MultiActionController</tt>&#26377;&#20004;&#31181;&#20351;&#29992;&#26041;&#24335;&#12290;&#31532;&#19968;&#31181;&#26159;&#20320;&#32487;&#25215;<tt class="classname">MultiActionController</tt>&#65292;&#24182;&#22312;&#23376;&#31867;&#20013;&#25351;&#23450;&#30001;<tt class="interfacename">MethodNameResolver</tt>&#35299;&#26512;&#30340;&#26041;&#27861;&#65288;&#36825;&#31181;&#24773;&#20917;&#19979;&#19981;&#38656;&#35201;&#36825;&#20010;delegate&#21442;&#25968;&#65289;&#12290;&#31532;&#20108;&#31181;&#26159;&#20320;&#23450;&#20041;&#19968;&#20010;&#20195;&#29702;&#23545;&#35937;&#65292;&#30001;&#23427;&#25552;&#20379;<tt class="interfacename">MethodNameResolver</tt>&#35299;&#26512;&#20986;&#26469;&#30340;&#26041;&#27861;&#65288;&#36825;&#31181;&#24773;&#20917;&#19979;&#65292;&#20320;&#24517;&#39035;&#20351;&#29992;&#36825;&#20010;&#37197;&#32622;&#21442;&#25968;&#23450;&#20041;&#20195;&#29702;&#23545;&#35937;&#65289;&#12290;
			  </td></tr><tr><td><tt class="literal">methodNameResolver</tt></td><td><tt class="classname">MultiActionController</tt>&#38656;&#35201;&#19968;&#31181;&#31574;&#30053;&#65292;&#20351;&#20854;&#21487;&#20197;&#36890;&#36807;&#35299;&#26512;&#35831;&#27714;&#20449;&#24687;&#26469;&#33719;&#24471;&#35201;&#35843;&#29992;&#30340;&#26041;&#27861;&#12290;&#36825;&#20010;&#35299;&#26512;&#31574;&#30053;&#30001;<tt class="interfacename">MethodNameResolver</tt>&#36825;&#20010;&#25509;&#21475;&#23450;&#20041;&#30340;&#12290;&#36825;&#20010;&#21442;&#25968;&#20801;&#35768;&#20320;&#23454;&#29616;<tt class="interfacename">MethodNameResolver</tt>&#25509;&#21475;&#65292;&#28982;&#21518;&#22312;&#25511;&#21046;&#22120;&#20013;&#20351;&#29992;&#20320;&#30340;&#31574;&#30053;&#12290;
			  </td></tr></tbody></table></div><p><tt class="classname">MultiActionController</tt>&#25152;&#25903;&#25345;&#30340;&#26041;&#27861;&#38656;&#35201;&#31526;&#21512;&#19979;&#21015;&#26684;&#24335;&#65306;</p><pre class="programlisting"><i class="lineannotation"><span class="lineannotation">// anyMeaningfulName can be replaced by any methodname</span></i>
public [ModelAndView | Map | void] anyMeaningfulName(HttpServletRequest, HttpServletResponse [, Exception | AnyObject]);</pre><p>&#27880;&#24847;&#65306;&#22312;&#27492;<span class="emphasis"><em>&#19981;&#20801;&#35768;</em></span>&#26041;&#27861;&#37325;&#36733;&#65292;&#22240;&#20026;<tt class="classname">MultiActionController</tt>&#26080;&#27861;&#20998;&#36776;&#20986;&#37325;&#36733;&#65288;overloading&#65289;&#20102;&#30340;&#26041;&#27861;&#12290;&#27492;&#22806;&#65292;&#20320;&#21487;&#20197;&#23450;&#20041;<span class="emphasis"><em>exception handler</em></span>&#26469;&#22788;&#29702;&#26041;&#27861;&#20013;&#25243;&#20986;&#30340;&#24322;&#24120;&#12290;
	  </p><p><tt class="classname">Exception</tt> &#21442;&#25968;&#26159;&#21487;&#36873;&#30340;&#65292;&#23427;&#21487;&#20197;&#26159;<span class="emphasis"><em>&#20219;&#20309;</em></span>&#24322;&#24120;&#65292;&#21482;&#35201;&#23427;&#26159;<tt class="classname">java.lang.Exception</tt>&#25110;<tt class="classname">java.lang.RuntimeException</tt>&#30340;&#23376;&#31867;&#12290;<tt class="classname">AnyObject</tt>&#21442;&#25968;&#20063;&#26159;&#21487;&#36873;&#30340;&#65292;&#23427;&#21487;&#20197;&#26159;<span class="emphasis"><em>&#20219;&#20309;</em></span>&#23545;&#35937;&#12290;HTTP Request&#20013;&#30340;&#21442;&#25968;&#20250;&#23384;&#22312;&#36825;&#20010;&#23545;&#35937;&#20013;&#65292;&#20197;&#20415;&#20351;&#29992;&#12290;</p><p>&#19979;&#38754;&#20960;&#20010;&#20363;&#23376;&#31034;&#33539;&#20102;<tt class="classname">MultiActionController</tt>&#27491;&#30830;&#30340;&#26041;&#27861;&#23450;&#20041;&#12290;</p><p>&#26631;&#20934;&#26684;&#24335;(&#36319;<tt class="interfacename">Controller</tt>&#25509;&#21475;&#23450;&#20041;&#30340;&#19968;&#26679;)&#12290;</p><pre class="programlisting">public ModelAndView doRequest(HttpServletRequest, HttpServletResponse)</pre><p>&#19979;&#38754;&#36825;&#20010;&#26041;&#27861;&#25903;&#25345;<tt class="classname">Login</tt>&#21442;&#25968;&#65292; &#36825;&#20010;&#21442;&#25968;&#20013;&#21253;&#21547;&#20174;&#35831;&#27714;&#20013;&#25277;&#21462;&#20986;&#26469;&#30340;&#20449;&#24687;&#12290;</p><pre class="programlisting">public ModelAndView doLogin(HttpServletRequest, HttpServletResponse, Login)</pre><p>&#19979;&#38754;&#36825;&#20010;&#26041;&#27861;&#21487;&#20197;&#22788;&#29702;<tt class="classname">Exception</tt>&#12290;</p><pre class="programlisting">public ModelAndView processException(HttpServletRequest, HttpServletResponse, IllegalArgumentException)</pre><p>&#19979;&#38754;&#36825;&#20010;&#26041;&#27861;&#19981;&#36820;&#22238;&#20219;&#20309;&#25968;&#20540;&#12290; (&#35831;&#21442;&#32771;&#21518;&#38754;&#30340;&#31456;&#33410; <a href="mvc.html#mvc-coc" title="13.11.&nbsp;&#24815;&#20363;&#20248;&#20808;&#21407;&#21017;(convention over configuration)">Section&nbsp;13.11, &#8220;&#24815;&#20363;&#20248;&#20808;&#21407;&#21017;(convention over configuration)&#8221;</a>)</p><pre class="programlisting">public void goHome(HttpServletRequest, HttpServletResponse)</pre><p>This signature has a <tt class="interfacename">Map</tt> return type (see the section entitled <a href="mvc.html#mvc-coc" title="13.11.&nbsp;&#24815;&#20363;&#20248;&#20808;&#21407;&#21017;(convention over configuration)">Section&nbsp;13.11, &#8220;&#24815;&#20363;&#20248;&#20808;&#21407;&#21017;(convention over configuration)&#8221;</a> below).</p><p>&#19979;&#38754;&#36825;&#20010;&#26041;&#27861;&#36820;&#22238;&#19968;&#20010;<tt class="interfacename">Map</tt>&#12290; (&#35831;&#21442;&#32771;&#21518;&#38754;&#30340;&#31456;&#33410;<a href="mvc.html#mvc-coc" title="13.11.&nbsp;&#24815;&#20363;&#20248;&#20808;&#21407;&#21017;(convention over configuration)">Section&nbsp;13.11, &#8220;&#24815;&#20363;&#20248;&#20808;&#21407;&#21017;(convention over configuration)&#8221;</a>)</p><pre class="programlisting">public Map doRequest(HttpServletRequest, HttpServletResponse)</pre><p><tt class="interfacename">MethodNameResolver</tt>&#36127;&#36131;&#20174;&#35831;&#27714;&#20013;&#35299;&#26512;&#20986;&#38656;&#35201;&#35843;&#29992;&#30340;&#26041;&#27861;&#21517;&#31216;&#12290;&#19979;&#38754;&#26159;Spring&#20013;&#20869;&#32622;&#30340;&#19977;&#20010;<tt class="interfacename">MethodNameResolver</tt>
	  &#23454;&#29616;&#12290;</p><div class="itemizedlist"><ul type="disc" compact><li><p><tt class="classname">ParameterMethodNameResolver</tt> - &#35299;&#26512;&#35831;&#27714;&#21442;&#25968;&#65292;&#24182;&#23558;&#23427;&#20316;&#20026;&#26041;&#27861;&#21517;&#12290;(&#23545;&#24212;<tt class="literal">http://www.sf.net/index.view?testParam=testIt</tt>&#30340;&#35831;&#27714;&#65292;&#20250;&#35843;&#29992; <tt class="literal">testIt(HttpServletRequest,HttpServletResponse)</tt>&#26041;&#27861;)&#12290;&#20351;&#29992;<tt class="literal">paramName</tt>&#37197;&#32622;&#21442;&#25968;&#65292;&#21487;&#20197;&#35774;&#23450;&#35201;&#26816;&#26597;&#30340;&#21442;&#25968;&#12290;</p></li><li><p><tt class="classname">InternalPathMethodNameResolver</tt> -&#20174;&#36335;&#24452;&#20013;&#33719;&#21462;&#25991;&#20214;&#21517;&#20316;&#20026;&#26041;&#27861;&#21517; (<tt class="literal">http://www.sf.net/testing.view</tt>&#30340;&#35831;&#27714;&#20250;&#35843;&#29992;<tt class="literal">testing(HttpServletRequest,HttpServletResponse)</tt>&#26041;&#27861;&#12290;</p></li><li><p><tt class="classname">PropertiesMethodNameResolver</tt> - &#20351;&#29992;&#29992;&#25143;&#33258;&#23450;&#20041;&#30340;&#23646;&#24615;&#23545;&#35937;&#65292;&#23558;&#35831;&#27714;&#30340;URL&#26144;&#23556;&#21040;&#26041;&#27861;&#21517;&#12290;&#24403;&#23646;&#24615;&#20013;&#21253;&#21547;<tt class="literal">/index/welcome.html=doIt</tt>&#26102;&#65292;&#21457;&#21040;<tt class="literal">/index/welcome.html</tt> &#30340;&#35831;&#27714;&#20250;&#35843;&#29992;<tt class="literal">doIt(HttpServletRequest, HttpServletResponse)</tt>&#36825;&#20010;&#26041;&#27861;&#12290; &#36825;&#20010;&#26041;&#27861;&#21517;&#35299;&#26512;&#22120;&#21487;&#20197;&#21644;<tt class="literal">PathMatcher</tt>&#19968;&#36215;&#24037;&#20316;&#65292;&#27604;&#22914;&#19978;&#36793;&#37027;&#20010;URL&#20889;&#25104;<tt class="literal">/**/welcom?.html</tt>&#20063;&#26159;&#21487;&#20197;&#30340;&#12290;</p></li></ul></div><p>&#25105;&#20204;&#26469;&#30475;&#19968;&#32452;&#20363;&#23376;&#12290;&#39318;&#20808;&#26159;&#19968;&#20010;&#20351;&#29992;<tt class="classname">ParameterMethodNameResolver</tt>&#21644;&#20195;&#29702;&#65288;delegate&#65289;&#23646;&#24615;&#30340;&#20363;&#23376;&#65292;&#23427;&#25509;&#21463;&#21253;&#21547;&#21442;&#25968;&#21517;"method"&#30340;&#35831;&#27714;&#65292;&#35843;&#29992;&#26041;&#27861;<tt class="literal">retrieveIndex</tt>&#65306;
	  </p><pre class="programlisting">&lt;bean id="paramResolver" class="org....mvc.multiaction.ParameterMethodNameResolver"&gt;
  &lt;property name="paramName" value="method"/&gt;
&lt;/bean&gt;

&lt;bean id="paramMultiController" class="org....mvc.multiaction.MultiActionController"&gt;
  &lt;property name="methodNameResolver" ref="paramResolver"/&gt;
  &lt;property name="delegate" ref="sampleDelegate"/&gt;
&lt;/bean&gt;

&lt;bean id="sampleDelegate" class="samples.SampleDelegate"/&gt;

<i class="lineannotation"><span class="lineannotation">## together with</span></i>

public class SampleDelegate {

    public ModelAndView retrieveIndex(HttpServletRequest req, HttpServletResponse resp) {

        return new ModelAndView("index", "date", new Long(System.currentTimeMillis()));
    }
}</pre><p>&#24403;&#20351;&#29992;&#19978;&#38754;&#30340;&#20195;&#29702;&#23545;&#35937;&#26102;&#65292;&#25105;&#20204;&#20063;&#21487;&#20197;&#20351;&#29992;<tt class="classname">PropertiesMethodNameRseolver</tt>&#26469;&#21305;&#37197;&#19968;&#32452;URL&#65292;&#23558;&#23427;&#20204;&#26144;&#23556;&#21040;&#25105;&#20204;&#23450;&#20041;&#30340;&#26041;&#27861;&#19978;&#65306;</p><pre class="programlisting">&lt;bean id="propsResolver" class="org....mvc.multiaction.PropertiesMethodNameResolver"&gt;
  &lt;property name="mappings"&gt;
    &lt;value&gt;
        /index/welcome.html=retrieveIndex
        /**/notwelcome.html=retrieveIndex
        /*/user?.html=retrieveIndex
    &lt;/value&gt;
  &lt;/property&gt;
&lt;/bean&gt;

&lt;bean id="paramMultiController" class="org....mvc.multiaction.MultiActionController"&gt;
    &lt;property name="methodNameResolver" ref="propsResolver"/&gt;
    &lt;property name="delegate" ref="sampleDelegate"/&gt;
&lt;/bean&gt;</pre></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="mvc-controller-command"></a>13.3.4.&nbsp;&#21629;&#20196;&#25511;&#21046;&#22120;</h3></div></div><div></div></div><p>Spring&#30340;<span class="emphasis"><em>CommandController</em></span>&#26159;Spring MVC&#30340;&#37325;&#35201;&#37096;&#20998;&#12290;&#21629;&#20196;&#25511;&#21046;&#22120;&#25552;&#20379;&#20102;&#19968;&#31181;&#21644;&#25968;&#25454;&#23545;&#35937;&#20132;&#20114;&#30340;&#26041;&#24335;&#65292;&#24182;&#21160;&#24577;&#22320;&#23558;&#26469;&#33258;<tt class="interfacename">HttpServletRequest</tt>&#30340;&#21442;&#25968;&#32465;&#23450;&#21040;&#20320;&#25351;&#23450;&#30340;&#25968;&#25454;&#23545;&#35937;&#19978;&#12290;&#23427;&#30340;&#21151;&#33021;&#21644;Struts&#20013;&#30340;<tt class="classname">ActionForm</tt>&#26377;&#28857;&#20687;&#65292;&#19981;&#36807;&#22312;Spring&#20013;&#65292;&#20320;&#19981;&#38656;&#35201;&#23454;&#29616;&#20219;&#20309;&#25509;&#21475;&#26469;&#23454;&#29616;&#25968;&#25454;&#32465;&#23450;&#12290;&#39318;&#20808;&#65292;&#35753;&#25105;&#20204;&#30475;&#19968;&#19979;&#26377;&#21738;&#20123;&#21487;&#20197;&#20351;&#29992;&#30340;&#21629;&#20196;&#25511;&#21046;&#22120;&#65306;</p><div class="itemizedlist"><ul type="disc" compact><li><p>
			
			<tt class="classname">AbstractCommandController</tt> &#65293;&#65293;&#20320;&#21487;&#20197;&#20351;&#29992;&#35813;&#25277;&#35937;&#21629;&#20196;&#25511;&#21046;&#22120;&#26469;&#21019;&#24314;&#33258;&#24049;&#30340;&#21629;&#20196;&#25511;&#21046;&#22120;&#65292;&#23427;&#33021;&#22815;&#23558;&#35831;&#27714;&#21442;&#25968;&#32465;&#23450;&#21040;&#20320;&#25351;&#23450;&#30340;&#21629;&#20196;&#23545;&#35937;&#12290;&#36825;&#20010;&#31867;&#24182;&#19981;&#25552;&#20379;&#20219;&#20309;&#34920;&#21333;&#21151;&#33021;&#65292;&#20294;&#26159;&#23427;&#25552;&#20379;&#39564;&#35777;&#21151;&#33021;&#65292;&#24182;&#19988;&#35753;&#20320;&#22312;&#23376;&#31867;&#20013;&#21435;&#23454;&#29616;&#22914;&#20309;&#22788;&#29702;&#30001;&#35831;&#27714;&#21442;&#25968;&#20135;&#29983;&#30340;&#21629;&#20196;&#23545;&#35937;&#12290;			
			</p></li><li><p>
			
			<tt class="classname">AbstractFormController</tt>&#65293;&#65293;&#19968;&#20010;&#25903;&#25345;&#34920;&#21333;&#25552;&#20132;&#30340;&#25277;&#35937;&#25511;&#21046;&#22120;&#31867;&#12290;&#20351;&#29992;&#36825;&#20010;&#25511;&#21046;&#22120;&#65292;&#20320;&#21487;&#20197;&#23450;&#20041;&#34920;&#21333;&#65292;&#24182;&#20351;&#29992;&#20174;&#25511;&#21046;&#22120;&#33719;&#21462;&#30340;&#25968;&#25454;&#23545;&#35937;&#26500;&#24314;&#34920;&#21333;&#12290;&#24403;&#29992;&#25143;&#36755;&#20837;&#34920;&#21333;&#20869;&#23481;&#65292;<tt class="classname">AbstractFormController</tt>&#23558;&#29992;&#25143;&#36755;&#20837;&#30340;&#20869;&#23481;&#32465;&#23450;&#21040;&#21629;&#20196;&#23545;&#35937;&#65292;&#39564;&#35777;&#34920;&#21333;&#20869;&#23481;&#65292;&#24182;&#23558;&#35813;&#23545;&#35937;&#20132;&#32473;&#25511;&#21046;&#22120;&#65292;&#23436;&#25104;&#30456;&#24212;&#30340;&#25805;&#20316;&#12290;&#23427;&#25903;&#25345;&#30340;&#21151;&#33021;&#26377;&#38450;&#27490;&#37325;&#22797;&#25552;&#20132;&#12289;&#34920;&#21333;&#39564;&#35777;&#20197;&#21450;&#19968;&#33324;&#30340;&#34920;&#21333;&#22788;&#29702;&#27969;&#31243;&#12290;&#23376;&#31867;&#38656;&#35201;&#23454;&#29616;&#33258;&#24049;&#30340;&#26041;&#27861;&#26469;&#25351;&#23450;&#37319;&#29992;&#21738;&#20010;&#35270;&#22270;&#26469;&#26174;&#31034;&#36755;&#20837;&#34920;&#21333;&#65292;&#21738;&#20010;&#35270;&#22270;&#26174;&#31034;&#34920;&#21333;&#27491;&#30830;&#25552;&#20132;&#21518;&#30340;&#32467;&#26524;&#12290;&#22914;&#26524;&#20320;&#38656;&#35201;&#34920;&#21333;&#65292;&#20294;&#19981;&#24819;&#22312;&#24212;&#29992;&#19978;&#19979;&#25991;&#20013;&#25351;&#23450;&#26174;&#31034;&#32473;&#29992;&#25143;&#30340;&#35270;&#22270;&#65292;&#23601;&#20351;&#29992;&#36825;&#20010;&#25511;&#21046;&#22120;&#12290;
			</p></li><li><p>
			<tt class="classname">SimpleFormController</tt> &#65293;&#65293;&#36825;&#26159;&#19968;&#20010;form cotnroller&#65292;&#24403;&#38656;&#35201;&#26681;&#25454;&#21629;&#20196;&#23545;&#35937;&#26469;&#21019;&#24314;&#30456;&#24212;&#30340;form&#30340;&#26102;&#20505;&#65292;&#35813;&#31867;&#21487;&#20197;&#25552;&#20379;&#26356;&#22810;&#30340;&#25903;&#25345;&#12290;&#20320;&#21487;&#20197;&#20026;&#20854;&#25351;&#23450;&#19968;&#20010;&#21629;&#20196;&#23545;&#35937;&#65292;&#26174;&#31034;&#34920;&#21333;&#30340;&#35270;&#22270;&#21517;&#65292;&#24403;&#34920;&#21333;&#25552;&#20132;&#25104;&#21151;&#21518;&#26174;&#31034;&#32473;&#29992;&#25143;&#30340;&#35270;&#22270;&#21517;&#31561;&#31561;&#12290;
			</p></li><li><p><tt class="classname">AbstractWizardFormController</tt> &#65293;&#65293;&#36825;&#26159;&#19968;&#20010;&#25277;&#35937;&#31867;&#65292;&#32487;&#25215;&#36825;&#20010;&#31867;&#38656;&#35201;&#23454;&#29616;<tt class="literal">validatePage()</tt>&#12289;<tt class="literal">processFinish()</tt> &#21644;<tt class="literal">processCancel()</tt> &#26041;&#27861;&#12290;</p><p>&#20320;&#26377;&#21487;&#33021;&#20063;&#38656;&#35201;&#20889;&#19968;&#20010;&#26500;&#36896;&#22120;&#65292;&#23427;&#33267;&#23569;&#38656;&#35201;&#35843;&#29992;<tt class="literal">setPages()</tt>&#21644;<tt class="literal">setCommandName()</tt>&#26041;&#27861;&#12290;setPages()&#30340;&#21442;&#25968;&#26159;&#19968;&#20010;String&#25968;&#32452;&#65292;&#36825;&#20010;&#25968;&#32452;&#21253;&#21547;&#20102;&#32452;&#25104;&#21521;&#23548;&#30340;&#35270;&#22270;&#21517;&#12290;setCommandName()&#30340;&#21442;&#25968;&#26159;&#19968;&#20010;String&#65292;&#35813;&#21442;&#25968;&#23558;&#29992;&#26469;&#22312;&#35270;&#22270;&#20013;&#35843;&#29992;&#20320;&#30340;&#21629;&#20196;&#23545;&#35937;&#12290;</p><p>&#21644;<tt class="classname">AbstractFormController</tt>&#30340;&#23454;&#29616;&#19968;&#26679;, &#20320;&#38656;&#35201;&#20351;&#29992;&#21629;&#20196;&#23545;&#35937;&#65288;&#20854;&#23454;&#23601;&#26159;&#19968;&#20010;JavaBean&#65292; &#36825;&#20010;bean&#20013;&#21253;&#21547;&#20102;&#34920;&#21333;&#30340;&#20449;&#24687;&#65289;&#12290;&#20320;&#26377;&#20004;&#20010;&#36873;&#25321;&#65306;&#22312;&#26500;&#36896;&#20989;&#25968;&#20013;&#35843;&#29992;<tt class="literal">setCommandClass()</tt>&#26041;&#27861;&#65288;&#21442;&#25968;&#26159;&#21629;&#20196;&#23545;&#35937;&#30340;&#31867;&#21517;&#65289;&#65292;&#25110;&#32773;&#23454;&#29616;<tt class="literal">formBackingObject()</tt>&#26041;&#27861;&#12290;</p><p><tt class="classname">AbstractWizardFormController</tt> &#26377;&#20960;&#20010;&#20320;&#21487;&#20197;&#22797;&#20889;&#65288;override&#65289;&#30340;&#26041;&#27861;&#12290;&#26368;&#26377;&#29992;&#30340;&#19968;&#20010;&#26159;<tt class="literal">referenceData(..)</tt>&#12290;&#36825;&#20010;&#26041;&#27861;&#20801;&#35768;&#20320;&#25226;&#27169;&#22411;&#25968;&#25454;&#20197;<tt class="interfacename">Map</tt>&#30340;&#26684;&#24335;&#20256;&#36882;&#32473;&#35270;&#22270;&#65307;<tt class="literal">getTargetPage()</tt> &#20801;&#35768;&#20320;&#21160;&#24577;&#22320;&#26356;&#25913;&#21521;&#23548;&#30340;&#39029;&#38754;&#39034;&#24207;&#65292;&#25110;&#32773;&#30452;&#25509;&#36339;&#36807;&#26576;&#20123;&#39029;&#38754;&#65307;<tt class="literal">onBindAndValidate()</tt> &#20801;&#35768;&#20320;&#22797;&#20889;&#20869;&#32622;&#30340;&#32465;&#23450;&#21644;&#39564;&#35777;&#27969;&#31243;&#12290;</p><p>&#26368;&#21518;&#65292;&#25105;&#20204;&#26377;&#24517;&#35201;&#25552;&#19968;&#19979;<tt class="literal">setAllowDirtyBack()</tt> &#21644;<tt class="literal">setAllowDirtyForward()</tt>&#20004;&#20010;&#26041;&#27861;&#12290; &#20320;&#21487;&#20197;&#22312;<tt class="literal">getTargetPage()</tt>&#20013;&#35843;&#29992;&#36825;&#20004;&#20010;&#26041;&#27861;&#65292;&#36825;&#20004;&#20010;&#26041;&#27861;&#23558;&#20915;&#23450;&#22312;&#24403;&#21069;&#39029;&#38754;&#39564;&#35777;&#22833;&#36133;&#26102;&#65292;&#26159;&#21542;&#20801;&#35768;&#21521;&#23548;&#21069;&#31227;&#25110;&#21518;&#36864;&#12290;</p><p><tt class="classname">AbstractWizardFormController</tt>&#30340;&#26356;&#35814;&#32454;&#20869;&#23481;&#35831;&#21442;&#32771;JavaDoc&#12290;&#22312;Spring&#38468;&#24102;&#30340;&#20363;&#23376;jPetStore&#20013;&#65292;&#26377;&#19968;&#20010;&#20851;&#20110;&#21521;&#23548;&#23454;&#29616;&#30340;&#20363;&#23376;&#65306;
            <tt class="classname">org.springframework.samples.jpetstore.web.spring.OrderFormController</tt>&#12290;</p></li></ul></div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="mvc-handlermapping"></a>13.4.&nbsp;&#22788;&#29702;&#22120;&#26144;&#23556;&#65288;handler mapping&#65289;</h2></div></div><div></div></div><p>&#36890;&#36807;&#22788;&#29702;&#22120;&#26144;&#23556;&#65292;&#20320;&#21487;&#20197;&#23558;web&#35831;&#27714;&#26144;&#23556;&#21040;&#27491;&#30830;&#30340;&#22788;&#29702;&#22120;(handler)&#19978;&#12290;Spring&#20869;&#32622;&#20102;&#24456;&#22810;&#22788;&#29702;&#22120;&#26144;&#23556;&#31574;&#30053;&#65292;&#20363;&#22914;&#65306;<tt class="classname">SimpleUrlHandlerMapping</tt>&#25110;&#32773;<tt class="classname">BeanNameUrlHandlerMapping</tt>&#12290;&#29616;&#22312;&#25105;&#20204;&#20808;&#26469;&#30475;&#19968;&#19979;<tt class="interfacename">HandlerMapping</tt>&#30340;&#22522;&#26412;&#27010;&#24565;&#12290;</p><p><tt class="interfacename">HandlerMapping</tt>&#30340;&#22522;&#26412;&#21151;&#33021;&#26159;&#23558;&#35831;&#27714;&#20256;&#36882;&#21040;<tt class="literal">HandlerExecutionChain</tt>&#19978;&#12290;&#39318;&#20808;&#65292;&#36825;&#20010;<tt class="literal">HandlerExecutionChain</tt>&#24517;&#39035;&#21253;&#21547;&#19968;&#20010;&#33021;&#22788;&#29702;&#35813;&#35831;&#27714;&#30340;&#22788;&#29702;&#22120;&#12290;&#20854;&#27425;&#65292;&#36825;&#20010;&#38142;&#20063;&#21487;&#20197;&#21253;&#21547;&#19968;&#31995;&#21015;&#21487;&#20197;&#25318;&#25130;&#35831;&#27714;&#30340;&#25318;&#25130;&#22120;&#12290;&#24403;&#25910;&#21040;&#35831;&#27714;&#26102;&#65292;<tt class="classname">DispatcherServlet</tt>&#23558;&#35831;&#27714;&#20132;&#32473;&#22788;&#29702;&#22120;&#26144;&#23556;&#65292;&#35753;&#23427;&#26816;&#26597;&#35831;&#27714;&#24182;&#25214;&#21040;&#19968;&#20010;&#36866;&#24403;&#30340;<tt class="literal">HandlerExecutionChain</tt>&#12290;&#28982;&#21518;&#65292;<tt class="classname">DispatcherServlet</tt>&#25191;&#34892;&#23450;&#20041;&#22312;&#38142;&#20013;&#30340;&#22788;&#29702;&#22120;&#21644;&#25318;&#25130;&#22120;(interceptor)&#12290;</p><p>&#22312;&#22788;&#29702;&#22120;&#26144;&#23556;&#20013;&#36890;&#36807;&#37197;&#32622;&#25318;&#25130;&#22120;&#65288;&#21253;&#25324;&#22788;&#29702;&#22120;&#25191;&#34892;&#21069;&#12289;&#25191;&#34892;&#21518;&#12289;&#25110;&#32773;&#25191;&#34892;&#21069;&#21518;&#36816;&#34892;&#25318;&#25130;&#22120;&#65289;&#23558;&#20351;&#20854;&#21151;&#33021;&#26356;&#24378;&#22823;&#12290;&#21516;&#26102;&#20063;&#21487;&#20197;&#36890;&#36807;&#33258;&#23450;&#20041;<tt class="interfacename">HandlerMapping</tt>&#26469;&#25903;&#25345;&#26356;&#22810;&#30340;&#21151;&#33021;&#12290;&#27604;&#22914;&#65292;&#19968;&#20010;&#33258;&#23450;&#20041;&#30340;&#22788;&#29702;&#22120;&#26144;&#23556;&#19981;&#20165;&#21487;&#20197;&#26681;&#25454;&#35831;&#27714;&#30340;URL&#65292;&#32780;&#19988;&#36824;&#21487;&#20197;&#26681;&#25454;&#21644;&#35831;&#27714;&#30456;&#20851;&#30340;session&#29366;&#24577;&#26469;&#36873;&#25321;&#22788;&#29702;&#22120;&#12290;
	</p><p>&#19979;&#38754;&#25105;&#20204;&#23558;&#35762;&#36848;Spring&#20013;&#26368;&#24120;&#29992;&#30340;&#20004;&#20010;&#22788;&#29702;&#22120;&#26144;&#23556;&#12290;&#23427;&#20204;&#37117;&#26159;<tt class="literal">AbstractHandlerMapping</tt>&#30340;&#23376;&#31867;&#65292;&#21516;&#26102;&#32487;&#25215;&#20102;&#19979;&#38754;&#36825;&#20123;&#23646;&#24615;: </p><div class="itemizedlist"><ul type="disc" compact><li><p><tt class="literal">interceptors</tt>&#65306; &#22312;&#26144;&#23556;&#20013;&#20351;&#29992;&#30340;&#25318;&#25130;&#22120;&#21015;&#34920;&#12290;<tt class="interfacename">HandlerInterceptor</tt>&#23558;&#22312;<a href="mvc.html#mvc-handlermapping-interceptor" title="13.4.3.&nbsp;&#25318;&#25130;&#22120;&#65288;HandlerInterceptor&#65289;">Section&nbsp;13.4.3, &#8220;&#25318;&#25130;&#22120;&#65288;HandlerInterceptor&#65289;&#8221;</a>&#36825;&#19968;&#33410;&#35762;&#36848;&#12290;</p></li><li><p><tt class="literal">defaultHandler</tt>&#65306; &#40664;&#35748;&#30340;&#22788;&#29702;&#22120;&#12290;&#24403;&#27809;&#26377;&#21512;&#36866;&#30340;&#22788;&#29702;&#22120;&#21487;&#20197;&#21305;&#37197;&#35831;&#27714;&#26102;&#65292;&#36825;&#20010;&#22788;&#29702;&#22120;&#23601;&#20250;&#34987;&#20351;&#29992;&#12290;</p></li><li><p><tt class="literal">order</tt>&#65306; &#26681;&#25454;&#27599;&#20010;&#26144;&#23556;&#30340;order&#23646;&#24615;&#20540; (&#30001;<tt class="literal">org.springframework.core.Ordered</tt> &#25509;&#21475;&#23450;&#20041;)&#65292;Spring &#23558;&#19978;&#19979;&#25991;&#20013;&#21487;&#29992;&#30340;&#26144;&#23556;&#36827;&#34892;&#25490;&#24207;&#65292;&#28982;&#21518;&#36873;&#29992;&#31532;&#19968;&#20010;&#21644;&#35831;&#27714;&#21305;&#37197;&#30340;&#22788;&#29702;&#22120;&#12290;
          </p></li><li><p><tt class="literal">alwaysUseFullPath</tt>&#65306;&#22914;&#26524;&#36825;&#20010;&#23646;&#24615;&#34987;&#35774;&#25104;<tt class="literal">true</tt>&#65292;Spring &#23558;&#20250;&#20351;&#29992;&#32477;&#23545;&#36335;&#24452;&#22312;&#24403;&#21069;&#30340;servlet context&#20013;&#23547;&#25214;&#21512;&#36866;&#30340;&#22788;&#29702;&#22120;&#12290; &#36825;&#20010;&#23646;&#24615;&#30340;&#40664;&#35748;&#20540;&#26159;<tt class="literal">false</tt>&#65292;&#22312;&#36825;&#31181;&#24773;&#20917;&#19979;&#65292;Spring&#20250;&#20351;&#29992;&#24403;&#21069;servlet context&#20013;&#30340;&#30456;&#23545;&#36335;&#24452;&#12290;&#20363;&#22914;&#65292;&#22914;&#26524;&#19968;&#20010;servlet&#22312;servlet-mapping&#20013;&#29992;&#30340;&#20540;&#26159;<tt class="literal">/testing/*</tt>&#65292;&#24403;<tt class="literal">alwaysUseFullPath</tt> &#35774;&#25104;true&#26102;&#65292;&#22788;&#29702;&#22120;&#26144;&#23556;&#20013;&#30340;URL&#26684;&#24335;&#24212;&#35813;&#20351;&#29992;<tt class="literal">/testing/viewPage.html</tt>&#65292;&#24403;&#36825;&#20010;&#23646;&#24615;&#35774;&#25104;false, &#21516;&#19968;&#20010;URL&#24212;&#35813;&#20889;&#25104;
		  <tt class="literal">/viewPage.html</tt>&#12290;</p></li><li><p><tt class="literal">urlPathHelper</tt>&#65306;&#25351;&#23450;&#22312;&#20998;&#26512;URL&#26102;&#20351;&#29992;&#30340;UrlPathHelper&#12290;&#36890;&#24120;&#20351;&#29992;&#20854;&#40664;&#35748;&#20540;&#12290;</p></li><li><p><tt class="literal">urlDecode</tt>: &#36825;&#20010;&#23646;&#24615;&#30340;&#40664;&#35748;&#20540;&#26159;<tt class="literal">false</tt>&#12290;HttpServletRequest&#36820;&#22238;&#26410;&#35299;&#30721;&#30340;&#35775;&#38382;URL&#21644;URI&#12290;<tt class="interfacename">HttpServletRequest</tt>&#20013;&#35831;&#27714;&#30340;URL&#21644;URI&#36824;&#20445;&#30041;&#22312;HTTP&#21327;&#35758;&#25152;&#23450;&#20041;&#32534;&#30721;&#29366;&#24577;&#65292;&#22914;&#26524;&#20320;&#24819;&#22312;<tt class="interfacename">HandlerMapping</tt>&#20351;&#29992;&#23427;&#20204;&#21457;&#29616;&#21512;&#36866;&#30340;&#22788;&#29702;&#22120;&#20043;&#21069;&#23545;URL&#36827;&#34892;&#35299;&#30721;&#65292;&#20320;&#24212;&#35813;&#25226;&#36825;&#20010;&#23646;&#24615;&#35774;&#25104;<tt class="literal">true</tt> &#65288;&#27880;&#24847;&#36825;&#38656;&#35201;JDK 1.4&#30340;&#25903;&#25345;&#65289;&#12290;&#35299;&#30721;&#26041;&#27861;&#20250;&#36873;&#29992;HTTP&#35831;&#27714;&#20013;&#25351;&#23450;&#30340;&#32534;&#30721;&#26684;&#24335;&#65292;&#25110;&#32570;&#30465;&#30340;ISO-8859-1&#32534;&#30721;&#26041;&#27861;&#12290; HTTP&#35831;&#27714;&#20013;&#19968;&#33324;&#20250;&#22768;&#26126;&#32534;&#30721;&#30340;&#26684;&#24335;&#65292;&#22914;&#26524;&#27809;&#26377;&#30340;&#35805;&#65292;&#40664;&#35748;&#20540;&#26159;ISO-8859-1&#12290;Spring&#20250;&#20351;&#29992;&#30456;&#24212;&#30340;&#35299;&#30721;&#31639;&#27861;&#12290;</p></li><li><p><tt class="literal">lazyInitHandlers</tt>: &#36825;&#20010;&#23646;&#24615;&#20801;&#35768;&#20320;&#35774;&#32622;&#26159;&#21542;&#24310;&#36831;<span class="emphasis"><em>singleton</em></span>&#22788;&#29702;&#22120;&#30340;&#21021;&#22987;&#21270;&#24037;&#20316;&#65288;prototype&#22788;&#29702;&#22120;&#30340;&#21021;&#22987;&#21270;&#37117;&#26159;&#24310;&#36831;&#30340;)&#12290; &#36825;&#20010;&#23646;&#24615;&#30340;&#40664;&#35748;&#20540;&#26159;<tt class="literal">false</tt>.</p></li></ul></div><p>(<span class="emphasis"><em>&#27880;&#24847;&#65306;&#26368;&#21518;&#22235;&#20010;&#23646;&#24615;&#21482;&#26377;<tt class="classname">org.springframework.web.servlet.handler.AbstractUrlHandlerMapping</tt>&#30340;&#23376;&#31867;&#25165;&#26377;&#12290;</em></span>)</p><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="mvc-handlermapping-beanname"></a>13.4.1.&nbsp;<tt class="classname">BeanNameUrlHandlerMapping</tt></h3></div></div><div></div></div><p><tt class="classname">BeanNameUrlHandlerMapping</tt>&#26159;&#19968;&#20010;&#31616;&#21333;&#20294;&#24456;&#24378;&#22823;&#30340;&#22788;&#29702;&#22120;&#26144;&#23556;&#65292;&#23427;&#23558;&#25910;&#21040;&#30340;HTTP&#35831;&#27714;&#26144;&#23556;&#21040;bean&#30340;&#21517;&#23383;&#19978;&#65288;&#36825;&#20123;bean&#38656;&#35201;&#22312;web&#24212;&#29992;&#19978;&#19979;&#25991;&#20013;&#23450;&#20041;&#65289;&#12290;&#20363;&#22914;&#65292;&#20026;&#20102;&#23454;&#29616;&#19968;&#20010;&#29992;&#25143;&#26032;&#24314;&#36134;&#21495;&#30340;&#21151;&#33021;&#65292;&#25105;&#20204;&#25552;&#20379;&#20102;FormController 
	  &#65288;&#20851;&#20110;CommandController&#21644;FormController&#35831;&#21442;&#32771;<a href="mvc.html#mvc-controller-command" title="13.3.4.&nbsp;&#21629;&#20196;&#25511;&#21046;&#22120;">Section&nbsp;13.3.4, &#8220;&#21629;&#20196;&#25511;&#21046;&#22120;&#8221;</a>&#65289;&#21644;&#26174;&#31034;&#34920;&#21333;&#30340;JSP&#35270;&#22270;&#65288;&#25110;Velocity&#27169;&#29256;&#65289;&#12290;&#24403;&#20351;&#29992;<tt class="classname">BeanNameUrlHandlerMapping</tt>&#26102;&#65292;&#25105;&#20204;&#29992;&#22914;&#19979;&#26041;&#24335;&#23558;&#21253;&#21547;<tt class="literal">http://samples.com/editaccount.form</tt>&#30340;&#35775;&#38382;&#35831;&#27714;&#26144;&#23556;&#21040;&#25351;&#23450;&#30340;FormController&#19978;&#65306;</p><pre class="programlisting">&lt;beans&gt;
  &lt;bean id="handlerMapping" class="org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping"/&gt;

  &lt;bean name="/editaccount.form" class="org.springframework.web.servlet.mvc.SimpleFormController"&gt;
    &lt;property name="formView" value="account"/&gt;
    &lt;property name="successView" value="account-created"/&gt;
    &lt;property name="commandName" value="account"/&gt;
    &lt;property name="commandClass" value="samples.Account"/&gt;
  &lt;/bean&gt;
&lt;beans&gt;</pre><p><tt class="literal">&#25152;&#26377;&#23545;/editaccount.form</tt>&#30340;&#35831;&#27714;&#23601;&#20250;&#30001;&#19978;&#38754;&#30340;FormController&#22788;&#29702;&#12290;&#24403;&#28982;&#25105;&#20204;&#24471;&#22312;<tt class="literal">web.xml</tt>&#20013;&#23450;&#20041;servlet-mapping&#65292;&#25509;&#21463;&#25152;&#26377;&#20197;<tt class="literal">.form</tt>&#32467;&#23614;&#30340;&#35831;&#27714;&#12290;</p><pre class="programlisting">&lt;web-app&gt;
    ...
    &lt;servlet&gt;
        &lt;servlet-name&gt;sample&lt;/servlet-name&gt;
        &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;
        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;
    &lt;/servlet&gt;

   <i class="lineannotation"><span class="lineannotation">&lt;!-- maps the sample dispatcher to <tt class="literal">*.form</tt> --&gt;</span></i>
    &lt;servlet-mapping&gt;
        &lt;servlet-name&gt;sample&lt;/servlet-name&gt;
        &lt;url-pattern&gt;*.form&lt;/url-pattern&gt;
    &lt;/servlet-mapping&gt;
    ...
&lt;/web-app&gt;</pre><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="http://www.redsaga.com/spring_ref/2.0RC2/images/admons/note.png"></td><th align="left">Note</th></tr><tr><td colspan="2" align="left" valign="top"><p>&#35201;&#20351;&#29992;<tt class="classname">BeanNameUrlHandlerMapping</tt>&#65292;&#26080;&#39035;&#65288;&#22914;&#19978;&#25152;&#31034;&#65289;&#22312;web&#24212;&#29992;&#19978;&#19979;&#25991;&#20013;&#23450;&#20041;&#23427;&#12290;&#32570;&#30465;&#24773;&#20917;&#19979;&#65292;&#22914;&#26524;&#22312;&#19978;&#19979;&#25991;&#20013;&#27809;&#26377;&#25214;&#21040;&#22788;&#29702;&#22120;&#26144;&#23556;&#65292;<tt class="classname">DispatcherServlet</tt>&#20250;&#20026;&#20320;&#21019;&#24314;&#19968;&#20010;<tt class="classname">BeanNameUrlHandlerMapping</tt>&#65281;</p></td></tr></table></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="mvc-handlermapping-urlhandlermapping"></a>13.4.2.&nbsp;<tt class="classname">SimpleUrlHandlerMapping</tt></h3></div></div><div></div></div><p>&#21478;&#19968;&#20010;&#26356;&#24378;&#22823;&#30340;&#22788;&#29702;&#22120;&#26144;&#23556;&#26159;<tt class="classname">SimpleUrlHandlerMapping</tt>&#12290;&#23427;&#22312;&#24212;&#29992;&#19978;&#19979;&#25991;&#20013;&#21487;&#20197;&#36827;&#34892;&#37197;&#32622;&#65292;&#24182;&#19988;&#26377;Ant&#39118;&#26684;&#30340;&#36335;&#24452;&#21305;&#37197;&#21151;&#33021;&#12290;(&#35831;&#21442;&#32771;<tt class="classname">org.springframework.util.PathMatcher</tt>&#30340;JavaDoc)&#12290;&#19979;&#38754;&#20960;&#20010;&#20363;&#23376;&#21487;&#20197;&#24110;&#21161;&#29702;&#35299;&#65306;</p><pre class="programlisting">&lt;web-app&gt;
    ...
    &lt;servlet&gt;
        &lt;servlet-name&gt;sample&lt;/servlet-name&gt;
        &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;
        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;
    &lt;/servlet&gt;

    <i class="lineannotation"><span class="lineannotation">&lt;!-- maps the sample dispatcher to *.form --&gt;</span></i>
    &lt;servlet-mapping&gt;
        &lt;servlet-name&gt;sample&lt;/servlet-name&gt;
        &lt;url-pattern&gt;*.form&lt;/url-pattern&gt;
    &lt;/servlet-mapping&gt;

    <i class="lineannotation"><span class="lineannotation">&lt;!-- maps the sample dispatcher to *.html --&gt;</span></i>
    &lt;servlet-mapping&gt;
        &lt;servlet-name&gt;sample&lt;/servlet-name&gt;
        &lt;url-pattern&gt;*.html&lt;/url-pattern&gt;
    &lt;/servlet-mapping&gt;
    ...
&lt;/web-app&gt;</pre><p>The above <tt class="literal">web.xml</tt> configuration snippet enables all requests
        ending with .html and <tt class="literal">.form</tt> to be handled by the sample dispatcher 
        servlet.</p><p>&#19978;&#38754;&#30340;web.xml&#35774;&#32622;&#20801;&#35768;&#25152;&#26377;&#20197;<tt class="literal">.html</tt>&#21644;<tt class="literal">.form</tt>&#32467;&#23614;&#30340;&#35831;&#27714;&#37117;&#30001;&#36825;&#20010;sample <tt class="classname">DispatcherServlet</tt>&#22788;&#29702;&#12290;</p><pre class="programlisting">&lt;beans&gt;
        
    <i class="lineannotation"><span class="lineannotation">&lt;!-- no <tt class="literal">'id'</tt> required, <tt class="interfacename">HandlerMapping</tt> beans are automatically detected by the <tt class="classname">DispatcherServlet</tt> --&gt;</span></i>
    &lt;bean class="org.springframework.web.servlet.handler.SimpleUrlHandlerMapping"&gt;
        &lt;property name="mappings"&gt;
            &lt;value&gt;
                /*/account.form=editAccountFormController
                /*/editaccount.form=editAccountFormController
                /ex/view*.html=helpController
                /**/help.html=helpController
            &lt;/value&gt;
        &lt;/property&gt;
    &lt;/bean&gt;

    &lt;bean id="helpController"
          class="org.springframework.web.servlet.mvc.UrlFilenameViewController"/&gt;

    &lt;bean id="editAccountFormController"
          class="org.springframework.web.servlet.mvc.SimpleFormController"&gt;
        &lt;property name="formView" value="account"/&gt;
        &lt;property name="successView" value="account-created"/&gt;
        &lt;property name="commandName" value="Account"/&gt;
        &lt;property name="commandClass" value="samples.Account"/&gt;
    &lt;/bean&gt;
&lt;beans&gt;</pre><p>&#36825;&#20010;&#22788;&#29702;&#22120;&#26144;&#23556;&#39318;&#20808;&#23558;&#23545;&#25152;&#26377;&#30446;&#24405;&#20013;&#25991;&#20214;&#21517;&#20026;<tt class="literal">help.html</tt>&#30340;&#35831;&#27714;&#20256;&#36882;&#32473;<tt class="literal">helpController</tt>&#12290; <tt class="literal">helpController</tt>&#26159;&#19968;&#20010;<tt class="classname">UrlFilenameViewController</tt> (&#35201;&#20102;&#35299;&#26356;&#22810;&#20851;&#20110;&#25511;&#21046;&#22120;&#30340;&#20449;&#24687;&#65292;&#35831;&#21442;&#38405;
        <a href="mvc.html#mvc-controller" title="13.3.&nbsp;&#25511;&#21046;&#22120;">Section&nbsp;13.3, &#8220;&#25511;&#21046;&#22120;&#8221;</a>)&#12290;&#23545;<tt class="literal">ex</tt>&#30446;&#24405;&#20013;&#25152;&#26377;&#20197;<tt class="literal">view</tt>&#24320;&#22987;&#65292;&#20197;<tt class="literal">.html</tt>
		&#32467;&#23614;&#30340;&#35831;&#27714;&#37117;&#20250;&#34987;&#20256;&#36882;&#32473;<tt class="literal">helpController</tt>&#12290; &#21516;&#26679;&#30340;&#65292;&#25105;&#20204;&#20063;&#20026;<tt class="literal">editAccountFormController</tt>&#23450;&#20041;&#20102;&#20004;&#20010;&#26144;&#23556;&#12290;</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="mvc-handlermapping-interceptor"></a>13.4.3.&nbsp;&#25318;&#25130;&#22120;&#65288;<tt class="interfacename">HandlerInterceptor</tt>&#65289;</h3></div></div><div></div></div><p>Spring&#30340;&#22788;&#29702;&#22120;&#26144;&#23556;&#25903;&#25345;&#25318;&#25130;&#22120;&#12290;&#24403;&#20320;&#24819;&#35201;&#20026;&#26576;&#20123;&#35831;&#27714;&#25552;&#20379;&#29305;&#27530;&#21151;&#33021;&#26102;&#65292;&#20363;&#22914;&#23545;&#29992;&#25143;&#36827;&#34892;&#36523;&#20221;&#35748;&#35777;&#65292;&#36825;&#23601;&#38750;&#24120;&#26377;&#29992;&#12290;</p><p>&#22788;&#29702;&#22120;&#26144;&#23556;&#20013;&#30340;&#25318;&#25130;&#22120;&#24517;&#39035;&#23454;&#29616;<tt class="literal">org.springframework.web.servlet</tt>&#21253;&#20013;&#30340;<tt class="interfacename">HandlerInterceptor</tt>&#25509;&#21475;&#12290;&#36825;&#20010;&#25509;&#21475;&#23450;&#20041;&#20102;&#19977;&#20010;&#26041;&#27861;&#65292;&#19968;&#20010;&#22312;&#22788;&#29702;&#22120;<span class="emphasis"><em>&#25191;&#34892;&#21069;</em></span>&#34987;&#35843;&#29992;&#65292;&#19968;&#20010;&#22312;&#22788;&#29702;&#22120;<span class="emphasis"><em>&#25191;&#34892;&#21518;</em></span>&#34987;&#35843;&#29992;&#65292;&#21478;&#19968;&#20010;<span class="emphasis"><em>&#22312;&#25972;&#20010;&#35831;&#27714;&#22788;&#29702;&#23436;&#21518;</em></span>&#35843;&#29992;&#12290;&#36825;&#19977;&#20010;&#26041;&#27861;&#25552;&#20379;&#20320;&#36275;&#22815;&#30340;&#28789;&#27963;&#24230;&#20570;&#20219;&#20309;&#22788;&#29702;&#21069;&#21518;&#30340;&#25805;&#20316;&#12290;</p><p><tt class="literal">preHandle(..)</tt>&#26041;&#27861;&#26377;&#19968;&#20010;boolean&#36820;&#22238;&#20540;&#12290;&#20351;&#29992;&#36825;&#20010;&#20540;&#65292;&#20320;&#21487;&#20197;&#35843;&#25972;&#25191;&#34892;&#38142;&#30340;&#34892;&#20026;&#12290;&#24403;&#36820;&#22238;<tt class="literal">true</tt>&#26102;&#65292;&#22788;&#29702;&#22120;&#25191;&#34892;&#38142;&#23558;&#32487;&#32493;&#25191;&#34892;&#65292;&#24403;&#36820;&#22238;<tt class="literal">false</tt>&#26102;&#65292;<tt class="classname">DispatcherServlet</tt>&#35748;&#20026;&#35813;&#25318;&#25130;&#22120;&#24050;&#32463;&#22788;&#29702;&#23436;&#20102;&#35831;&#27714;&#65288;&#27604;&#22914;&#26174;&#31034;&#27491;&#30830;&#30340;&#35270;&#22270;&#65289;&#65292;&#32780;&#19981;&#32487;&#32493;&#25191;&#34892;&#25191;&#34892;&#38142;&#20013;&#30340;&#20854;&#23427;&#25318;&#25130;&#22120;&#21644;&#22788;&#29702;&#22120;&#12290;</p><p>&#19979;&#38754;&#30340;&#20363;&#23376;&#25552;&#20379;&#20102;&#19968;&#20010;&#25318;&#25130;&#22120;&#65292;&#23427;&#25318;&#25130;&#25152;&#26377;&#35831;&#27714;&#65292;&#22914;&#26524;&#24403;&#21069;&#26102;&#38388;&#19981;&#26159;&#22312;&#19978;&#21320;9&#28857;&#21040;&#19979;&#21320;6&#28857;&#65292;&#23427;&#23558;&#29992;&#25143;&#37325;&#23450;&#21521;&#21040;&#26576;&#20010;&#39029;&#38754;&#12290;</p><pre class="programlisting">&lt;beans&gt;
    &lt;bean id="handlerMapping"
          class="org.springframework.web.servlet.handler.SimpleUrlHandlerMapping"&gt;
        &lt;property name="interceptors"&gt;
            &lt;list&gt;
                &lt;ref bean="officeHoursInterceptor"/&gt;
            &lt;/list&gt;
        &lt;/property&gt;
        &lt;property name="mappings"&gt;
            &lt;value&gt;
                /*.form=editAccountFormController
                /*.view=editAccountFormController
            &lt;/value&gt;
        &lt;/property&gt;
    &lt;/bean&gt;

    &lt;bean id="officeHoursInterceptor"
          class="samples.TimeBasedAccessInterceptor"&gt;
        &lt;property name="openingTime" value="9"/&gt;
        &lt;property name="closingTime" value="18"/&gt;
    &lt;/bean&gt;
&lt;beans&gt;</pre><pre class="programlisting">package samples;

public class TimeBasedAccessInterceptor extends HandlerInterceptorAdapter {

    private int openingTime;
    private int closingTime;

    public void setOpeningTime(int openingTime) {
        this.openingTime = openingTime;
    }

    public void setClosingTime(int closingTime) {
        this.closingTime = closingTime;
    }

    public boolean preHandle(
            HttpServletRequest request,
            HttpServletResponse response,
            Object handler) throws Exception {

        Calendar cal = Calendar.getInstance();
        int hour = cal.get(HOUR_OF_DAY);
        if (openingTime &lt;= hour &lt; closingTime) {
            return true;
        } else {
            response.sendRedirect("http://host.com/outsideOfficeHours.html");
            return false;
        }
    }
}</pre><p>&#25152;&#26377;&#30340;&#35831;&#27714;&#37117;&#23558;&#34987;<tt class="classname">TimeBasedAccessInterceptor</tt>&#25130;&#33719;&#65292;&#22914;&#26524;&#24403;&#21069;&#26102;&#38388;&#19981;&#22312;&#19978;&#29677;&#26102;&#38388;&#65292;&#29992;&#25143;&#20250;&#34987;&#37325;&#23450;&#21521;&#21040;&#19968;&#20010;&#38745;&#24577;html&#39029;&#38754;&#65292;&#25552;&#20379;&#35832;&#22914;&#21482;&#26377;&#19978;&#29677;&#26102;&#38388;&#25165;&#33021;&#35775;&#38382;&#32593;&#31449;&#20043;&#31867;&#30340;&#21578;&#31034;&#12290;</p><p>Spring&#36824;&#25552;&#20379;&#20102;&#19968;&#20010;adapter&#31867;<tt class="classname">HandlerInterceptorAdapter</tt>&#35753;&#29992;&#25143;&#26356;&#26041;&#20415;&#30340;&#25193;&#23637;<tt class="interfacename">HandlerInterceptor</tt>&#25509;&#21475;&#12290;</p></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="mvc-viewresolver"></a>13.5.&nbsp;&#35270;&#22270;&#19982;&#35270;&#22270;&#35299;&#26512;</h2></div></div><div></div></div><p>&#25152;&#26377;web&#24212;&#29992;&#30340;MVC&#26694;&#26550;&#37117;&#26377;&#23427;&#20204;&#22788;&#29702;&#35270;&#22270;&#30340;&#26041;&#24335;&#12290;Spring&#25552;&#20379;&#20102;&#35270;&#22270;&#35299;&#26512;&#22120;&#20379;&#20320;&#22312;&#27983;&#35272;&#22120;&#26174;&#31034;&#27169;&#22411;&#25968;&#25454;&#65292;&#32780;&#19981;&#24517;&#34987;&#26463;&#32538;&#22312;&#29305;&#23450;&#30340;&#35270;&#22270;&#25216;&#26415;&#19978;&#12290;Spring&#20869;&#32622;&#20102;&#23545;JSP&#65292;Velocity&#27169;&#29256;&#21644;XSLT&#35270;&#22270;&#30340;&#25903;&#25345;&#12290; <a href="view.html" title="Chapter&nbsp;14.&nbsp;&#38598;&#25104;&#35270;&#22270;&#25216;&#26415;">Chapter&nbsp;14, <i>&#38598;&#25104;&#35270;&#22270;&#25216;&#26415;</i></a>&#36825;&#19968;&#31456;&#35814;&#32454;&#35828;&#26126;&#20102;Spring&#22914;&#20309;&#19982;&#19981;&#21516;&#30340;&#35270;&#22270;&#25216;&#26415;&#38598;&#25104;&#12290;</p><p><tt class="interfacename">ViewResolver</tt>&#21644;<tt class="interfacename">View</tt>&#26159;Spring&#30340;&#35270;&#22270;&#22788;&#29702;&#26041;&#24335;&#20013;&#29305;&#21035;&#37325;&#35201;&#30340;&#20004;&#20010;&#25509;&#21475;&#12290; <tt class="interfacename">ViewResolver</tt>&#25552;&#20379;&#20102;&#20174;&#35270;&#22270;&#21517;&#31216;&#21040;&#23454;&#38469;&#35270;&#22270;&#30340;&#26144;&#23556;&#12290;<tt class="interfacename">View</tt>&#22788;&#29702;&#35831;&#27714;&#30340;&#20934;&#22791;&#24037;&#20316;&#65292;
	&#24182;&#23558;&#35813;&#35831;&#27714;&#25552;&#20132;&#32473;&#26576;&#31181;&#20855;&#20307;&#30340;&#35270;&#22270;&#25216;&#26415;&#12290;</p><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="mvc-viewresolver-resolver"></a>13.5.1.&nbsp;&#35270;&#22270;&#35299;&#26512;&#22120;</h3></div></div><div></div></div><p>&#27491;&#22914;&#21069;&#38754;&#65288;<a href="mvc.html#mvc-controller" title="13.3.&nbsp;&#25511;&#21046;&#22120;">Section&nbsp;13.3, &#8220;&#25511;&#21046;&#22120;&#8221;</a>&#65289;&#25152;&#35752;&#35770;&#30340;&#65292;SpringWeb&#26694;&#26550;&#30340;&#25152;&#26377;&#25511;&#21046;&#22120;&#37117;&#36820;&#22238;&#19968;&#20010;<tt class="classname">ModelAndView</tt>&#23454;&#20363;&#12290;Sprnig&#20013;&#30340;&#35270;&#22270;&#20197;&#21517;&#23383;&#20026;&#26631;&#35782;&#65292;&#35270;&#22270;&#35299;&#26512;&#22120;&#36890;&#36807;&#21517;&#23383;&#26469;&#35299;&#26512;&#35270;&#22270;&#12290;Spring&#25552;&#20379;&#20102;&#22810;&#31181;&#35270;&#22270;&#35299;&#26512;&#22120;&#12290;&#25105;&#20204;&#23558;&#20030;&#20363;&#21152;&#20197;&#35828;&#26126;&#12290;</p><div class="table"><a name="d0e16588"></a><p class="title"><b>Table&nbsp;13.5.&nbsp;&#35270;&#22270;&#35299;&#26512;&#22120;</b></p><table summary="&#35270;&#22270;&#35299;&#26512;&#22120;" border="1"><colgroup><col><col></colgroup><thead><tr><th><tt class="interfacename">ViewResolver</tt></th><th>&#25551;&#36848;</th></tr></thead><tbody><tr><td><tt class="classname">AbstractCachingViewResolver</tt></td><td>
			  &#25277;&#35937;&#35270;&#22270;&#35299;&#26512;&#22120;&#23454;&#29616;&#20102;&#23545;&#35270;&#22270;&#30340;&#32531;&#23384;&#12290;&#22312;&#35270;&#22270;&#34987;&#25237;&#20837;&#20351;&#29992;&#20043;&#21069;&#65292;&#36890;&#24120;&#38656;&#35201;&#36827;&#34892;&#19968;&#20123;&#20934;&#22791;&#24037;&#20316;&#12290;&#20174;&#23427;&#32487;&#25215;&#30340;&#35270;&#22270;&#35299;&#26512;&#22120;&#23558;&#23545;&#35201;&#35299;&#26512;&#30340;&#35270;&#22270;&#36827;&#34892;&#32531;&#23384;&#12290;
			  </td></tr><tr><td><tt class="classname">XmlViewResolver</tt></td><td>
			  XmlViewResolver&#23454;&#29616;<tt class="interfacename">ViewResolver</tt>&#65292;&#25903;&#25345;XML&#26684;&#24335;&#30340;&#37197;&#32622;&#25991;&#20214;&#12290;&#35813;&#37197;&#32622;&#25991;&#20214;&#24517;&#39035;&#37319;&#29992;&#19982;Spring XML Bean Factory&#30456;&#21516;&#30340;DTD&#12290;&#40664;&#35748;&#30340;&#37197;&#32622;&#25991;&#20214;&#26159;
			  <tt class="literal">/WEB-INF/views.xml</tt>&#12290;
			  </td></tr><tr><td><tt class="classname">ResourceBundleViewResolver</tt></td><td>
			  ResourceBundleViewResolver&#23454;&#29616;<tt class="interfacename">ViewResolver</tt>&#65292;&#22312;&#19968;&#20010;<tt class="classname">ResourceBundle</tt>&#20013;&#23547;&#25214;&#25152;&#38656;bean&#30340;&#23450;&#20041;&#12290;&#36825;&#20010;bundle&#36890;&#24120;&#23450;&#20041;&#22312;&#19968;&#20010;&#20301;&#20110;classpath&#20013;&#30340;&#23646;&#24615;&#25991;&#20214;&#20013;&#12290;&#40664;&#35748;&#30340;&#23646;&#24615;&#25991;&#20214;&#26159;<tt class="literal">views.properties</tt>&#12290;			  
			  </td></tr><tr><td><tt class="classname">UrlBasedViewResolver</tt></td><td>
			  UrlBasedViewResolver&#23454;&#29616;<tt class="interfacename">ViewResolver</tt>&#65292;&#23558;&#35270;&#22270;&#21517;&#30452;&#25509;&#35299;&#26512;&#25104;&#23545;&#24212;&#30340;URL&#65292;&#19981;&#38656;&#35201;&#26174;&#24335;&#30340;&#26144;&#23556;&#23450;&#20041;&#12290;&#22914;&#26524;&#20320;&#30340;&#35270;&#22270;&#21517;&#21644;&#35270;&#22270;&#36164;&#28304;&#30340;&#21517;&#23383;&#26159;&#19968;&#33268;&#30340;&#65292;&#23601;&#21487;&#20351;&#29992;&#35813;&#35299;&#26512;&#22120;&#65292;&#32780;&#26080;&#38656;&#36827;&#34892;&#26144;&#23556;&#12290; 
			  </td></tr><tr><td><tt class="classname">InternalResourceViewResolver</tt></td><td>
			  &#20316;&#20026;<tt class="classname">UrlBasedViewResolver</tt>&#30340;&#23376;&#31867;&#65292;&#23427;&#25903;&#25345;<tt class="classname">InternalResourceView</tt>&#65288;&#23545;Servlet&#21644;JSP&#30340;&#21253;&#35013;&#65289;&#65292;&#20197;&#21450;&#20854;&#23376;&#31867;<tt class="classname">JstlView</tt>&#21644;<tt class="classname">TilesView</tt>&#12290;&#36890;&#36807;<tt class="literal">setViewClass</tt>&#26041;&#27861;&#65292;&#21487;&#20197;&#25351;&#23450;&#29992;&#20110;&#35813;&#35299;&#26512;&#22120;&#29983;&#25104;&#35270;&#22270;&#20351;&#29992;&#30340;&#35270;&#22270;&#31867;&#12290;&#26356;&#22810;&#20449;&#24687;&#35831;&#21442;&#32771;<tt class="classname">UrlBasedViewResolver</tt>&#30340;Javadoc&#12290;
			  </td></tr><tr><td><tt class="classname">VelocityViewResolver</tt> / <tt class="classname">FreeMarkerViewResolver</tt></td><td>
			  &#20316;&#20026;<tt class="classname">UrlBasedViewResolver</tt>&#30340;&#23376;&#31867;&#65292;&#23427;&#33021;&#25903;&#25345;<tt class="classname">VelocityView</tt>&#65288;&#23545;Velocity&#27169;&#29256;&#30340;&#21253;&#35013;&#65289;&#21644;<tt class="classname">FreeMarkerView</tt>&#20197;&#21450;&#23427;&#20204;&#30340;&#23376;&#31867;&#12290;
			  </td></tr></tbody></table></div><p>&#20030;&#20363;&#26469;&#35828;&#65292;&#24403;&#20351;&#29992;JSP&#20316;&#20026;&#35270;&#22270;&#23618;&#25216;&#26415;&#26102;&#65292;&#23601;&#21487;&#20197;&#20351;&#29992;<tt class="classname">UrlBasedViewResolver</tt>&#12290;&#36825;&#20010;&#35270;&#22270;&#35299;&#26512;&#22120;&#20250;&#23558;&#35270;&#22270;&#21517;&#35299;&#26512;&#25104;URL&#65292;&#24182;&#23558;&#35831;&#27714;&#20256;&#36882;&#32473;RequestDispatcher&#26469;&#26174;&#31034;&#35270;&#22270;&#12290;</p><pre class="programlisting">&lt;bean id="viewResolver"
      class="org.springframework.web.servlet.view.UrlBasedViewResolver"&gt;
    &lt;property name="prefix" value="/WEB-INF/jsp/"/&gt;
    &lt;property name="suffix" value=".jsp"/&gt;
&lt;/bean&gt;</pre><p>&#24403;&#36820;&#22238;&#30340;&#35270;&#22270;&#21517;&#20026;<tt class="literal">test</tt>&#26102;&#65292;&#36825;&#20010;&#35270;&#22270;&#35299;&#26512;&#22120;&#23558;&#35831;&#27714;&#20256;&#36882;&#32473;<tt class="classname">RequestDispatcher</tt>&#65292;<tt class="classname">RequestDispatcher</tt>&#20877;&#23558;&#35831;&#27714;&#20256;&#36882;&#32473;<tt class="literal">/WEB-INF/jsp/test.jsp</tt>&#12290;</p><p>&#24403;&#22312;&#19968;&#20010;web&#24212;&#29992;&#20013;&#28151;&#21512;&#20351;&#29992;&#19981;&#21516;&#30340;&#35270;&#22270;&#25216;&#26415;&#26102;&#65292;&#20320;&#21487;&#20197;&#20351;&#29992;<tt class="classname">ResourceBundleViewResolver</tt>:</p><pre class="programlisting">&lt;bean id="viewResolver"
      class="org.springframework.web.servlet.view.ResourceBundleViewResolver"&gt;
    &lt;property name="basename" value="views"/&gt;
    &lt;property name="defaultParentView" value="parentView"/&gt;
&lt;/bean&gt;</pre><p><tt class="classname">ResourceBundleViewResolver</tt>&#36890;&#36807;basename&#25152;&#25351;&#23450;&#30340;<tt class="classname">ResourceBundle</tt>&#35299;&#26512;&#35270;&#22270;&#21517;&#12290;&#23545;&#27599;&#20010;&#24453;&#35299;&#26512;&#30340;&#35270;&#22270;&#65292;ResourceBundle&#37324;<tt class="literal">&#30340;[&#35270;&#22270;&#21517;].class</tt>&#25152;&#23545;&#24212;&#30340;&#20540;&#23601;&#26159;&#23454;&#29616;&#35813;&#35270;&#22270;&#30340;&#31867;&#12290;&#21516;&#26679;&#65292;<tt class="literal">[&#35270;&#22270;&#21517;].url</tt>&#25152;&#23545;&#24212;&#30340;&#20540;&#26159;&#35813;&#35270;&#22270;&#25152;&#23545;&#24212;&#30340;URL&#12290;&#20174;&#19978;&#38754;&#30340;&#20363;&#23376;&#37324;&#20320;&#20063;&#21487;&#20197;&#21457;&#29616;&#65292;&#20320;&#21487;&#20197;&#25351;&#23450;&#19968;&#20010;parent view&#65292;&#20854;&#23427;&#30340;&#35270;&#22270;&#37117;&#21487;&#20197;&#20174;parent view&#25193;&#23637;&#12290;&#29992;&#36825;&#31181;&#26041;&#27861;&#65292;&#20320;&#21487;&#20197;&#22768;&#26126;&#19968;&#20010;&#40664;&#35748;&#30340;&#35270;&#22270;&#12290;</p><p><span class="emphasis"><em>&#20851;&#20110;&#35270;&#22270;&#32531;&#23384;&#30340;&#27880;&#24847;&#20107;&#39033;</em></span> &#65293;&#65293;&#32487;&#25215;<tt class="classname">AbstractCachingViewResolver</tt>&#30340;&#35299;&#26512;&#22120;&#21487;&#20197;&#32531;&#23384;&#23427;&#26366;&#32463;&#35299;&#26512;&#36807;&#30340;&#35270;&#22270;&#12290;&#24403;&#20351;&#29992;&#26576;&#20123;&#35270;&#22270;&#25216;&#26415;&#26102;&#65292;&#36825;&#21487;&#20197;&#22823;&#24133;&#24230;&#30340;&#25552;&#21319;&#24615;&#33021;&#12290;&#20320;&#20063;&#21487;&#20197;&#20851;&#25481;&#32531;&#23384;&#21151;&#33021;&#65292;&#21482;&#35201;&#25226;<tt class="literal">cache</tt>&#23646;&#24615;&#35774;&#25104;<tt class="literal">false</tt>&#23601;&#21487;&#20197;&#20102;&#12290;&#32780;&#19988;&#65292;&#22914;&#26524;&#20320;&#38656;&#35201;&#22312;&#31995;&#32479;&#36816;&#34892;&#26102;&#21160;&#24577;&#22320;&#26356;&#26032;&#26576;&#20123;&#35270;&#22270;&#65288;&#27604;&#22914;&#65292;&#24403;&#19968;&#20010;Velocity&#27169;&#26495;&#34987;&#20462;&#25913;&#20102;&#65289;&#65292;&#20320;&#21487;&#20197;&#35843;&#29992;<tt class="literal">removeFromCache(String viewName, Locale loc)</tt>&#26041;&#27861;&#26469;&#36798;&#21040;&#30446;&#30340;&#12290;</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="mvc-viewresolver-chaining"></a>13.5.2.&nbsp;&#35270;&#22270;&#35299;&#26512;&#38142;</h3></div></div><div></div></div><p>Spring&#25903;&#25345;&#22810;&#20010;&#35270;&#22270;&#35299;&#26512;&#22120;&#19968;&#36215;&#20351;&#29992;&#12290;&#20320;&#21487;&#20197;&#25226;&#23427;&#20204;&#24403;&#20316;&#19968;&#20010;&#35299;&#26512;&#38142;&#12290;&#36825;&#26679;&#26377;&#24456;&#22810;&#22909;&#22788;&#65292;&#27604;&#22914;&#22312;&#29305;&#23450;&#24773;&#20917;&#19979;&#37325;&#26032;&#23450;&#20041;&#26576;&#20123;&#35270;&#22270;&#12290;&#23450;&#20041;&#35270;&#22270;&#35299;&#26512;&#38142;&#24456;&#23481;&#26131;&#65292;&#21482;&#35201;&#22312;&#24212;&#29992;&#19978;&#19979;&#25991;&#20013;&#23450;&#20041;&#22810;&#20010;&#35299;&#26512;&#22120;&#23601;&#21487;&#20197;&#20102;&#12290;&#24517;&#35201;&#26102;&#65292;&#20063;&#21487;&#20197;&#36890;&#36807;<tt class="literal">order</tt>&#23646;&#24615;&#26469;&#22768;&#26126;&#27599;&#20010;&#35299;&#26512;&#22120;&#30340;&#24207;&#21015;&#12290;&#20320;&#35201;&#35760;&#20303;&#30340;&#26159;&#65292;&#26576;&#20010;&#35299;&#26512;&#22120;&#30340;order&#36234;&#39640;, &#23427;&#22312;&#35299;&#26512;&#38142;&#20013;&#30340;&#20301;&#32622;&#36234;&#38752;&#21518;&#12290;</p><p>&#19979;&#38754;&#36825;&#20010;&#20363;&#23376;&#23637;&#31034;&#20102;&#19968;&#20010;&#21253;&#21547;&#20004;&#20010;&#35299;&#26512;&#22120;&#30340;&#35299;&#26512;&#38142;&#12290;&#19968;&#20010;&#26159;<tt class="classname">InternalResourceViewResolver</tt>&#65292;&#36825;&#20010;&#35299;&#26512;&#22120;&#24635;&#26159;&#34987;&#33258;&#21160;&#30340;&#25918;&#21040;&#38142;&#30340;&#26411;&#31471;&#12290;&#21478;&#19968;&#20010;&#26159;<tt class="classname">XmlViewResolver</tt>&#65292;&#23427; &#25903;&#25345;&#35299;&#26512;Excel&#35270;&#22270;&#65288;&#32780;<tt class="classname">InternalResourceViewResolver</tt>&#19981;&#21487;&#20197;&#65289;&#12290;</p><pre class="programlisting">&lt;bean id="jspViewResolver" class="org.springframework.web.servlet.view.InternalResourceViewResolver"&gt;
  &lt;property name="viewClass" value="org.springframework.web.servlet.view.JstlView"/&gt;
  &lt;property name="prefix" value="/WEB-INF/jsp/"/&gt;
  &lt;property name="suffix" value=".jsp"/&gt;
&lt;/bean&gt;

&lt;bean id="excelViewResolver" class="org.springframework.web.servlet.view.XmlViewResolver"&gt;
  &lt;property name="order" value="1"/&gt;
  &lt;property name="location" value="/WEB-INF/views.xml"/&gt;
&lt;/bean&gt;

<i class="lineannotation"><span class="lineannotation">&lt;!-- in <tt class="literal">views.xml</tt> --&gt;</span></i>

&lt;beans&gt;
  &lt;bean name="report" class="org.springframework.example.ReportExcelView"/&gt;
&lt;/beans&gt;</pre><p>&#22914;&#26524;&#26576;&#20010;&#35299;&#26512;&#22120;&#27809;&#26377;&#25214;&#21040;&#21512;&#36866;&#30340;&#35270;&#22270;&#65292;Spring&#20250;&#22312;&#19978;&#19979;&#25991;&#20013;&#23547;&#25214;&#26159;&#21542;&#37197;&#32622;&#20102;&#20854;&#23427;&#30340;&#35299;&#26512;&#22120;&#12290;&#22914;&#26524;&#26377;&#65292;&#23427;&#20250;&#32487;&#32493;&#36827;&#34892;&#35299;&#26512;&#65292;&#21542;&#21017;&#65292;Srping&#20250;&#25243;&#20986;&#19968;&#20010;<tt class="classname">Exception</tt>&#12290;</p><p>&#20320;&#35201;&#35760;&#20303;&#65292;&#24403;&#19968;&#20010;&#35270;&#22270;&#35299;&#26512;&#22120;&#25214;&#19981;&#21040;&#21512;&#36866;&#30340;&#35270;&#22270;&#26102;&#65292;&#23427;<span class="emphasis"><em>&#21487;&#33021;</em></span> &#36820;&#22238;null&#20540;&#12290;&#20294;&#26159;&#65292;&#19981;&#26159;&#27599;&#20010;&#35299;&#26512;&#22120;&#37117;&#36825;&#20040;&#20570;&#12290; &#36825;&#26159;&#22240;&#20026;&#65292;&#22312;&#26576;&#20123;&#24773;&#20917;&#19979;&#65292;&#35299;&#26512;&#22120;&#21487;&#33021;&#26080;&#27861;&#20390;&#27979;&#20986;&#31526;&#21512;&#35201;&#27714;&#30340;&#35270;&#22270;&#26159;&#21542;&#23384;&#22312;&#12290;&#27604;&#22914;&#65292;<tt class="classname">InternalResourceViewResolver</tt>&#22312;&#20869;&#37096;&#35843;&#29992;&#20102;<tt class="classname">RequestDispatcher</tt>&#12290;&#35831;&#27714;&#20998;&#21457;&#26159;&#26816;&#26597;&#19968;&#20010;JSP&#25991;&#20214;&#26159;&#21542;&#23384;&#22312;&#30340;&#21807;&#19968;&#26041;&#27861;&#65292;&#19981;&#24184;&#30340;&#26159;&#65292;&#36825;&#20010;&#26041;&#27861;&#21482;&#33021;&#29992;&#19968;&#27425;&#12290;&#21516;&#26679;&#30340;&#38382;&#39064;&#22312;<tt class="classname">VelocityViewResolver</tt>&#21644;&#20854;&#23427;&#35299;&#26512;&#22120;&#20013;&#20063;&#26377;&#12290;&#24403;&#20320;&#20351;&#29992;&#36825;&#20123;&#35299;&#26512;&#22120;&#26102;&#65292;&#20320;&#26368;&#22909;&#20180;&#32454;&#38405;&#35835;&#23427;&#20204;&#30340;Javadoc&#65292;&#30475;&#30475;&#20320;&#38656;&#35201;&#30340;&#35299;&#26512;&#22120;&#26159;&#21542;&#26080;&#27861;&#21457;&#29616;&#19981;&#23384;&#22312;&#30340;&#35270;&#22270;&#12290;&#36825;&#20010;&#38382;&#39064;&#20135;&#29983;&#30340;&#21103;&#20316;&#29992;&#26159;&#65292;&#22914;&#26524;<tt class="classname">InternalResourceViewResolver</tt>&#35299;&#26512;&#22120;&#27809;&#26377;&#25918;&#22312;&#38142;&#30340;&#26411;&#31471;&#65292;<tt class="classname">InternalResourceViewResolver</tt>&#21518;&#38754;&#30340;&#37027;&#20123;&#35299;&#26512;&#22120;&#26681;&#26412;&#24471;&#19981;&#21040;&#20351;&#29992;&#65292;&#22240;&#20026;<tt class="classname">InternalResourceViewResolver</tt><span class="emphasis"><em>&#24635;&#26159;</em></span>&#36820;&#22238;&#19968;&#20010;&#35270;&#22270;&#65281;
	  </p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="d0e16800"></a>13.5.3.&nbsp;&#37325;&#23450;&#21521;(Rediret)&#21040;&#21478;&#19968;&#20010;&#35270;&#22270;</h3></div></div><div></div></div><p>&#22312;&#21069;&#38754;&#25105;&#20204;&#25552;&#21040;&#36807;&#65292;&#19968;&#20010;&#25511;&#21046;&#22120;&#36890;&#24120;&#20250;&#36820;&#22238;&#35270;&#22270;&#21517;&#65292;&#28982;&#21518;&#30001;&#35270;&#22270;&#35299;&#26512;&#22120;&#35299;&#26512;&#21040;&#26576;&#31181;&#35270;&#22270;&#23454;&#29616;&#12290;&#23545;&#20110;&#20687;JSP&#36825;&#26679;&#23454;&#38469;&#19978;&#30001;Servlet/JSP&#24341;&#25806;&#22788;&#29702;&#30340;&#35270;&#22270;&#65292;&#25105;&#20204;&#36890;&#24120;&#20351;&#29992;<tt class="classname">InternalResourceViewResolver</tt>&#21644;<tt class="classname">InternalResourceView</tt>&#12290;&#36825;&#31181;&#35270;&#22270;&#23454;&#29616;&#26368;&#32456;&#20250;&#35843;&#29992;Servlet API&#30340;<tt class="literal">RequestDispatcher.forward(..)</tt>&#26041;&#27861;&#25110;<tt class="literal">RequestDispatcher.include()</tt>&#26041;&#27861;&#23558;&#29992;&#25143;&#25351;&#21521;&#26368;&#32456;&#39029;&#38754;&#12290;&#23545;&#20110;&#21035;&#30340;&#35270;&#22270;&#25216;&#26415;&#32780;&#35328;&#65288;&#27604;&#22914;Velocity&#12289;XSLT&#31561;&#31561;&#65289;&#65292; &#35270;&#22270;&#26412;&#36523;&#23601;&#20250;&#29983;&#25104;&#36820;&#22238;&#32473;&#29992;&#25143;&#30340;&#20869;&#23481;&#12290;</p><p>&#26377;&#20123;&#26102;&#20505;&#65292;&#22312;&#35270;&#22270;&#26174;&#31034;&#20197;&#21069;&#65292;&#25105;&#20204;&#21487;&#33021;&#38656;&#35201;&#32473;&#29992;&#25143;&#21457;&#19968;&#20010;HTTP redirect&#37325;&#23450;&#21521;&#25351;&#20196;&#12290;&#27604;&#22914;&#65292;&#19968;&#20010;&#25511;&#21046;&#22120;&#25104;&#21151;&#30340;&#22788;&#29702;&#20102;&#19968;&#20010;&#34920;&#21333;&#25552;&#20132;&#65288;&#25968;&#25454;&#20197;HTTP POST&#30340;&#26041;&#24335;&#21457;&#36865;&#65289;&#65292;&#23427;&#26368;&#32456;&#21487;&#33021;&#22996;&#25176;&#32473;&#21478;&#19968;&#20010;&#25511;&#21046;&#22120;&#26469;&#23436;&#25104;&#21097;&#19979;&#30340;&#24037;&#20316;&#12290;&#22312;&#36825;&#31181;&#24773;&#20917;&#19979;&#65292;&#22914;&#26524;&#25105;&#20204;&#20351;&#29992;&#20869;&#37096;forward&#65292;&#25509;&#25163;&#24037;&#20316;&#30340;&#37027;&#20010;&#25511;&#21046;&#22120;&#23558;&#20250;&#24471;&#21040;&#25152;&#26377;&#20197;POST&#26041;&#24335;&#25552;&#20132;&#30340;&#34920;&#21333;&#25968;&#25454;&#65292;&#36825;&#21487;&#33021;&#20250;&#24341;&#36215;&#28508;&#22312;&#30340;&#28151;&#28102;&#65292;&#24178;&#25200;&#37027;&#20010;&#25511;&#21046;&#22120;&#30340;&#27491;&#24120;&#24037;&#20316;&#12290; &#21478;&#19968;&#20010;&#22312;&#26174;&#31034;&#35270;&#22270;&#20043;&#21069;&#36820;&#22238;HTTP redirect&#30340;&#21407;&#22240;&#26159;&#36825;&#21487;&#20197;&#38450;&#27490;&#29992;&#25143;&#37325;&#22797;&#25552;&#20132;&#21516;&#19968;&#34920;&#21333;&#12290;&#20855;&#20307;&#19968;&#28857;&#35762;&#65292;&#27983;&#35272;&#22120;&#20808;&#29992;<tt class="literal">POST</tt>&#30340;&#26041;&#24335;&#25552;&#20132;&#34920;&#21333;,&#28982;&#21518;&#23427;&#25509;&#25910;&#21040;&#37325;&#23450;&#21521;&#30340;&#25351;&#20196;&#65292;&#23427;&#32487;&#32493;&#29992;<tt class="literal">GET</tt>&#30340;&#26041;&#24335;&#21435;&#19979;&#36733;&#26032;&#30340;&#39029;&#38754;&#12290;&#20174;&#27983;&#35272;&#22120;&#30340;&#35282;&#24230;&#30475;&#65292;&#36825;&#20010;&#26032;&#30340;&#39029;&#38754;&#19981;&#26159;<tt class="literal">POST</tt>&#30340;&#36820;&#22238;&#32467;&#26524;&#65292;&#32780;&#26159;<tt class="literal">GET</tt>&#30340;&#12290;&#36825;&#26679;&#65292;&#29992;&#25143;&#19981;&#21487;&#33021;&#22312;&#28857;&#20987;&#21047;&#26032;&#30340;&#26102;&#20505;&#19981;&#23567;&#24515;&#20877;&#27425;&#25552;&#20132;&#34920;&#21333;&#65292;&#22240;&#20026;&#21047;&#26032;&#30340;&#32467;&#26524;&#26159;&#20877;&#27425;&#29992;<tt class="literal">GET</tt> &#21435;&#19979;&#36733;&#34920;&#21333;&#25552;&#20132;&#21518;&#30340;&#32467;&#26524;&#39029;&#38754;&#65292;&#32780;&#19981;&#26159;&#37325;&#26032;&#25552;&#20132;&#34920;&#21333;&#12290;</p><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="d0e16834"></a>13.5.3.1.&nbsp;<tt class="classname">RedirectView</tt></h4></div></div><div></div></div><p>&#22312;&#25511;&#21046;&#22120;&#20013;&#24378;&#21046;&#37325;&#23450;&#21521;&#30340;&#26041;&#27861;&#20043;&#19968;&#26159;&#35753;&#25511;&#21046;&#22120;&#29983;&#25104;&#24182;&#36820;&#22238;&#19968;&#20010;<tt class="classname">RedirectView</tt>&#30340;&#23454;&#20363;&#12290;&#22312;&#36825;&#31181;&#24773;&#20917;&#19979;&#65292;<tt class="classname">DispatcherServlet</tt>&#19981;&#20250;&#20351;&#29992;&#36890;&#24120;&#30340;&#35270;&#22270;&#35299;&#26512;&#26426;&#21046;&#65292;&#26082;&#28982;&#23427;&#24050;&#32463;&#25343;&#21040;&#20102;&#19968;&#20010;&#65288;&#37325;&#23450;&#21521;&#65289;&#35270;&#22270;&#65292;&#23427;&#23601;&#35753;&#36825;&#20010;&#35270;&#22270;&#21435;&#20570;&#21097;&#19979;&#30340;&#24037;&#20316;&#12290;</p><p><tt class="classname">RedirectView</tt>&#20250;&#35843;&#29992;<tt class="literal">HttpServletResponse.sendRedirect()</tt>&#26041;&#27861;&#65292;&#20854;&#32467;&#26524;&#26159;&#32473;&#29992;&#25143;&#30340;&#27983;&#35272;&#22120;&#21457;&#22238;&#19968;&#20010;HTTP redirect&#12290;&#25152;&#26377;&#30340;&#27169;&#22411;&#23646;&#24615;&#37117;&#34987;&#36716;&#25442;&#25104;&#20197;HTTP&#35831;&#27714;&#30340;&#35775;&#38382;&#21442;&#25968;&#12290;&#36825;&#24847;&#21619;&#30528;&#36825;&#20010;&#27169;&#22411;&#21482;&#33021;&#21253;&#21547;&#21487;&#20197;&#34987;&#31616;&#20415;&#30340;&#36716;&#25442;&#25104;string&#24418;&#24335;&#30340;HTTP&#35831;&#27714;&#35775;&#38382;&#21442;&#25968;&#30340;&#23545;&#35937;&#65292;&#27604;&#22914;String&#25110;&#32773;&#21487;&#20197;&#34987;&#36716;&#25442;&#25104;String&#30340;&#31867;&#22411;&#12290;</p><p>&#22914;&#26524;&#20320;&#20351;&#29992;<tt class="classname">RedirectView</tt>&#35270;&#22270;&#65292;&#24182;&#19988;&#23427;&#26159;&#30001;&#25511;&#21046;&#22120;&#29983;&#25104;&#30340;&#65292;&#37325;&#23450;&#21521;&#30340;URL&#26368;&#22909;&#26159;&#29992;Spring&#25152;&#25552;&#20379;&#30340;IoC&#21151;&#33021;&#27880;&#23556;&#21040;&#25511;&#21046;&#22120;&#37324;&#12290;&#36825;&#26679;&#36825;&#20010;URL&#23601;&#21487;&#20197;&#21644;&#35270;&#22270;&#21517;&#19968;&#36215;&#22312;&#19978;&#19979;&#25991;&#20013;&#34987;&#22768;&#26126;&#65292;&#32780;&#19981;&#26159;&#22266;&#21270;&#22312;&#25511;&#21046;&#22120;&#20869;&#12290;</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="d0e16858"></a>13.5.3.2.&nbsp;<tt class="literal">redirect:</tt>&#21069;&#32512;</h4></div></div><div></div></div><p>&#23613;&#31649;<tt class="classname">RedirectView</tt>&#24110;&#25105;&#20204;&#36798;&#21040;&#20102;&#30446;&#30340;&#65292;&#20294;&#26159;&#22914;&#26524;&#25511;&#21046;&#22120;&#29983;&#25104;<tt class="classname">RedirectView</tt>&#30340;&#35805;&#65292;&#25511;&#21046;&#22120;&#19981;&#21487;&#36991;&#20813;&#22320;&#35201;&#30693;&#36947;&#26576;&#20010;&#35831;&#27714;&#30340;&#32467;&#26524;&#26159;&#35753;&#29992;&#25143;&#37325;&#23450;&#21521;&#21040;&#21478;&#19968;&#20010;&#39029;&#38754;&#12290;&#36825;&#19981;&#26159;&#26368;&#20339;&#30340;&#23454;&#29616;&#65292;&#22240;&#20026;&#36825;&#20351;&#24471;&#31995;&#32479;&#19981;&#21516;&#27169;&#22359;&#20043;&#38388;&#32467;&#21512;&#24471;&#36807;&#20110;&#32039;&#23494;&#12290;&#20854;&#23454;&#25511;&#21046;&#22120;&#19981;&#24212;&#35813;&#36807;&#38382;&#36820;&#22238;&#32467;&#26524;&#26159;&#24590;&#20040;&#29983;&#25104;&#30340;&#65292;&#36890;&#24120;&#24773;&#20917;&#19979;&#65292;&#23427;&#24212;&#35813;&#21482;&#20851;&#24515;&#25552;&#20379;&#32473;&#23427;&#30340;&#35270;&#22270;&#21517;&#12290;</p><p>&#35299;&#20915;&#19978;&#36848;&#38382;&#39064;&#30340;&#26041;&#27861;&#26159;&#20381;&#38752;<tt class="literal">redirect:</tt>&#21069;&#32512;&#12290;&#22914;&#26524;&#36820;&#22238;&#30340;&#35270;&#22270;&#21517;&#21253;&#21547;redirect:&#21069;&#32512;&#65292;<tt class="classname">UrlBasedViewResolver</tt> (&#20197;&#21450;&#23427;&#30340;&#23376;&#31867;) &#20250;&#30693;&#36947;&#31995;&#32479;&#35201;&#29983;&#25104;&#19968;&#20010;HTTP redirect&#12290; &#35270;&#22270;&#21517;&#20854;&#20313;&#30340;&#37096;&#20998;&#20250;&#34987;&#24403;&#20316;&#37325;&#23450;&#21521;URL&#12290;</p><p>&#36825;&#26679;&#20570;&#30340;&#26368;&#32456;&#32467;&#26524;&#36319;&#25511;&#21046;&#22120;&#36820;&#22238;<tt class="classname">RedirectView</tt>&#26159;&#19968;&#26679;&#30340;&#65292;&#20294;&#29616;&#22312;&#25511;&#21046;&#22120;&#21482;&#38656;&#35201;&#21644;&#36923;&#36753;&#19978;&#30340;&#35270;&#22270;&#21517;&#25171;&#20132;&#36947;&#12290;
        <tt class="literal">redirect:/my/response/controller.html</tt>&#36825;&#20010;&#36923;&#36753;&#35270;&#22270;&#21517;&#20013;&#30340;URL&#26159;&#24403;&#21069;servlet context&#20013;&#30340;&#30456;&#23545;&#36335;&#24452;&#12290;&#19982;&#20043;&#30456;&#27604;&#65292;<tt class="literal">redirect:http://myhost.com/some/arbitrary/path.html</tt>&#20013;&#30340;URL&#26159;&#32477;&#23545;&#36335;&#24452;&#12290; &#37325;&#35201;&#30340;&#26159;&#65292;&#21482;&#35201;&#36825;&#20010;&#37325;&#23450;&#21521;&#35270;&#22270;&#21517;&#21644;&#20854;&#20182;&#35270;&#22270;&#21517;&#20197;&#30456;&#21516;&#30340;&#26041;&#24335;&#27880;&#23556;&#21040;&#25511;&#21046;&#22120;&#20013;&#65292;&#25511;&#21046;&#22120;&#26681;&#26412;&#19981;&#30693;&#36947;&#37325;&#23450;&#21521;&#26159;&#21542;&#21457;&#29983;&#20102;&#12290;</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="d0e16890"></a>13.5.3.3.&nbsp;<tt class="literal">forward:</tt>&#21069;&#32512;</h4></div></div><div></div></div><p>&#31867;&#20284;&#30340;&#65292;&#25105;&#20204;&#20063;&#21487;&#20197;&#20351;&#29992;&#21253;&#21547;&#26377;<tt class="literal">forward:</tt>&#21069;&#32512;&#30340;&#35270;&#22270;&#21517;&#12290;&#36825;&#20123;&#35270;&#22270;&#21517;&#20250;&#34987;<tt class="classname">UrlBasedViewResolver</tt>&#21644;&#23427;&#30340;&#23376;&#31867;&#27491;&#30830;&#35299;&#26512;&#12290;&#35299;&#26512;&#30340;&#20869;&#37096;&#23454;&#29616;&#26159;&#29983;&#25104;&#19968;&#20010;<tt class="classname">InternalResourceView</tt>&#65292;&#36825;&#20010;&#35270;&#22270;&#26368;&#32456;&#20250;&#35843;&#29992;<tt class="literal">RequestDispatcher.forward()</tt>&#26041;&#27861;&#65292;&#23558;forward&#35270;&#22270;&#21517;&#30340;&#20854;&#20313;&#37096;&#20998;&#20316;&#20026;URL&#12290;&#25152;&#20197;&#65292;&#24403;&#20320;&#20351;&#29992;<tt class="classname">InternalResourceViewResolver</tt>/<tt class="classname">InternalResourceView</tt>&#65292;&#24182;&#19988;&#20320;&#25152;&#29992;&#30340;&#35270;&#22270;&#25216;&#26415;&#26159;JSP&#26102;&#65292;&#20320;&#27809;&#26377;&#24517;&#35201;&#20351;&#29992;&#36825;&#20010;&#21069;&#32512;&#12290;&#20294;&#26159;&#65292;&#24403;&#20320;&#20027;&#35201;&#20351;&#29992;&#20854;&#23427;&#30340;&#35270;&#22270;&#25216;&#26415;&#65292;&#20294;&#20173;&#38656;&#35201;&#23545;Servlet/JSP engine&#22788;&#29702;&#30340;&#39029;&#38754;&#24378;&#21046;forward&#26102;&#65292;&#36825;&#20010;forward&#21069;&#32512;&#36824;&#26159;&#24456;&#26377;&#29992;&#30340;&#65288;&#20294;&#23601;&#36825;&#20010;&#38382;&#39064;&#32780;&#35328;&#65292;&#22914;&#26524;&#20320;&#19981;&#24819;&#29992;forward&#21069;&#32512;&#65292;&#20320;&#20063;&#21487;&#20197;&#20351;&#29992;&#35270;&#22270;&#35299;&#26512;&#38142;&#65289;&#12290;
		</p><p>&#21644;<tt class="literal">redirect:</tt>&#21069;&#32512;&#19968;&#26679;&#65292;&#22914;&#26524;&#21547;&#26377;forward&#21069;&#32512;&#30340;&#35270;&#22270;&#21517;&#21644;&#20854;&#20182;&#35270;&#22270;&#21517;&#19968;&#26679;&#34987;&#27880;&#20837;&#25511;&#21046;&#22120;&#65292;&#25511;&#21046;&#22120;&#26681;&#26412;&#19981;&#30693;&#36947;forward&#26159;&#21542;&#21457;&#29983;&#20102;&#12290;</p></div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="mvc-localeresolver"></a>13.6.&nbsp;&#26412;&#22320;&#21270;&#35299;&#26512;&#22120;</h2></div></div><div></div></div><p>Spring&#26550;&#26500;&#30340;&#32477;&#22823;&#37096;&#20998;&#37117;&#25903;&#25345;&#22269;&#38469;&#21270;&#65292;Spring&#30340;web&#26694;&#26550;&#20063;&#19981;&#20363;&#22806;&#12290;<tt class="classname">DispatcherServlet</tt> &#20801;&#35768;&#20320;&#20351;&#29992;&#23458;&#25143;&#31471;&#26412;&#22320;&#21270;&#20449;&#24687;&#33258;&#21160;&#35299;&#26512;&#28040;&#24687;&#12290; &#36825;&#20010;&#24037;&#20316;&#30001;<tt class="interfacename">LocaleResolver</tt>&#23436;&#25104;&#12290;
    </p><p>&#24403;&#25910;&#21040;&#35831;&#27714;&#26102;&#65292;<tt class="classname">DispatcherServlet</tt>&#23547;&#25214;&#19968;&#20010;&#26412;&#22320;&#21270;&#35299;&#26512;&#22120;&#65292;&#22914;&#26524;&#25214;&#21040;&#23427;&#23601;&#20351;&#29992;&#23427;&#35774;&#32622;&#26412;&#22320;&#21270;&#20449;&#24687;&#12290; &#36890;&#36807;<tt class="literal">RequestContext.getLocale()</tt>&#26041;&#27861;&#65292; &#20320;&#24635;&#21487;&#20197;&#33719;&#21462;&#30001;&#26412;&#22320;&#21270;&#35299;&#26512;&#22120;&#35299;&#26512;&#30340;&#23458;&#25143;&#31471;&#30340;&#26412;&#22320;&#21270;&#20449;&#24687;&#12290;</p><p>&#38500;&#20102;&#33258;&#21160;&#30340;&#26412;&#22320;&#21270;&#35299;&#26512;&#20197;&#22806;&#65292;&#20320;&#36824;&#21487;&#20197;&#23558;&#19968;&#20010;&#25318;&#25130;&#22120;&#32622;&#20110;&#22788;&#29702;&#22120;&#26144;&#23556;&#20013;(&#21442;&#32771; <a href="mvc.html#mvc-handlermapping-interceptor" title="13.4.3.&nbsp;&#25318;&#25130;&#22120;&#65288;HandlerInterceptor&#65289;">Section&nbsp;13.4.3, &#8220;&#25318;&#25130;&#22120;&#65288;HandlerInterceptor&#65289;&#8221;</a>)&#65292;&#20197;&#20415;&#22312;&#26576;&#31181;&#29615;&#22659;&#19979;&#21487;&#20197;&#25913;&#21464;&#26412;&#22320;&#21270;&#20449;&#24687;&#65292;&#20363;&#22914;&#65292;&#21487;&#20197;&#22522;&#20110;&#35831;&#27714;&#20013;&#30340;&#21442;&#25968;&#21464;&#26356;&#26412;&#22320;&#21270;&#20449;&#24687;&#12290;</p><p>&#26412;&#22320;&#21270;&#35299;&#26512;&#22120;&#21644;&#25318;&#25130;&#22120;&#37117;&#23450;&#20041;&#22312;<tt class="literal">org.springframework.web.servlet.i18n</tt>&#21253;&#20013;&#65292;&#20320;&#21487;&#20197;&#22312;&#24212;&#29992;&#30340;&#19978;&#19979;&#25991;&#20013;&#37197;&#32622;&#23427;&#20204;&#12290;&#19979;&#25991;&#20171;&#32461;&#20102;&#19968;&#20123;Spring&#25552;&#20379;&#30340;&#26412;&#22320;&#21270;&#35299;&#26512;&#22120;&#12290;</p><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="mvc-localeresolver-acceptheader"></a>13.6.1.&nbsp;<tt class="classname">AcceptHeaderLocaleResolver</tt></h3></div></div><div></div></div><p>&#36825;&#20010;&#26412;&#22320;&#21270;&#35299;&#26512;&#22120;&#26816;&#26597;&#35831;&#27714;&#20013;&#23458;&#25143;&#31471;&#27983;&#35272;&#22120;&#21457;&#36865;&#30340;<tt class="literal">accept-language</tt> &#20449;&#24687;&#65292;&#36890;&#24120;&#36825;&#20010;HTTP Header&#21253;&#21547;&#23458;&#25143;&#31471;&#25805;&#20316;&#31995;&#32479;&#30340;&#26412;&#22320;&#21270;&#20449;&#24687;&#12290;
	  </p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="mvc-localeresolver-cookie"></a>13.6.2.&nbsp;<tt class="classname">CookieLocaleResolver</tt></h3></div></div><div></div></div><p>&#36825;&#20010;&#26412;&#22320;&#21270;&#35299;&#26512;&#22120;&#26816;&#26597;&#23458;&#25143;&#31471;&#20013;&#30340;<tt class="classname">Cookie</tt>&#26159;&#21542;&#21253;&#21547;&#26412;&#22320;&#21270;&#20449;&#24687;&#12290;&#22914;&#26524;&#26377;&#30340;&#35805;&#65292;&#23601;&#20351;&#29992;&#12290;&#24403;&#20320;&#37197;&#32622;&#36825;&#20010;&#35299;&#26512;&#22120;&#30340;&#26102;&#20505;&#65292;&#20320;&#21487;&#20197;&#25351;&#23450;cookie&#21517;&#65292;&#20197;&#21450;cookie&#30340;&#26368;&#38271;&#29983;&#23384;&#26399;(Max Age)&#12290; &#19979;&#38754;&#36825;&#20010;&#20363;&#23376;&#23450;&#20041;&#20102;&#19968;&#20010;<tt class="classname">CookieLocaleResolver</tt>&#12290;</p><pre class="programlisting">&lt;bean id="localeResolver"&gt;

    &lt;property name="cookieName" value="clientlanguage"/&gt;
    
    <i class="lineannotation"><span class="lineannotation">&lt;!-- in seconds. If set to <tt class="literal">-1</tt>, the cookie is not persisted (deleted when browser shuts down) --&gt;</span></i>
    &lt;property name="cookieMaxAge" value="100000"&gt;

&lt;/bean&gt;</pre><div class="table"><a name="d0e16977"></a><p class="title"><b>Table&nbsp;13.6.&nbsp;<tt class="classname">CookieLocaleResolver</tt>&#30340;&#23646;&#24615;</b></p><table summary="CookieLocaleResolver&#30340;&#23646;&#24615;" border="1"><colgroup><col><col><col></colgroup><thead><tr><th>&#23646;&#24615;</th><th>&#32570;&#30465;&#20540;</th><th>&#25551;&#36848;</th></tr></thead><tbody><tr><td>cookieName</td><td>classname + LOCALE</td><td>
			  cookie&#30340;&#21517;&#23383;&#12290;
			  </td></tr><tr><td>cookieMaxAge</td><td>Integer.MAX_INT</td><td>
			  cookie&#22312;&#23458;&#25143;&#31471;&#23384;&#22312;&#30340;&#26368;&#38271;&#26102;&#38388;&#12290;&#22914;&#26524;&#35813;&#20540;&#26159;-1&#65292;&#36825;&#20010;cookie&#21482;&#34987;&#20445;&#30041;&#22312;&#20869;&#23384;&#20013;&#65292;&#24403;&#23458;&#25143;&#20851;&#38381;&#27983;&#35272;&#22120;&#26102;&#65292;&#36825;&#20010;cookie&#23601;&#19981;&#23384;&#22312;&#20102;&#12290;
			  </td></tr><tr><td>cookiePath</td><td>/</td><td>
			  &#36890;&#36807;&#36825;&#20010;&#21442;&#25968;&#65292;&#20320;&#21487;&#20197;&#23558;&#35813;cookie&#30340;&#20316;&#29992;&#38480;&#21046;&#22312;&#19968;&#37096;&#20998;&#29305;&#23450;&#30340;&#12290;&#20855;&#20307;&#22320;&#35828;&#65292;&#21482;&#26377;&#35813;&#30446;&#24405;(cookiePath)&#21450;&#20854;&#23376;&#30446;&#24405;&#19979;&#30340;&#39029;&#38754;&#21487;&#20197;&#20351;&#29992;&#36825;&#20010;cookie&#12290;
			  </td></tr></tbody></table></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="mvc-localeresolver-session"></a>13.6.3.&nbsp;<tt class="classname">SessionLocaleResolver</tt></h3></div></div><div></div></div><p><tt class="classname">SessionLocaleResolver</tt>&#20801;&#35768;&#20320;&#20174;&#29992;&#25143;&#35831;&#27714;&#30456;&#20851;&#30340;session&#20013;&#33719;&#21462;&#26412;&#22320;&#21270;&#20449;&#24687;&#12290;</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="mvc-localeresolver-interceptor"></a>13.6.4.&nbsp;<tt class="classname">LocaleChangeInterceptor</tt></h3></div></div><div></div></div><p>&#20320;&#21487;&#20197;&#20351;&#29992;<tt class="classname">LocaleChangeInterceptor</tt>&#20462;&#25913;&#26412;&#22320;&#21270;&#20449;&#24687;&#12290;&#36825;&#20010;&#25318;&#25130;&#22120;&#38656;&#35201;&#34987;&#28155;&#21152;&#21040;&#22788;&#29702;&#22120;&#26144;&#23556;&#20013;&#65288;&#21442;&#32771;<a href="mvc.html#mvc-handlermapping" title="13.4.&nbsp;&#22788;&#29702;&#22120;&#26144;&#23556;&#65288;handler mapping&#65289;">Section&nbsp;13.4, &#8220;&#22788;&#29702;&#22120;&#26144;&#23556;&#65288;handler mapping&#65289;&#8221;</a>&#65289;&#12290;&#23427;&#21487;&#20197;&#20390;&#27979;&#35831;&#27714;&#20013;&#26576;&#20010;&#29305;&#23450;&#30340;&#21442;&#25968;&#65292;&#28982;&#21518;&#35843;&#29992;&#19978;&#19979;&#25991;&#20013;&#30340;LocaleResolver&#20013;&#30340; setLocale()&#26041;&#27861;&#65292;&#30456;&#24212;&#22320;&#20462;&#25913;&#26412;&#22320;&#21270;&#20449;&#24687;&#12290;
	  </p><pre class="programlisting">&lt;bean id="localeChangeInterceptor"
      class="org.springframework.web.servlet.i18n.LocaleChangeInterceptor"&gt;
    &lt;property name="paramName" value="siteLanguage"/&gt;
&lt;/bean&gt;

&lt;bean id="localeResolver"
      class="org.springframework.web.servlet.i18n.CookieLocaleResolver"/&gt;

&lt;bean id="urlMapping"
      class="org.springframework.web.servlet.handler.SimpleUrlHandlerMapping"&gt;
    &lt;property name="interceptors"&gt;
        &lt;list&gt;
            &lt;ref bean="localeChangeInterceptor"/&gt;
        &lt;/list&gt;
    &lt;/property&gt;
    &lt;property name="mappings"&gt;
        &lt;value&gt;/**/*.view=someController&lt;/value&gt;
    &lt;/property&gt;
&lt;/bean&gt;</pre><p>&#22312;&#19978;&#38754;&#36825;&#20010;&#20363;&#23376;&#20013;&#65292;&#25152;&#26377;&#23545;<tt class="literal">*.view</tt>&#36164;&#28304;&#30340;&#35831;&#27714;&#65292;&#21482;&#35201;&#21253;&#21547;&#21442;&#25968;<tt class="literal">siteLanguage</tt>&#65292;&#37117;&#20250;&#25913;&#21464;&#26412;&#22320;&#21270;&#20449;&#24687;&#12290;&#27604;&#22914;&#19979;&#38754;&#36825;&#20010;&#35831;&#27714;<tt class="literal">http://www.sf.net/home.view?siteLanguage=nl</tt>&#20250;&#23558;&#32593;&#31449;&#35821;&#35328;&#20462;&#25913;&#20026;&#33655;&#20848;&#35821;&#12290;</p></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="mvc-themeresolver"></a>13.7.&nbsp;&#20351;&#29992;&#20027;&#39064;</h2></div></div><div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="mvc-themeresolver-introduction"></a>13.7.1.&nbsp;&#31616;&#20171;</h3></div></div><div></div></div><p>Sping&#30340;web MVC&#26694;&#26550;&#20801;&#35768;&#20320;&#36890;&#36807;<span class="emphasis"><em>&#20027;&#39064;(theme)</em></span>&#26469;&#25511;&#21046;&#32593;&#39029;&#30340;&#39118;&#26684;&#65292;&#36825;&#23558;&#36827;&#19968;&#27493;&#25913;&#21892;&#29992;&#25143;&#30340;&#20307;&#39564;&#12290; &#31616;&#21333;&#26469;&#35828;&#65292;&#19968;&#20010;&#20027;&#39064;&#23601;&#26159;&#19968;&#32452;&#38745;&#24577;&#30340;&#36164;&#28304;&#65288;&#27604;&#22914;&#26679;&#24335;&#34920;&#21644;&#22270;&#29255;&#65289;&#65292;&#23427;&#20204;&#21487;&#20197;&#24433;&#21709;&#39029;&#38754;&#30340;&#35270;&#35273;&#25928;&#26524;&#12290;</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="mvc-themeresolver-defining"></a>13.7.2.&nbsp;&#22914;&#20309;&#23450;&#20041;&#20027;&#39064;</h3></div></div><div></div></div><p>&#20026;&#20102;&#22312;&#20320;&#30340;web&#24212;&#29992;&#20013;&#20351;&#29992;&#20027;&#39064;&#65292;&#20320;&#38656;&#35201;&#35774;&#32622;<tt class="interfacename">org.springframework.ui.context.ThemeSource</tt>&#12290;      <tt class="interfacename">WebApplicationContext</tt>&#26159;&#20174;<tt class="interfacename">ThemeSource</tt>&#25193;&#23637;&#32780;&#26469;&#65292;&#20294;&#26159;&#23427;&#26412;&#36523;&#24182;&#27809;&#26377;&#23454;&#29616;<tt class="interfacename">ThemeSource</tt>&#23450;&#20041;&#30340;&#26041;&#27861;&#65292;&#23427;&#25226;&#36825;&#20123;&#20219;&#21153;&#36716;&#20132;&#32473;&#21035;&#30340;&#19987;&#29992;&#27169;&#22359;&#12290;&#22914;&#26524;&#27809;&#26377;&#26126;&#30830;&#35774;&#32622;&#65292;&#30495;&#27491;&#23454;&#29616;<tt class="interfacename">ThemeSource</tt>&#30340;&#31867;&#26159;<tt class="classname">org.springframework.ui.context.support.ResourceBundleThemeSource</tt>&#12290;&#36825;&#20010;&#31867;&#22312;classpath&#30340;&#26681;&#37096;&#65288;&#27604;&#22914;&#22312;<tt class="literal">/WEB-INF/classes</tt>&#30446;&#24405;&#19979;&#65289;&#23547;&#25214;&#21512;&#36866;&#30340;&#23646;&#24615;&#25991;&#20214;&#26469;&#23436;&#25104;&#37197;&#32622;&#12290;&#22914;&#26524;&#20320;&#24819;&#33258;&#24049;&#23454;&#29616;<tt class="interfacename">ThemeSource</tt>&#25509;&#21475;&#65292;&#25110;&#32773;&#20320;&#38656;&#35201;&#37197;&#32622;<tt class="classname">ResourceBundleThemeSource</tt>&#25152;&#38656;&#30340;&#23646;&#24615;&#25991;&#20214;&#30340;&#21069;&#32512;&#21517;(basename prefix)&#65292;&#20320;&#21487;&#20197;&#22312;&#24212;&#29992;&#19978;&#19979;&#25991;&#20013;&#23450;&#20041;&#19968;&#20010;&#21517;&#20026;"themeSource"&#30340;bean&#65288;&#27880;&#24847;&#65292;&#20320;&#24517;&#39035;&#29992;&#36825;&#20010;&#21517;&#23383;&#65289;&#12290;web application context&#20250;&#33258;&#21160;&#26816;&#27979;&#24182;&#20351;&#29992;&#36825;&#20010;bean&#12290;</p><p>&#22312;&#20351;&#29992;<tt class="classname">ResourceBundleThemeSource</tt>&#26102;&#65292; &#27599;&#20010;&#20027;&#39064;&#26159;&#29992;&#19968;&#20010;&#23646;&#24615;&#25991;&#20214;&#26469;&#37197;&#32622;&#30340;&#12290;&#36825;&#20010;&#23646;&#24615;&#25991;&#20214;&#20013;&#21015;&#20030;&#20102;&#26500;&#25104;&#19968;&#20010;&#20027;&#39064;&#25152;&#38656;&#30340;&#36164;&#28304;&#12290;&#27604;&#22914;:</p><pre class="programlisting">styleSheet=/themes/cool/style.css
background=/themes/cool/img/coolBg.jpg</pre><p>&#36825;&#20123;&#23646;&#24615;&#30340;&#21517;&#23383;&#24212;&#35813;&#21644;&#35270;&#22270;&#20013;&#30340;&#26576;&#20123;&#20027;&#39064;&#20803;&#32032;(themed element)&#19968;&#19968;&#23545;&#24212;&#12290;&#22312;JSP&#35270;&#22270;&#20013;&#65292;&#36825;&#20123;&#20803;&#32032;&#36890;&#24120;&#29992;<tt class="literal">spring:theme</tt>&#26631;&#31614;&#22768;&#26126;&#65288;&#36825;&#20010;&#26631;&#31614;&#30340;&#29992;&#27861;&#21644;<tt class="literal">spring:message</tt>&#24456;&#30456;&#20284;&#65289;&#12290;&#19979;&#25991;&#36825;&#20010;JSP&#29255;&#27573;&#20351;&#29992;&#20102;&#25105;&#20204;&#22312;&#21069;&#38754;&#23450;&#20041;&#30340;&#20027;&#39064;&#65306;</p><pre class="programlisting">&lt;%@ taglib prefix="spring" uri="http://www.springframework.org/tags"%&gt;
&lt;html&gt;
   &lt;head&gt;
      &lt;link rel="stylesheet" href="&lt;spring:theme code="styleSheet"/&gt;" type="text/css"/&gt;
   &lt;/head&gt;
   &lt;body background="&lt;spring:theme code="background"/&gt;"&gt;
      ...
   &lt;/body&gt;
&lt;/html&gt;</pre><p>&#38500;&#38750;&#26377;&#29305;&#27530;&#37197;&#32622;&#65292;&#24403;<tt class="classname">ResourceBundleThemeSource</tt>&#23547;&#25214;&#25152;&#38656;&#30340;&#23646;&#24615;&#25991;&#20214;&#26102;&#65292;&#23427;&#40664;&#35748;&#22312;&#37197;&#32622;&#30340;&#23646;&#24615;&#25991;&#20214;&#21517;&#20013;&#27809;&#26377;&#20219;&#20309;&#21069;&#32512;&#65292;&#20063;&#23601;&#26159;&#35828;&#65292;&#23427;&#21482;&#20250;&#22312;classpath&#30340;&#26681;&#37096;&#23547;&#25214;&#12290;&#20030;&#20363;&#26469;&#35828;&#65292;&#22914;&#26524;&#19968;&#20010;&#20027;&#39064;&#30340;&#23450;&#20041;&#21253;&#21547;&#22312;<tt class="literal">cool.properties</tt>&#36825;&#20010;&#23646;&#24615;&#25991;&#20214;&#20013;&#65292;&#20320;&#38656;&#35201;&#25226;&#36825;&#20010;&#25991;&#20214;&#25918;&#22312;classpath&#30340;&#26681;&#37096;&#65292;&#27604;&#22914;&#22312;<tt class="literal">/WEB-INF/classes</tt>&#30446;&#24405;&#19979;&#12290;&#21516;&#26102;&#65292;<tt class="classname">ResourceBundleThemeSource</tt> &#20351;&#29992;&#26631;&#20934;&#30340;Java resource bundle&#31649;&#29702;&#26426;&#21046;&#65292;&#36825;&#24847;&#21619;&#30528;&#23454;&#29616;&#20027;&#39064;&#30340;&#22269;&#38469;&#21270;&#26159;&#24456;&#23481;&#26131;&#30340;&#12290;&#27604;&#22914;&#65292;<tt class="literal">/WEB-INF/classes/cool_nl.properties</tt>&#36825;&#20010;&#23646;&#24615;&#25991;&#20214;&#20013;&#21487;&#20197;&#25351;&#21521;&#19968;&#20010;&#26174;&#31034;&#33655;&#20848;&#25991;&#23383;&#30340;&#22270;&#29255;&#12290;</p><p>&#35793;&#32773;&#27880;&#65306;&#22914;&#26524;&#20320;&#23545;ResourceBundle&#21644;&#23427;&#30340;&#23646;&#24615;&#25991;&#20214;&#21517;&#30340;&#35268;&#33539;&#19981;&#29087;&#24713;&#65292;&#35831;&#21442;&#38405;JavaDoc&#20013;&#20851;&#20110;ResourceBundle.getBundle(String baseName,Locale locale)&#36825;&#20010;API&#12290;&#36825;&#20010;baseName&#21442;&#25968;&#21644;&#23646;&#24615;&#25991;&#20214;&#21517;&#26377;&#19968;&#23450;&#20851;&#31995;&#12290;&#27604;&#22914;&#65292;&#22914;&#26524;cool.properties&#36825;&#20010;&#23646;&#24615;&#25991;&#20214;&#25918;&#32622;&#22312;&#20102;/WEB-INF/classes/com/aa/bb/cc&#30446;&#24405;&#19979;&#65292;&#37027;&#20040;&#36825;&#20010;baseName&#30340;&#20540;&#24212;&#35813;&#20026;com.aa.bb.cc.cool&#12290;&#22312;&#36825;&#37324;&#65292;com.aa.bb.cc&#23601;&#26159;&#36825;&#20010;&#23646;&#24615;&#25991;&#20214;&#21517;&#30340;&#21069;&#32512;(basename prefix)&#12290;&#25903;&#25345;&#21069;&#32512;&#30340;API&#20250;&#22312;&#21069;&#32512;&#25152;&#22768;&#26126;&#30340;&#30446;&#24405;&#19979;&#23547;&#25214;&#30456;&#24212;&#30340;&#25991;&#20214;&#65292;&#27604;&#22914;getBundle(&#65289;&#12290;&#22914;&#26524;&#27809;&#26377;&#29305;&#27530;&#30340;&#37197;&#32622;&#65292;<tt class="classname">ResourceBundleThemeSource</tt>&#19981;&#25903;&#25345;&#21069;&#32512;&#65292;&#22312;&#36825;&#31181;&#24773;&#20917;&#19979;&#20320;&#35201;&#25226;&#23427;&#25152;&#38656;&#35201;&#30340;&#23646;&#24615;&#25991;&#20214;&#25918;&#22312;<tt class="literal">/WEB-INF/classes</tt>&#30446;&#24405;&#19979;&#12290;
	  </p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="mvc-themeresolver-resolving"></a>13.7.3.&nbsp;&#20027;&#39064;&#35299;&#26512;&#22120;</h3></div></div><div></div></div><p>&#29616;&#22312;&#25105;&#20204;&#24050;&#32463;&#30693;&#36947;&#22914;&#20309;&#23450;&#20041;&#20027;&#39064;&#20102;&#65292;&#21097;&#19979;&#30340;&#20107;&#23601;&#26159;&#20915;&#23450;&#35813;&#29992;&#21738;&#20010;&#20027;&#39064;&#12290;<tt class="classname">DispatcherServlet</tt>&#20250;&#23547;&#25214;&#19968;&#20010;&#21483;"themeResolver"&#30340;bean&#65292;&#36825;&#20010;bean&#24212;&#35813;&#23454;&#29616;&#20102;<tt class="interfacename">ThemeResolver</tt>&#25509;&#21475;&#12290;&#20027;&#39064;&#35299;&#26512;&#22120;&#30340;&#24037;&#20316;&#27969;&#31243;&#21644;<tt class="interfacename">LocaleResolver</tt>&#24046;&#19981;&#22810;&#12290;&#23427;&#21487;&#20197;&#35299;&#26512;&#27599;&#20010;&#35831;&#27714;&#25152;&#23545;&#24212;&#30340;&#20027;&#39064;&#65292;&#20063;&#21487;&#20197;&#21160;&#24577;&#22320;&#26356;&#25442;&#20027;&#39064;&#12290;&#19979;&#38754;&#26159;Spring&#25552;&#20379;&#30340;&#20960;&#20010;&#20027;&#39064;&#35299;&#26512;&#22120;&#65306;</p><div class="table"><a name="d0e17147"></a><p class="title"><b>Table&nbsp;13.7.&nbsp;<tt class="interfacename">ThemeResolver</tt>&#30340;&#23454;&#29616;</b></p><table summary="ThemeResolver&#30340;&#23454;&#29616;" border="1"><colgroup><col><col></colgroup><thead><tr><th>Java&#31867;</th><th>&#25551;&#36848;</th></tr></thead><tbody><tr><td><tt class="classname">FixedThemeResolver</tt></td><td>
			  &#36873;&#29992;&#19968;&#20010;&#22266;&#23450;&#30340;&#20027;&#39064;&#65292;&#36825;&#20010;&#20027;&#39064;&#30001;"defaultThemeName"&#23646;&#24615;&#20915;&#23450;&#12290;
			  </td></tr><tr><td><tt class="classname">SessionThemeResolver</tt></td><td>
			  &#20027;&#39064;&#20445;&#23384;&#22312;&#29992;&#25143;&#30340;HTTP session&#12290;&#22312;&#27599;&#20010;session&#20013;&#65292;&#36825;&#20010;&#20027;&#39064;&#21482;&#38656;&#35201;&#34987;&#35774;&#32622;&#19968;&#27425;&#65292;&#20294;&#26159;&#27599;&#20010;&#26032;session&#30340;&#20027;&#39064;&#37117;&#35201;&#37325;&#26032;&#35774;&#32622;&#12290;
			  </td></tr><tr><td><tt class="classname">CookieThemeResolver</tt></td><td>
			  &#29992;&#25143;&#25152;&#36873;&#25321;&#30340;&#20027;&#39064;&#20197;cookie&#30340;&#24418;&#24335;&#23384;&#22312;&#23458;&#25143;&#31471;&#30340;&#26426;&#22120;&#19978;&#38754;&#12290;
			  </td></tr></tbody></table></div><p>Spring &#20063;&#25903;&#25345;&#19968;&#20010;&#21483;<tt class="classname">ThemeChangeInterceptor</tt>
	  &#30340;&#35831;&#27714;&#25318;&#25130;&#22120;&#12290;&#23427;&#21487;&#20197;&#26681;&#25454;&#35831;&#27714;&#20013;&#21253;&#21547;&#30340;&#21442;&#25968;&#26469;&#21160;&#24577;&#22320;&#25913;&#21464;&#20027;&#39064;&#12290;
      </p></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="mvc-multipart"></a>13.8.&nbsp;Spring&#23545;&#20998;&#27573;&#25991;&#20214;&#19978;&#20256;&#65288;multipart file upload&#65289;&#30340;&#25903;&#25345;</h2></div></div><div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="mvc-multipart-introduction"></a>13.8.1.&nbsp;&#20171;&#32461;</h3></div></div><div></div></div><p>
			Spring&#25903;&#25345;web&#24212;&#29992;&#20013;&#30340;&#20998;&#27573;&#25991;&#20214;&#19978;&#20256;&#12290;&#36825;&#31181;&#25903;&#25345;&#26159;&#30001;&#21363;&#25554;&#21363;&#29992;&#30340;<tt class="interfacename">MultipartResolver</tt>&#26469;&#23454;&#29616;&#12290;&#36825;&#20123;&#35299;&#26512;&#22120;&#37117;&#23450;&#20041;&#22312;<tt class="literal">org.springframework.web.multipart</tt>&#21253;&#37324;&#12290;Spring&#25552;&#20379;&#20102;&#29616;&#25104;&#30340;<tt class="interfacename">MultipartResolver</tt>&#21487;&#20197;&#25903;&#25345;<span class="emphasis"><em>Commons FileUpload</em></span>(<a href="http://jakarta.apache.org/commons/fileupload" target="_top">http://jakarta.apache.org/commons/fileupload</a>)&#21644;
			<span class="emphasis"><em>COS FileUpload</em></span>(<a href="http://www.servlets.com/cos" target="_top">http://www.servlets.com/cos</a>)&#12290;&#26412;&#31456;&#21518;&#38754;&#30340;&#37096;&#20998;&#25551;&#36848;&#20102;Spring&#26159;&#22914;&#20309;&#25903;&#25345;&#25991;&#20214;&#19978;&#20256;&#30340;&#12290;
      </p><p>
			&#36890;&#24120;&#24773;&#20917;&#19979;&#65292;Spring&#26159;&#19981;&#22788;&#29702;&#25991;&#20214;&#19978;&#20256;&#30340;&#65292;&#22240;&#20026;&#19968;&#20123;&#24320;&#21457;&#32773;&#24819;&#35201;&#33258;&#24049;&#22788;&#29702;&#23427;&#20204;&#12290;&#22914;&#26524;&#24819;&#20351;&#29992;Spring&#30340;&#36825;&#20010;&#21151;&#33021;&#65292;&#38656;&#35201;&#22312;web&#24212;&#29992;&#30340;&#19978;&#19979;&#25991;&#20013;&#28155;&#21152;&#20998;&#27573;&#25991;&#20214;&#35299;&#26512;&#22120;&#12290;&#36825;&#26679;&#65292;&#27599;&#20010;&#35831;&#27714;&#23601;&#20250;&#34987;&#26816;&#26597;&#26159;&#21542;&#21253;&#21547;&#25991;&#20214;&#19978;&#20256;&#12290;&#22914;&#26524;&#27809;&#26377;&#65292;&#36825;&#20010;&#35831;&#27714;&#23601;&#34987;&#27491;&#24120;&#30340;&#22788;&#29702;&#65292;&#21542;&#21017;&#65292;&#24212;&#29992;&#19978;&#19979;&#25991;&#20013;&#24050;&#32463;&#23450;&#20041;&#30340;<tt class="classname">MultipartResolver</tt>&#23601;&#20250;&#34987;&#35843;&#29992;&#12290;&#28982;&#21518;&#65292;&#20320;&#35831;&#27714;&#20013;&#30340;&#25991;&#20214;&#23646;&#24615;&#23601;&#20250;&#20687;&#20854;&#23427;&#23646;&#24615;&#19968;&#26679;&#34987;&#22788;&#29702;&#12290;
		</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="mvc-multipart-resolver"></a>13.8.2.&nbsp;&#20351;&#29992;<tt class="interfacename">MultipartResolver</tt></h3></div></div><div></div></div><p>
			&#19979;&#38754;&#30340;&#20363;&#23376;&#35828;&#26126;&#20102;&#22914;&#20309;&#20351;&#29992;<tt class="classname">CommonsMultipartResolver</tt>:
      </p><pre class="programlisting">&lt;bean id="multipartResolver"
    class="org.springframework.web.multipart.commons.CommonsMultipartResolver"&gt;

    <i class="lineannotation"><span class="lineannotation">&lt;!-- one of the properties available; the maximum file size in bytes --&gt;</span></i>
    &lt;property name="maxUploadSize" value="100000"/&gt;
&lt;/bean&gt;</pre><p>
			&#19979;&#38754;&#36825;&#20010;&#20363;&#23376;&#20351;&#29992;<tt class="classname">CosMultipartResolver</tt>:
	  </p><pre class="programlisting">&lt;bean id="multipartResolver" class="org.springframework.web.multipart.cos.CosMultipartResolver"&gt;

    <i class="lineannotation"><span class="lineannotation">&lt;!-- one of the properties available; the maximum file size in bytes --&gt;</span></i>
    &lt;property name="maxUploadSize" value="100000"/&gt;
&lt;/bean&gt;</pre><p>
			&#24403;&#28982;&#20320;&#38656;&#35201;&#22312;classpath&#20013;&#20026;&#20998;&#27573;&#25991;&#20214;&#35299;&#26512;&#22120;&#25552;&#20379;&#27491;&#30830;&#30340;jar&#25991;&#20214;&#12290;&#22914;&#26524;&#26159;<tt class="classname">CommonsMultipartResolver</tt>&#65292;&#20320;&#38656;&#35201;&#20351;&#29992;<tt class="literal">commons-fileupload.jar</tt>&#65292;&#22914;&#26524;&#26159;<tt class="classname">CosMultipartResolver</tt>&#65292;&#21017;&#20351;&#29992;<tt class="literal">cos.jar</tt>&#12290;
	  </p><p>
			&#20320;&#24050;&#32463;&#30475;&#21040;&#22914;&#20309;&#35774;&#32622;Spring&#22788;&#29702;&#25991;&#20214;&#19978;&#20256;&#35831;&#27714;&#65292;&#25509;&#19979;&#26469;&#25105;&#20204;&#30475;&#30475;&#22914;&#20309;&#20351;&#29992;&#23427;&#12290;&#24403;Spring&#30340;<tt class="classname">DispatcherServlet</tt>&#21457;&#29616;&#25991;&#20214;&#19978;&#20256;&#35831;&#27714;&#26102;&#65292;&#23427;&#20250;&#28608;&#27963;&#23450;&#20041;&#22312;&#19978;&#19979;&#25991;&#20013;&#30340;&#35299;&#26512;&#22120;&#26469;&#22788;&#29702;&#35831;&#27714;&#12290;&#36825;&#20010;&#35299;&#26512;&#22120;&#38543;&#21518;&#26159;&#23558;&#24403;&#21069;&#30340;<tt class="classname">HttpServletRequest</tt>&#23553;&#35013;&#25104;<tt class="classname">MultipartHttpServletRequest</tt>&#65292;&#21518;&#32773;&#25903;&#25345;&#20998;&#27573;&#25991;&#20214;&#19978;&#20256;&#12290;&#20351;&#29992;<tt class="classname">MultipartHttpServletRequest</tt>&#65292;&#20320;&#21487;&#20197;&#33719;&#21462;&#35831;&#27714;&#25152;&#21253;&#21547;&#30340;&#19978;&#20256;&#20449;&#24687;&#65292;&#29978;&#33267;&#21487;&#20197;&#22312;&#25511;&#21046;&#22120;&#20013;&#33719;&#21462;&#20998;&#27573;&#25991;&#20214;&#30340;&#20869;&#23481;&#12290;
		</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="mvc-multipart-forms"></a>13.8.3.&nbsp;&#22312;&#34920;&#21333;&#20013;&#22788;&#29702;&#20998;&#27573;&#25991;&#20214;&#19978;&#20256;</h3></div></div><div></div></div><p>
			&#22312;<tt class="classname">MultipartResolver</tt>&#23436;&#25104;&#20998;&#27573;&#25991;&#20214;&#35299;&#26512;&#21518;&#65292;&#36825;&#20010;&#35831;&#27714;&#23601;&#20250;&#21644;&#20854;&#23427;&#35831;&#27714;&#19968;&#26679;&#34987;&#22788;&#29702;&#12290;&#20026;&#20102;&#20351;&#29992;&#25991;&#20214;&#19978;&#20256;&#65292;&#20320;&#38656;&#35201;&#21019;&#24314;&#19968;&#20010;&#24102;&#25991;&#20214;&#19978;&#20256;&#22495;(upload field)&#30340;&#65288;HTML&#65289;&#34920;&#21333;&#65292;&#35753;Spring&#23558;&#25991;&#20214;&#32465;&#23450;&#21040;&#20320;&#30340;&#34920;&#21333;&#19978;(&#22914;&#19979;&#25152;&#31034;)&#65306;
      </p><pre class="programlisting">&lt;html&gt;
    &lt;head&gt;
        &lt;title&gt;Upload a file please&lt;/title&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;h1&gt;Please upload a file&lt;/h1&gt;
        &lt;form method="post" action="upload.form" enctype="multipart/form-data"&gt;
            &lt;input type="file" name="file"/&gt;
            &lt;input type="submit"/&gt;
        &lt;/form&gt;
    &lt;/body&gt;
&lt;/html&gt;</pre><p>
			&#22312;&#19978;&#38754;&#36825;&#20010;&#34920;&#21333;&#37324;&#26377;&#19968;&#20010;input&#20803;&#32032;&#65292;&#36825;&#20010;&#20803;&#32032;&#30340;&#21517;&#23383;&#65288;&#8220;file&#8221;&#65289;&#21644;&#26381;&#21153;&#22120;&#31471;&#22788;&#29702;&#36825;&#20010;&#34920;&#21333;&#30340;bean&#65288;&#22312;&#19979;&#38754;&#23558;&#20250;&#25552;&#21040;&#65289;&#20013;&#31867;&#22411;&#20026;<tt class="literal">byte[]</tt>&#30340;&#23646;&#24615;&#21517;&#30456;&#21516;&#12290; &#22312;&#36825;&#20010;&#34920;&#21333;&#37324;&#25105;&#20204;&#20063;&#22768;&#26126;&#20102;&#32534;&#30721;&#21442;&#25968;(<tt class="literal">enctype="multipart/form-data"</tt>)&#20197;&#20415;&#35753;&#27983;&#35272;&#22120;&#30693;&#36947;&#22914;&#20309;&#23545;&#36825;&#20010;&#25991;&#20214;&#19978;&#20256;&#34920;&#21333;&#36827;&#34892;&#32534;&#30721;&#65288;&#21315;&#19975;&#19981;&#35201;&#24536;&#35760;&#36825;&#20040;&#20570;&#65281;&#65289;&#12290;
		</p><p>
			&#21644;&#20854;&#23427;&#19981;&#33021;&#33258;&#21160;&#36716;&#20026;&#23383;&#31526;&#20018;&#31867;&#22411;&#25110;&#32773;&#22522;&#26412;&#31867;&#22411;&#65288;primitive type)&#30340;&#23646;&#24615;&#19968;&#26679;&#65292;&#20026;&#20102;&#23558;&#19978;&#20256;&#30340;&#20108;&#36827;&#21046;&#25968;&#25454;&#23384;&#25104;bean&#30340;&#23646;&#24615;&#65292;&#20320;&#24517;&#39035;&#36890;&#36807;<tt class="classname">ServletRequestDatabinder</tt>&#27880;&#20876;&#19968;&#20010;&#23646;&#24615;&#32534;&#36753;&#22120;&#12290;Spring&#20013;&#20869;&#32622;&#20102;&#20960;&#20010;&#36825;&#26679;&#30340;&#32534;&#36753;&#22120;&#65292;&#23427;&#20204;&#21487;&#20197;&#22788;&#29702;&#25991;&#20214;&#65292;&#28982;&#21518;&#23558;&#32467;&#26524;&#23384;&#25104;bean&#30340;&#23646;&#24615;&#12290;&#27604;&#22914;&#65292;<tt class="classname">StringMultipartEditor</tt>&#21487;&#20197;&#23558;&#25991;&#20214;&#36716;&#25442;&#25104;&#19968;&#20010;&#23383;&#31526;&#20018;(&#20351;&#29992;&#29992;&#25143;&#22768;&#26126;&#30340;&#23383;&#31526;&#38598;)&#12290;<tt class="classname">ByteArrayMultipartEditor</tt>&#21487;&#20197;&#20197;&#23558;&#25991;&#20214;&#36716;&#25442;&#20026;byte&#25968;&#32452;&#12290;&#20182;&#20204;&#30340;&#21151;&#33021;&#21644;<tt class="classname">CustomDateEditor</tt>&#30456;&#20284;&#12290;
      </p><p>
			&#24635;&#32780;&#35328;&#20043;&#65292;&#20026;&#20102;&#20351;&#29992;&#34920;&#21333;&#19978;&#20256;&#25991;&#20214;&#65292;&#20320;&#38656;&#35201;&#22768;&#26126;&#19968;&#20010;&#35299;&#26512;&#22120;&#65292;&#19968;&#20010;&#25511;&#21046;&#22120;&#65292;&#20877;&#23558;&#25991;&#20214;&#19978;&#20256;&#30340;URL&#26144;&#23556;&#21040;&#25511;&#21046;&#22120;&#26469;&#22788;&#29702;&#36825;&#20010;&#35831;&#27714;&#12290;&#19979;&#38754;&#26159;&#36825;&#20960;&#20010;bean&#30340;&#22768;&#26126;&#12290;
	  </p><pre class="programlisting">&lt;beans&gt;
	<i class="lineannotation"><span class="lineannotation">&lt;!-- lets use the Commons-based implementation of the MultipartResolver interface --&gt;</span></i>
    &lt;bean id="multipartResolver"
        class="org.springframework.web.multipart.commons.CommonsMultipartResolver"/&gt;

    &lt;bean id="urlMapping" class="org.springframework.web.servlet.handler.SimpleUrlHandlerMapping"&gt;
        &lt;property name="mappings"&gt;
            &lt;value&gt;
                /upload.form=fileUploadController
            &lt;/value&gt;
        &lt;/property&gt;
    &lt;/bean&gt;

    &lt;bean id="fileUploadController" class="examples.FileUploadController"&gt;
        &lt;property name="commandClass" value="examples.FileUploadBean"/&gt;
        &lt;property name="formView" value="fileuploadform"/&gt;
        &lt;property name="successView" value="confirmation"/&gt;
    &lt;/bean&gt;

&lt;/beans&gt;</pre><p>
			&#19979;&#38754;&#30340;&#20195;&#30721;&#23450;&#20041;&#20102;&#25511;&#21046;&#22120;&#21644;&#29992;&#26469;&#23384;&#25918;&#25991;&#20214;&#30340;&#37027;&#20010;bean&#12290;
	  </p><pre class="programlisting">public class FileUploadController extends SimpleFormController {

    protected ModelAndView onSubmit(
        HttpServletRequest request,
        HttpServletResponse response,
        Object command,
        BindException errors) throws ServletException, IOException {

        <i class="lineannotation"><span class="lineannotation"> // cast the bean</span></i>
        FileUploadBean bean = (FileUploadBean) command;

        <i class="lineannotation"><span class="lineannotation"> let's see if there's content there</span></i>
        byte[] file = bean.getFile();
        if (file == null) {
            <i class="lineannotation"><span class="lineannotation"> // hmm, that's strange, the user did not upload anything</span></i>
        }

        <i class="lineannotation"><span class="lineannotation"> // well, let's do nothing with the bean for now and return</span></i>
        return super.onSubmit(request, response, command, errors);
    }

    protected void initBinder(HttpServletRequest request, ServletRequestDataBinder binder)
        throws ServletException {
        // to actually be able to convert Multipart instance to byte[]
        // we have to register a custom editor
        binder.registerCustomEditor(byte[].class, new ByteArrayMultipartFileEditor());
        // now Spring knows how to handle multipart object and convert them
    }

}

public class FileUploadBean {

    private byte[] file;

    public void setFile(byte[] file) {
        this.file = file;
    }

    public byte[] getFile() {
        return file;
    }
}</pre><p>
			<tt class="classname">FileUploadBean</tt>&#29992;&#19968;&#20010;<tt class="literal">byte[]</tt>&#31867;&#22411;&#30340;&#23646;&#24615;&#26469;&#23384;&#25918;&#25991;&#20214;&#12290;&#21069;&#38754;&#24050;&#32463;&#25552;&#21040;&#36807;&#65292;&#36890;&#24120;&#25511;&#21046;&#22120;&#27880;&#20876;&#19968;&#20010;&#33258;&#23450;&#20041;&#30340;&#32534;&#36753;&#22120;&#20197;&#20415;&#35753;Spring&#30693;&#36947;&#22914;&#20309;&#23558;&#35299;&#26512;&#22120;&#25214;&#21040;&#30340;multipart&#23545;&#35937;&#36716;&#25442;&#25104;bean&#25351;&#23450;&#30340;&#23646;&#24615;&#65292;&#20294;&#22312;&#19978;&#38754;&#30340;&#20363;&#23376;&#20013;&#65292;&#25105;&#20204;&#38500;&#20102;&#23558;byte&#25968;&#32452;&#35760;&#24405;&#19979;&#26469;&#20197;&#22806;&#65292;&#27809;&#26377;&#23545;&#36825;&#20010;&#25991;&#20214;&#36827;&#34892;&#20219;&#20309;&#25805;&#20316;&#65292;&#22312;&#23454;&#38469;&#30340;&#24212;&#29992;&#31243;&#24207;&#20013;&#20320;&#21487;&#20197;&#20570;&#20219;&#20309;&#20320;&#24819;&#20570;&#30340;&#20107;&#24773;&#65288;&#27604;&#22914;&#23558;&#25991;&#20214;&#23384;&#20648;&#22312;&#25968;&#25454;&#24211;&#20013;&#65292;&#36890;&#36807;&#30005;&#23376;&#37038;&#20214;&#21457;&#36865;&#32473;&#26576;&#20154;&#31561;&#31561;)&#12290;
      </p><p>
			&#22312;&#19979;&#38754;&#36825;&#20010;&#20363;&#23376;&#37324;&#65292;&#19978;&#20256;&#30340;&#25991;&#20214;&#34987;&#32465;&#23450;&#20026;&#65288;&#34920;&#21333;&#25903;&#25345;&#30340;&#65289;&#23545;&#35937;&#65288;form backing object)&#30340;String&#23646;&#24615;&#65306;
      </p><pre class="programlisting">public class FileUploadController extends SimpleFormController {

    protected ModelAndView onSubmit(
        HttpServletRequest request,
        HttpServletResponse response,
        Object command,
        BindException errors) throws ServletException, IOException {

        <i class="lineannotation"><span class="lineannotation"> // cast the bean</span></i>
        FileUploadBean bean = (FileUploadBean) command;

        <i class="lineannotation"><span class="lineannotation"> let's see if there's content there</span></i>
        String file = bean.getFile();
        if (file == null) {
            <i class="lineannotation"><span class="lineannotation"> // hmm, that's strange, the user did not upload anything</span></i>
        }

        <i class="lineannotation"><span class="lineannotation"> // well, let's do nothing with the bean for now and return</span></i>
        return super.onSubmit(request, response, command, errors);
    }

    protected void initBinder(HttpServletRequest request, ServletRequestDataBinder binder)
        throws ServletException {
        // to actually be able to convert Multipart instance to a String
        // we have to register a custom editor
        binder.registerCustomEditor(String.class, new StringMultipartFileEditor());
        // now Spring knows how to handle multipart object and convert them
    }

}

public class FileUploadBean {

    private String file;

    public void setFile(String file) {
        this.file = file;
    }

    public String getFile() {
        return file;
    }
}</pre><p>
            &#22914;&#26524;&#20165;&#20165;&#26159;&#22788;&#29702;&#19968;&#20010;&#25991;&#26412;&#25991;&#20214;&#30340;&#19978;&#20256;&#65292;&#19978;&#38754;&#36825;&#20010;&#20363;&#23376;&#30340;&#20570;&#27861;&#36824;&#26159;&#21512;&#29702;&#30340;&#12290;&#20294;&#22914;&#26524;&#19978;&#20256;&#30340;&#26159;&#19968;&#24352;&#22270;&#29255;&#65292;
			&#37027;&#27573;&#20195;&#30721;&#23601;&#20250;&#20986;&#38382;&#39064;&#12290;
        </p><p>
            &#26368;&#21518;&#30340;&#35299;&#20915;&#26041;&#27861;&#23601;&#26159;&#23558;&#34920;&#21333;&#25903;&#25345;&#23545;&#35937;&#65288;form backing object) &#30340;&#30456;&#20851;&#23646;&#24615;&#35774;&#25104;<tt class="interfacename">MultipartFile</tt>&#31867;&#22411;&#12290;
			&#36825;&#26679;&#30340;&#35805;&#65292;&#27809;&#26377;&#31867;&#22411;&#36716;&#25442;&#30340;&#38656;&#35201;&#65292;&#25105;&#20204;&#20063;&#23601;&#19981;&#38656;&#35201;&#22768;&#26126;&#20219;&#20309;&#23646;&#24615;&#32534;&#36753;&#22120;&#65288;<tt class="interfacename">PropertyEditor</tt>&#65289;&#12290;
        </p><pre class="programlisting">public class FileUploadController extends SimpleFormController {

    protected ModelAndView onSubmit(
        HttpServletRequest request,
        HttpServletResponse response,
        Object command,
        BindException errors) throws ServletException, IOException {

        <i class="lineannotation"><span class="lineannotation"> // cast the bean</span></i>
        FileUploadBean bean = (FileUploadBean) command;

        <i class="lineannotation"><span class="lineannotation"> let's see if there's content there</span></i>
        MultipartFile file = bean.getFile();
        if (file == null) {
            <i class="lineannotation"><span class="lineannotation"> // hmm, that's strange, the user did not upload anything</span></i>
        }

        <i class="lineannotation"><span class="lineannotation"> // well, let's do nothing with the bean for now and return</span></i>
        return super.onSubmit(request, response, command, errors);
    }
}

public class FileUploadBean {

    private MultipartFile file;

    public void setFile(MultipartFile file) {
        this.file = file;
    }

    public MultipartFile getFile() {
        return file;
    }
}</pre></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="mvc-formtaglib"></a>13.9.&nbsp;&#20351;&#29992;Spring&#30340;&#34920;&#21333;&#26631;&#31614;&#24211;</h2></div></div><div></div></div><p>&#20174;2.0&#24320;&#22987;&#65292;Spring&#25552;&#20379;&#20840;&#38754;&#30340;&#65292;&#25903;&#25345;&#25968;&#25454;&#32465;&#23450;&#30340;JSP&#26631;&#31614;&#26469;&#22788;&#29702;&#34920;&#21333;&#20803;&#32032;&#65288;&#22914;&#26524;&#20320;&#20351;&#29992;JSP&#21644;Spring&#30340;Web MVC&#26694;&#26550;&#30340;&#35805;)&#12290;
	&#27599;&#20010;&#26631;&#31614;&#25152;&#25903;&#25345;&#30340;&#23646;&#24615;&#36319;&#20854;&#23545;&#24212;&#30340;HTML&#26631;&#31614;&#30456;&#21516;&#65292;&#36825;&#26679;&#36825;&#20123;&#26631;&#31614;&#30475;&#36215;&#26469;&#23601;&#19981;&#38476;&#29983;&#65292;&#32780;&#19988;&#24456;&#23481;&#26131;&#29992;&#12290;
    &#30001;&#36825;&#20123;&#26631;&#31614;&#24211;&#29983;&#25104;&#30340;HTML&#39029;&#38754;&#31526;&#21512;HTML 4.01/XHTML 1.0&#26631;&#20934;&#12290;</p><p>&#19982;&#20854;&#23427;&#30340;&#26631;&#31614;&#24211;&#19981;&#21516;&#65292;Spring&#30340;&#34920;&#21333;&#26631;&#31614;&#24211;&#21644;Spring Web MVC&#26694;&#26550;&#26159;&#38598;&#25104;&#22312;&#19968;&#36215;&#30340;&#65292;&#22240;&#27492;&#23427;&#20204;&#21487;&#20197;&#30452;&#25509;&#20351;&#29992;&#21629;&#20196;&#23545;&#35937;&#65288;command object) &#21644;&#20854;&#20182;&#30001;&#25511;&#21046;&#22120;&#22788;&#29702;&#30340;&#25968;&#25454;&#23545;&#35937;&#12290; &#23601;&#20687;&#19979;&#38754;&#36825;&#20123;&#20363;&#23376;&#23637;&#31034;&#30340;&#19968;&#26679;&#65292;&#20351;&#29992;&#36825;&#20123;&#26631;&#31614;&#21518;&#65292;JSP &#24320;&#21457;&#21464;&#24471;&#26356;&#21152;&#23481;&#26131;&#65292;&#20195;&#30721;&#20063;&#26356;&#21152;&#23481;&#26131;&#38405;&#35835;&#21644;&#32500;&#25252;&#12290;</p><p>&#35753;&#25105;&#20204;&#36890;&#36807;&#20363;&#23376;&#26469;&#30740;&#31350;&#19968;&#19979;&#36825;&#20123;&#26631;&#31614;&#26159;&#24590;&#26679;&#20351;&#29992;&#30340;&#12290; &#22312;&#19979;&#38754;&#30340;&#20363;&#23376;&#20013;&#65292;&#24403;&#26576;&#20010;&#26631;&#31614;&#30340;&#21547;&#20041;&#19981;&#22815;&#26126;&#26174;&#26102;&#65292;&#25105;&#20204;&#25226;&#23427;&#25152;&#29983;&#25104;&#30340;HTML&#20195;&#30721;&#20063;&#19968;&#36215;&#21015;&#20102;&#20986;&#26469;&#12290;</p><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="mvc-formtaglib-configuration"></a>13.9.1.&nbsp;&#37197;&#32622;&#26631;&#31614;&#24211;</h3></div></div><div></div></div><p>Spring&#30340;&#34920;&#21333;&#26631;&#31614;&#24211;&#23384;&#22312;<tt class="literal">spring.jar</tt>&#20013;&#12290;&#36825;&#20010;&#24211;&#30340;&#25551;&#36848;&#25991;&#20214;&#65288;descriptor)&#26159; <tt class="literal">spring-form.tld</tt>&#12290;</p><p>&#22914;&#26524;&#20320;&#24819;&#20351;&#29992;&#36825;&#20123;&#26631;&#31614;&#65292; &#35831;&#22312;JSP&#20195;&#30721;&#30340;&#36215;&#22987;&#37096;&#20998;&#21152;&#20837;&#19979;&#38754;&#36825;&#34892;&#22768;&#26126;&#12290;</p><pre class="programlisting">&lt;%@ taglib prefix="form" uri="http://www.springframework.org/tags/form" %&gt;</pre><p>&#22312;&#19978;&#38754;&#30340;&#22768;&#26126;&#20013;&#65292; <tt class="literal">form</tt> &#26159;&#36825;&#20010;&#26631;&#31614;&#24211;&#25152;&#25552;&#20379;&#26631;&#31614;&#30340;&#21069;&#32512;&#21517;&#12290;</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="mvc-formtaglib-formtag"></a>13.9.2.&nbsp;<tt class="literal">form</tt>&#26631;&#31614;</h3></div></div><div></div></div><p>
        &#36825;&#20010;&#26631;&#31614;&#20250;&#29983;&#25104;HTML form&#26631;&#31614;&#65292;&#21516;&#26102;&#20026;form&#20869;&#37096;&#25152;&#21253;&#21547;&#30340;&#26631;&#31614;&#25552;&#20379;&#19968;&#20010;&#32465;&#23450;&#36335;&#24452;&#65288;binding path)&#12290;
        &#23427;&#25226;&#21629;&#20196;&#23545;&#35937;&#65288;command object)&#23384;&#22312;<tt class="literal">PageContext</tt>&#20013;&#65292;&#36825;&#26679;form&#20869;&#37096;&#30340;&#26631;&#31614;
		&#23601;&#21487;&#20197;&#20351;&#29992;&#36825;&#20010;&#23545;&#35937;&#20102;&#12290;&#26631;&#31614;&#24211;&#20013;&#30340;&#20854;&#20182;&#26631;&#31614;&#37117;&#22768;&#26126;&#22312;&#36825;&#20010;&#26631;&#31614;&#30340;&#20869;&#37096;&#12290;        
    </p><p>
        &#35753;&#25105;&#20204;&#20551;&#35774;&#26377;&#19968;&#20010;&#21483;<tt class="classname">User</tt>&#30340;&#39046;&#22495;&#23545;&#35937;&#65292;&#23427;&#26159;&#19968;&#20010;JavaBean&#65292;&#26377;&#30528;&#35832;&#22914;
		<tt class="literal">firstName</tt>&#21644;<tt class="literal">lastName</tt>&#36825;&#26679;&#30340;&#23646;&#24615;&#12290;&#25105;&#20204;&#23558;&#25226;&#23427;&#24403;&#20316;
		&#19968;&#20010;&#34920;&#21333;&#25903;&#25345;&#23545;&#35937;&#65288;form backing object)&#65292;&#23427;&#23545;&#24212;&#30340;&#34920;&#21333;&#25511;&#21046;&#22120;&#29992;
        <tt class="literal">form.jsp</tt>&#39029;&#38754;&#26469;&#26174;&#31034;&#34920;&#21333;&#12290;&#19979;&#38754;&#26159;<tt class="literal">form.jsp</tt>&#30340;&#20869;&#23481;&#29255;&#27573;&#12290;
    </p><pre class="programlisting">&lt;form:form&gt;
    &lt;table&gt;
        &lt;tr&gt;
            &lt;td&gt;First Name:&lt;/td&gt;
            &lt;td&gt;&lt;form:input path="firstName" /&gt;&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
            &lt;td&gt;Last Name:&lt;/td&gt;
            &lt;td&gt;&lt;form:input path="lastName" /&gt;&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
            &lt;td colspan="3"&gt;
                &lt;input type="submit" value="Save Changes" /&gt;
            &lt;/td&gt;
        &lt;/tr&gt;
    &lt;/table&gt;
&lt;/form:form&gt;</pre><p>
		&#19978;&#38754;&#20363;&#23376;&#20013;&#30340;<tt class="literal">firstName</tt>&#21644;<tt class="literal">lastName</tt>&#30001;&#25511;&#21046;&#22120;&#20174;
        &#23384;&#22312;<tt class="interfacename">PageContext</tt>&#20013;&#30340;&#21629;&#20196;&#23545;&#35937;&#20013;&#24471;&#21040;&#12290;
        &#19979;&#38754;&#20960;&#20010;&#26356;&#22797;&#26434;&#30340;&#20363;&#23376;&#23637;&#31034;&#20102;form&#20869;&#37096;&#26631;&#31614;&#30340;&#29992;&#27861;&#12290;
    </p><p>&#36825;&#26159;&#30001;form&#26631;&#31614;&#25152;&#29983;&#25104;&#30340;HTML&#20195;&#30721;&#65292;&#21644;&#26631;&#20934;&#30340;HTML form&#27809;&#26377;&#20160;&#20040;&#21306;&#21035;&#65306;</p><pre class="programlisting">&lt;form method="POST"&gt;
    &lt;table&gt;
      &lt;tr&gt;
          &lt;td&gt;First Name:&lt;/td&gt;
          &lt;td&gt;&lt;input name="firstName" type="text" value="Harry"/&gt;&lt;/td&gt;
          &lt;td&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;Last Name:&lt;/td&gt;
          &lt;td&gt;&lt;input name="lastName" type="text" value="Potter"/&gt;&lt;/td&gt;
          &lt;td&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td colspan="3"&gt;
            &lt;input type="submit" value="Save Changes" /&gt;
          &lt;/td&gt;
      &lt;/tr&gt;
    &lt;/table&gt;
&lt;/form&gt;</pre><p>&#19978;&#38754;&#36825;&#20010;&#20363;&#23376;&#26377;&#19968;&#20010;&#38544;&#34255;&#30340;&#21069;&#25552;&#65306;&#34920;&#21333;&#25903;&#25345;&#23545;&#35937;&#65288;form backing object)&#30340;&#21464;&#37327;&#21517;&#26159;<tt class="literal">command</tt>&#12290; &#22914;&#26524;&#20320;&#23558;&#36825;&#20010;&#23545;&#35937;&#29992;&#20854;&#20182;&#21517;&#31216;&#21152;&#20197;&#23450;&#20041;&#65288;&#36825;&#21487;&#31639;&#26159;&#19968;&#31181;&#26368;&#20339;&#23454;&#36341;&#65289;&#65292;&#20320;&#23601;&#21487;&#20197;&#23558;&#36825;&#20010;&#21464;&#37327;&#21517;&#32465;&#23450;&#21040;&#34920;&#21333;&#19978;&#65292;&#22914;&#19979;&#20363;&#25152;&#31034;&#12290;</p><pre class="programlisting">&lt;form:form <i class="lineannotation"><span class="lineannotation"><span class="bold"><b>commandName="user"</b></span></span></i>&gt;
    &lt;table&gt;
        &lt;tr&gt;
            &lt;td&gt;First Name:&lt;/td&gt;
            &lt;td&gt;&lt;form:input path="firstName" /&gt;&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
            &lt;td&gt;Last Name:&lt;/td&gt;
            &lt;td&gt;&lt;form:input path="lastName" /&gt;&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
            &lt;td colspan="3"&gt;
                &lt;input type="submit" value="Save Changes" /&gt;
            &lt;/td&gt;
        &lt;/tr&gt;
    &lt;/table&gt;
&lt;/form:form&gt;</pre></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="mvc-formtaglib-inputtag"></a>13.9.3.&nbsp;<tt class="literal">input</tt>&#26631;&#31614;</h3></div></div><div></div></div><p>&#36825;&#20010;&#26631;&#31614;&#29983;&#25104;text&#31867;&#22411;&#30340;HTML input&#26631;&#31614;&#12290;&#20351;&#29992;&#36825;&#20010;&#26631;&#31614;&#26102;&#65292;path&#23646;&#24615;&#30340;&#20540;&#23558;&#23545;&#24212;
	HTML input&#26631;&#31614;&#20013;name&#23646;&#24615;&#30340;&#20540;&#12290;<a href="mvc.html#mvc-formtaglib-formtag" title="13.9.2.&nbsp;form&#26631;&#31614;">Section&nbsp;13.9.2, &#8220;form&#26631;&#31614;&#8221;</a>&#36825;&#19968;&#33410;&#20013;
	&#26377;&#20851;&#20110;&#36825;&#20010;&#26631;&#31614;&#30340;&#20363;&#23376;&#12290;</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="mvc-formtaglib-checkboxtag"></a>13.9.4.&nbsp;<tt class="literal">checkbox</tt>&#26631;&#31614;</h3></div></div><div></div></div><p>&#36825;&#20010;&#26631;&#31614;&#29983;&#25104;checkbox&#31867;&#22411;&#30340;HTML input&#26631;&#31614;&#12290;</p><p>&#20551;&#35774;&#27169;&#22411;&#20013;&#30340;<tt class="classname">User</tt>&#25903;&#25345;&#27599;&#20010;&#29992;&#25143;&#35774;&#32622;&#33258;&#24049;&#30340;&#21916;&#22909;&#65292;&#27604;&#22914;&#26032;&#38395;&#35746;&#38405;&#25110;&#32773;&#19968;&#32452;&#19994;&#20313;&#29233;&#22909;&#65292;&#31561;&#31561;&#12290;&#19979;&#38754;&#26159;<tt class="classname">Preferences</tt>&#36825;&#20010;&#31867;&#30340;&#23450;&#20041;&#65306;</p></div><pre class="programlisting">public class Preferences {

    private boolean receiveNewsletter;

    private String[] interests;

    private String favouriteWord;

    public boolean isReceiveNewsletter() {
        return receiveNewsletter;
    }

    public void setReceiveNewsletter(boolean receiveNewsletter) {
        this.receiveNewsletter = receiveNewsletter;
    }

    public String[] getInterests() {
        return interests;
    }

    public void setInterests(String[] interests) {
        this.interests = interests;
    }

    public String getFavouriteWord() {
        return favouriteWord;
    }

    public void setFavouriteWord(String favouriteWord) {
        this.favouriteWord = favouriteWord;
    }
}</pre><p>&#29616;&#22312;&#65292;<tt class="literal">form.jsp</tt>&#21487;&#20197;&#36825;&#20040;&#20889;&#65306;</p><pre class="programlisting">&lt;form:form&gt;
    &lt;table&gt;
        &lt;tr&gt;
            &lt;td&gt;Subscribe to newsletter?:&lt;/td&gt;
            <i class="lineannotation"><span class="lineannotation">&lt;%-- Approach 1: Property is of type <tt class="classname">java.lang.Boolean</tt> --%&gt;</span></i>
            &lt;td&gt;&lt;form:checkbox path="preferences.receiveNewsletter"/&gt;&lt;/td&gt;
            &lt;td&gt;&lt;/td&gt;
        &lt;/tr&gt;

        &lt;tr&gt;
            &lt;td&gt;Interests:&lt;/td&gt;
            &lt;td&gt;
                <i class="lineannotation"><span class="lineannotation">&lt;%-- Approach 2: Property is of an array or of type <tt class="interfacename">java.util.Collection</tt> --%&gt;</span></i>
                Quidditch: &lt;form:checkbox path="preferences.interests" value="Quidditch"/&gt;
                Herbology: &lt;form:checkbox path="preferences.interests" value="Herbology"/&gt;
                Defence Against the Dark Arts: &lt;form:checkbox path="preferences.interests"
                    value="Defence Against the Dark Arts"/&gt;
            &lt;/td&gt;
            &lt;td&gt;&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
            &lt;td&gt;Favourite Word:&lt;/td&gt;
            &lt;td&gt;
                <i class="lineannotation"><span class="lineannotation">&lt;%-- Approach 3: Property is of type <tt class="classname">java.lang.Object</tt> --%&gt;</span></i>
                Magic: &lt;form:checkbox path="preferences.favouriteWord" value="Magic"/&gt;
            &lt;/td&gt;
            &lt;td&gt;&lt;/td&gt;
        &lt;/tr&gt;
    &lt;/table&gt;
&lt;/form:form&gt;</pre><p><tt class="literal">checkbox</tt>&#26377;&#19977;&#31181;&#20351;&#29992;&#26041;&#27861;&#65292;&#24212;&#35813;&#21487;&#20197;&#28385;&#36275;&#25105;&#20204;&#20840;&#37096;&#21487;&#33021;&#30340;&#38656;&#27714;&#12290;
          </p><div class="itemizedlist"><ul type="disc"><li><p>&#31532;&#19968;&#31181;&#29992;&#27861;&#65306;&#33509;&#32465;&#23450;&#20540;&#26159;java.lang.Boolean&#31867;&#22411;&#65292;&#21017;&#20540;&#20026;<tt class="literal">true</tt>&#26102;&#65292;<tt class="literal">input(checkbox)</tt>&#26631;&#20026;checked&#65288;&#36873;&#20013;&#65289;&#12290;&#20854;<tt class="literal">value</tt>&#65288;&#20540;&#65289;&#23646;&#24615;&#23545;&#24212;&#20110;<tt class="literal">setValue(Object)</tt>&#20540;&#23646;&#24615;&#30340;&#35299;&#26512;&#20540;&#12290;
			</p></li><li><p>&#31532;&#20108;&#31181;&#29992;&#27861;&#65306;&#33509;&#32465;&#23450;&#20540;&#26159;array&#65288;&#25968;&#32452;&#65289;&#31867;&#22411;&#25110;<tt class="interfacename">java.util.Collection</tt>&#65292;&#21017;&#37197;&#32622;&#30340;<tt class="literal">setValue(Object)</tt>&#20540;&#20986;&#29616;&#22312;&#32465;&#23450;&#30340;Collection&#20013;&#26102;&#65292;<tt class="literal">input(checkbox)</tt>&#26631;&#20026;checked&#65288;&#36873;&#20013;&#65289;&#12290; </p></li><li><p>&#31532;&#19977;&#31181;&#29992;&#27861;&#65306;&#33509;&#32465;&#23450;&#20540;&#20026;&#20854;&#20182;&#31867;&#22411;&#65292;&#21017;&#24403;&#37197;&#32622;&#30340;<tt class="literal">setValue(Object)</tt>&#31561;&#20110;&#20854;&#32465;&#23450;&#20540;&#26102;&#65292;<tt class="literal">input(checkbox)</tt>&#26631;&#20026;checked&#65288;&#36873;&#20013;&#65289;&#12290;
			</p></li></ul></div><p>
      </p><p>&#19981;&#31649;&#20351;&#29992;&#37027;&#19968;&#31181;&#26041;&#27861;&#65292;&#29983;&#25104;&#30340;HTML&#20195;&#30721;&#37117;&#26159;&#19968;&#26679;&#30340;&#12290;&#19979;&#25991;&#26159;&#24102;&#26377;checkbox&#30340;&#37096;&#20998;HTML&#29255;&#27573;&#65306;</p><pre class="programlisting">&lt;tr&gt;
    &lt;td&gt;Interests:&lt;/td&gt;
    &lt;td&gt;
        Quidditch: &lt;input name="preferences.interests" type="checkbox" value="Quidditch"/&gt;
        &lt;input type="hidden" value="1" name="_preferences.interests"/&gt;
        Herbology: &lt;input name="preferences.interests" type="checkbox" value="Herbology"/&gt;
        &lt;input type="hidden" value="1" name="_preferences.interests"/&gt;
        Defence Against the Dark Arts: &lt;input name="preferences.interests" type="checkbox"
            value="Defence Against the Dark Arts"/&gt;
        &lt;input type="hidden" value="1" name="_preferences.interests"/&gt;
    &lt;/td&gt;
    &lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;</pre><p>&#20063;&#35768;&#20320;&#27880;&#24847;&#21040;&#20102;&#27599;&#20010;checkbox&#20803;&#32032;&#21518;&#38754;&#37117;&#36319;&#30528;&#19968;&#20010;&#38544;&#34255;&#21306;&#22495;(hidden field)&#12290;&#24403;&#19968;&#20010;HTML&#39029;&#38754;&#20013;&#30340;checkbox<span class="emphasis"><em>&#27809;&#26377;</em></span>&#34987;&#36873;&#20013;&#26102;&#65292;&#36825;&#20010;checkbox&#30340;&#20540;&#19981;&#20250;&#22312;&#34920;&#21333;&#25552;&#20132;&#26102;&#20316;&#20026;HTTP&#35831;&#27714;&#21442;&#25968;&#21457;&#36865;&#21040;&#26381;&#21153;&#22120;&#31471;&#12290;&#36825;&#32473;Spring&#30340;&#34920;&#21333;&#25968;&#25454;&#32465;&#23450;&#36896;&#25104;&#20102;&#40635;&#28902;&#12290;&#35299;&#20915;&#26041;&#27861;&#23601;&#26159;&#22312;&#27599;&#20010;checkbox&#21518;&#38754;&#21152;&#19968;&#20010;&#38544;&#34255;&#21306;&#22495;&#65292;&#24182;&#19988;&#27599;&#20010;&#38544;&#34255;&#21306;&#22495;&#30340;&#21517;&#23383;&#26159;&#22312;&#20854;&#23545;&#24212;&#30340;checkbox&#21517;&#23383;&#21069;&#21152;&#19979;&#21010;&#32447;&#65288;"_"&#65289;&#12290;&#36825;&#26159;Spring&#24050;&#26377;&#30340;&#24815;&#20363;&#12290;&#36825;&#26679;&#19968;&#26469;&#65292;&#20320;&#30456;&#24403;&#20110;&#21578;&#35785;Spring&#8220;<span class="quote"><span class="emphasis"><em>&#36825;&#20010;&#34920;&#21333;&#20013;&#23384;&#22312;&#36825;&#26679;&#19968;&#20010;checkbox&#65292;&#25105;&#24076;&#26395;&#34920;&#21333;&#25903;&#25345;&#23545;&#35937;&#20013;&#30456;&#23545;&#24212;&#30340;&#23646;&#24615;&#21644;&#36825;&#20010;checkbox&#30340;&#29366;&#24577;&#20445;&#25345;&#19968;&#33268;	</em></span></span>&#8221;&#12290;</p><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="mvc-formtaglib-radiobuttontag"></a>13.9.5.&nbsp;<tt class="literal">radiobutton</tt>&#26631;&#31614;</h3></div></div><div></div></div><p>&#36825;&#20010;&#26631;&#31614;&#29983;&#25104;&#31867;&#22411;&#20026;radio&#30340;HTML input &#26631;&#31614;&#12290;</p><p>&#36825;&#20010;&#26631;&#31614;&#30340;&#20856;&#22411;&#29992;&#27861;&#26159;&#19968;&#27425;&#22768;&#26126;&#22810;&#20010;&#26631;&#31614;&#23454;&#20363;&#65292;&#25152;&#26377;&#30340;&#26631;&#31614;&#37117;&#26377;&#30456;&#21516;&#30340;path&#23646;&#24615;&#65292;&#20294;&#26159;&#20182;&#20204;&#30340;value&#23646;&#24615;&#19981;&#21516;&#12290;</p><pre class="programlisting">&lt;tr&gt;
    &lt;td&gt;Sex:&lt;/td&gt;
    &lt;td&gt;Male: &lt;form:radiobutton path="sex" value="M"/&gt; &lt;br/&gt;
        Female: &lt;form:radiobutton path="sex" value="F"/&gt; &lt;/td&gt;
    &lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;</pre></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="mvc-formtaglib-passwordtag"></a>13.9.6.&nbsp;<tt class="literal">password</tt>&#26631;&#31614;</h3></div></div><div></div></div><p>&#36825;&#20010;&#26631;&#31614;&#29983;&#25104;&#31867;&#22411;&#20026;password&#30340;HTML input&#26631;&#31614;&#12290;input&#26631;&#31614;&#30340;&#20540;&#21644;&#34920;&#21333;&#25903;&#25345;&#23545;&#35937;&#30456;&#24212;&#23646;&#24615;&#30340;&#20540;&#20445;&#25345;&#19968;&#33268;&#12290;</p><pre class="programlisting">&lt;tr&gt;
    &lt;td&gt;Password:&lt;/td&gt;
    &lt;td&gt;
        &lt;form:password path="password" /&gt;
    &lt;/td&gt;
&lt;/tr&gt;</pre></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="mvc-formtaglib-selecttag"></a>13.9.7.&nbsp;<tt class="literal">select</tt>&#26631;&#31614;</h3></div></div><div></div></div><p>&#36825;&#20010;&#26631;&#31614;&#29983;&#25104;HTML select&#26631;&#31614;&#12290;&#22312;&#29983;&#25104;&#30340;HTML&#20195;&#30721;&#20013;&#65292;&#34987;&#36873;&#20013;&#30340;&#36873;&#39033;&#21644;&#34920;&#21333;&#25903;&#25345;&#23545;&#35937;&#30456;&#24212;&#23646;&#24615;&#30340;&#20540;&#20445;&#25345;&#19968;&#33268;&#12290;&#36825;&#20010;&#26631;&#31614;&#20063;&#25903;&#25345;&#23884;&#22871;&#30340;<tt class="literal">option</tt>&#21644;<tt class="literal">options</tt>&#26631;&#31614;&#12290;</p><p>&#22312;&#19979;&#38754;&#30340;&#20363;&#23376;&#20013;&#65292;&#25105;&#20204;&#20551;&#35774;<tt class="classname">User</tt>&#21487;&#20197;&#36873;&#25321;&#33258;&#24049;&#30340;&#19987;&#19994;&#25216;&#33021;&#65288;&#22810;&#39033;&#36873;&#25321;&#65289;&#65306;</p><pre class="programlisting">&lt;tr&gt;
    &lt;td&gt;Skills:&lt;/td&gt;
    &lt;td&gt;&lt;form:select path="skills" items="${skills}"/&gt;&lt;/td&gt;
    &lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;</pre><p>&#22914;&#26524;&#26576;&#20010;<tt class="literal">User</tt>&#30340;&#19987;&#19994;&#26159;&#33609;&#33647;&#23398;(Herbology)&#65292;&#29983;&#25104;&#30340;HTML&#20195;&#30721;&#23601;&#20250;&#20687;&#19979;&#38754;&#36825;&#26679;&#65306;</p><pre class="programlisting">&lt;tr&gt;
    &lt;td&gt;Skills:&lt;/td&gt;
    &lt;td&gt;&lt;select name="skills" multiple="true"&gt;
        &lt;option value="Potions"&gt;Potions&lt;/option&gt;
        &lt;option value="Herbology" selected="true"&gt;Herbology&lt;/option&gt;
        &lt;option value="Quidditch"&gt;Quidditch&lt;/option&gt;&lt;/select&gt;&lt;/td&gt;
    &lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;</pre></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="mvc-formtaglib-optiontag"></a>13.9.8.&nbsp;<tt class="literal">option</tt>&#26631;&#31614;</h3></div></div><div></div></div><p>&#36825;&#20010;&#26631;&#31614;&#29983;&#25104;HTML option&#26631;&#31614;&#12290;&#22312;&#29983;&#25104;&#30340;HTML&#20195;&#30721;&#20013;&#65292;&#34987;&#36873;&#20013;&#30340;&#36873;&#39033;&#21644;&#34920;&#21333;&#25903;&#25345;&#23545;&#35937;&#30456;&#24212;&#23646;&#24615;&#30340;&#20540;&#20445;&#25345;&#19968;&#33268;&#12290;</p><pre class="programlisting">&lt;tr&gt;
    &lt;td&gt;House:&lt;/td&gt;
    &lt;td&gt;
        &lt;form:select path="house"&gt;
            &lt;form:option value="Gryffindor"/&gt;
            &lt;form:option value="Hufflepuff"/&gt;
            &lt;form:option value="Ravenclaw"/&gt;
            &lt;form:option value="Slytherin"/&gt;
        &lt;/form:select&gt;
    &lt;/td&gt;
&lt;/tr&gt;</pre><p>&#22914;&#26524;&#26576;&#20010;<tt class="literal">User</tt>&#30340;&#23487;&#33293;&#26159;Gryffindor&#65292;&#29983;&#25104;&#30340;HTML&#20195;&#30721;&#23601;&#20250;&#20687;&#19979;&#38754;&#36825;&#26679;&#65306;</p><pre class="programlisting">&lt;tr&gt;
    &lt;td&gt;House:&lt;/td&gt;
    &lt;td&gt;
        &lt;select name="house"&gt;
            &lt;option value="Gryffindor" selected="true"&gt;Gryffindor&lt;/option&gt;
            &lt;option value="Hufflepuff"&gt;Hufflepuff&lt;/option&gt;
            &lt;option value="Ravenclaw"&gt;Ravenclaw&lt;/option&gt;
            &lt;option value="Slytherin"&gt;Slytherin&lt;/option&gt;
        &lt;/select&gt;
    &lt;/td&gt;
 &lt;/tr&gt;</pre><p>&#35793;&#32773;&#27880;&#65306;&#36825;&#19968;&#33410;&#20013;&#30340;&#20960;&#20010;&#20363;&#23376;&#37117;&#36319;&#12298;&#21704;&#37324;&#27874;&#29305;&#12299;&#36825;&#26412;&#23567;&#35828;&#30340;&#20869;&#23481;&#26377;&#20851;&#12290;</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="mvc-formtaglib-optionstag"></a>13.9.9.&nbsp;<tt class="literal">options</tt>&#26631;&#31614;</h3></div></div><div></div></div><p>&#36825;&#20010;&#26631;&#31614;&#29983;&#25104;&#19968;&#31995;&#21015;&#30340;HTML option&#26631;&#31614;&#12290;&#22312;&#29983;&#25104;&#30340;HTML&#20195;&#30721;&#20013;&#65292;&#34987;&#36873;&#20013;&#30340;&#36873;&#39033;&#21644;&#34920;&#21333;&#25903;&#25345;&#23545;&#35937;&#30456;&#24212;&#23646;&#24615;&#30340;&#20540;&#20445;&#25345;&#19968;&#33268;&#12290;</p><pre class="programlisting">&lt;tr&gt;
    &lt;td&gt;Country:&lt;/td&gt;
    &lt;td&gt;
        &lt;form:select path="country"&gt;
            &lt;form:option value="-" label="--Please Select"/&gt;
            &lt;form:options items="${countryList}" itemValue="code" itemLabel="name"/&gt;
        &lt;/form:select&gt;
    &lt;/td&gt;
    &lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;</pre><p>&#22914;&#26524;&#26576;&#20010;<tt class="classname">User</tt>&#20303;&#22312;&#33521;&#22269;&#65292;&#29983;&#25104;&#30340;HTML&#20195;&#30721;&#23601;&#20250;&#20687;&#19979;&#38754;&#36825;&#26679;&#65306;</p><pre class="programlisting"> &lt;tr&gt;
    &lt;td&gt;Country:&lt;/td&gt;
    &lt;tr&gt;
        &lt;td&gt;Country:&lt;/td&gt;
        &lt;td&gt;
            &lt;select name="country"&gt;
                &lt;option value="-"&gt;--Please Select&lt;/option&gt;
                &lt;option value="AT"&gt;Austria&lt;/option&gt;
                &lt;option value="UK" selected="true"&gt;United Kingdom&lt;/option&gt;
                &lt;option value="US"&gt;United States&lt;/option&gt;
            &lt;/select&gt;
        &lt;/td&gt;
        &lt;td&gt;&lt;/td&gt;
    &lt;/tr&gt;
    &lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;</pre><p>&#19978;&#38754;&#30340;&#36825;&#20010;&#20363;&#23376;&#21516;&#26102;&#20351;&#29992;&#20102;<tt class="literal">option</tt>&#26631;&#31614;&#21644;<tt class="literal">options</tt>&#26631;&#31614;&#12290;&#36825;&#20004;&#20010;&#26631;&#31614;&#29983;&#25104;&#30340;HTML&#20195;&#30721;&#26159;&#30456;&#21516;&#30340;&#65292;&#20294;&#26159;&#31532;&#19968;&#20010;<tt class="literal">option</tt>&#26631;&#31614;&#20801;&#35768;&#20320;&#22312;JSP&#20013;&#26126;&#30830;&#22768;&#26126;&#36825;&#20010;&#26631;&#31614;&#30340;&#20540;&#21482;&#20379;&#26174;&#31034;&#20351;&#29992;&#65292;&#24182;&#19981;&#32465;&#23450;&#21040;&#34920;&#21333;&#25903;&#25345;&#23545;&#35937;&#30340;&#23646;&#24615;&#19978;&#12290;
      </p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="mvc-formtaglib-textAreatag"></a>13.9.10.&nbsp;<tt class="literal">textarea</tt>&#26631;&#31614;</h3></div></div><div></div></div><p>&#36825;&#20010;&#26631;&#31614;&#29983;&#25104;HTML textarea&#26631;&#31614;&#12290;</p><pre class="programlisting">&lt;tr&gt;
    &lt;td&gt;Notes:&lt;/td&gt;
    &lt;td&gt;&lt;form:textarea path="notes" rows="3" cols="20" /&gt;&lt;/td&gt;
    &lt;td&gt;&lt;form:errors path="notes" /&gt;&lt;/td&gt;
&lt;/tr&gt;</pre></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="mvc-formtaglib-hiddeninputtag"></a>13.9.11.&nbsp;<tt class="literal">hidden</tt>&#26631;&#31614;</h3></div></div><div></div></div><p>&#36825;&#20010;&#26631;&#31614;&#29983;&#25104;&#31867;&#22411;&#20026;hidden&#30340;HTML input&#26631;&#31614;&#12290;&#22312;&#29983;&#25104;&#30340;HTML&#20195;&#30721;&#20013;&#65292;input&#26631;&#31614;&#30340;&#20540;&#21644;&#34920;&#21333;&#25903;&#25345;&#23545;&#35937;&#30456;&#24212;&#23646;&#24615;&#30340;&#20540;&#20445;&#25345;&#19968;&#33268;&#12290;&#22914;&#26524;&#20320;&#38656;&#35201;&#22768;&#26126;&#19968;&#20010;&#31867;&#22411;&#20026;hidden&#30340;input&#26631;&#31614;&#65292;&#20294;&#26159;&#34920;&#21333;&#25903;&#25345;&#23545;&#35937;&#20013;&#27809;&#26377;&#23545;&#24212;&#30340;&#23646;&#24615;&#65292;&#20320;&#21482;&#33021;&#20351;&#29992;HTML&#30340;&#26631;&#31614;&#12290;</p><pre class="programlisting">&lt;form:hidden path="house" /&gt;
</pre><p>&#19978;&#38754;&#30340;&#20363;&#23376;&#34920;&#31034;&#25105;&#20204;&#38656;&#35201;&#23558;house&#30340;&#20540;&#20197;&#38544;&#21547;&#21442;&#25968;&#30340;&#24418;&#24335;&#25552;&#20132;&#65292;&#29983;&#25104;&#30340;HTML&#20195;&#30721;&#22914;&#19979;&#65306;</p><pre class="programlisting">&lt;input name="house" type="hidden" value="Gryffindor"/&gt;
</pre></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="mvc-formtaglib-errorstag"></a>13.9.12.&nbsp;<tt class="literal">errors</tt>&#26631;&#31614;</h3></div></div><div></div></div><p>&#36825;&#20010;&#26631;&#31614;&#29983;&#25104;&#31867;&#22411;&#20026;'span'&#30340;HTML&#26631;&#31614;&#65292;&#29992;&#26469;&#26174;&#31034;&#34920;&#21333;&#39564;&#35777;&#26102;&#20986;&#29616;&#30340;&#38169;&#35823;&#20449;&#24687;&#12290;&#36890;&#36807;&#36825;&#20010;&#26631;&#31614;&#65292;&#20320;&#21487;&#20197;&#35775;&#38382;&#25511;&#21046;&#22120;(controller)&#21644;&#19982;&#25511;&#21046;&#22120;&#20851;&#32852;&#30340;&#39564;&#35777;&#22120;(validator)&#20135;&#29983;&#30340;&#38169;&#35823;&#20449;&#24687;&#12290;</p><p>&#20551;&#35774;&#25105;&#20204;&#38656;&#35201;&#22312;&#34920;&#21333;&#25552;&#20132;&#26102;&#26174;&#31034;&#25152;&#26377;&#36319;<tt class="literal">firstName</tt>&#21644;<tt class="literal">lastName</tt>&#26377;&#20851;&#30340;&#38169;&#35823;&#20449;&#24687;&#12290;&#25105;&#20204;&#20026;<tt class="classname">User</tt>&#36825;&#20010;&#31867;&#32534;&#20889;&#20102;&#21517;&#20026;<tt class="classname">UserValidator</tt>&#30340;&#39564;&#35777;&#22120;&#12290;
	</p><pre class="programlisting">public class UserValidator implements Validator {

    public boolean supports(Class candidate) {
        return User.class.isAssignableFrom(candidate);
    }

    public void validate(Object obj, Errors errors) {
        ValidationUtils.rejectIfEmptyOrWhitespace(errors, "firstName", "required", "Field is required.");
        ValidationUtils.rejectIfEmptyOrWhitespace(errors, "lastName", "required", "Field is required.");
    }
}</pre><p>&#29616;&#22312;&#65292;<tt class="literal">form.jsp</tt>&#26159;&#19979;&#38754;&#36825;&#20010;&#26679;&#23376;&#65306;</p><pre class="programlisting">&lt;form:form&gt;
    &lt;table&gt;
        &lt;tr&gt;
            &lt;td&gt;First Name:&lt;/td&gt;
            &lt;td&gt;&lt;form:input path="firstName" /&gt;&lt;/td&gt;
            <i class="lineannotation"><span class="lineannotation">&lt;%-- Show errors for firstName field --%&gt;</span></i>
            &lt;td&gt;&lt;form:errors path="firstName" /&gt;&lt;/td&gt;
        &lt;/tr&gt;

        &lt;tr&gt;
            &lt;td&gt;Last Name:&lt;/td&gt;
            &lt;td&gt;&lt;form:input path="lastName" /&gt;&lt;/td&gt;
            <i class="lineannotation"><span class="lineannotation">&lt;%-- Show errors for lastName field --%&gt;</span></i>
            &lt;td&gt;&lt;form:errors path="lastName"  /&gt;&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
            &lt;td colspan="3"&gt;
                &lt;input type="submit" value="Save Changes" /&gt;
            &lt;/td&gt;
        &lt;/tr&gt;
    &lt;/table&gt;
&lt;/form:form&gt;</pre><p>&#22914;&#26524;&#25105;&#20204;&#25552;&#20132;&#34920;&#21333;&#26102;&#27809;&#26377;&#22635;<tt class="literal">firstHame</tt>&#21644;<tt class="literal">lastName</tt>&#36825;&#20004;&#20010;&#26639;&#30446;&#65292;&#26381;&#21153;&#22120;&#36820;&#22238;&#30340;HTML&#39029;&#38754;&#23601;&#20250;&#20687;&#19979;&#38754;&#36825;&#26679;&#65306;</p><pre class="programlisting">&lt;form method="POST"&gt;
    &lt;table&gt;
        &lt;tr&gt;
            &lt;td&gt;First Name:&lt;/td&gt;
            &lt;td&gt;&lt;input name="firstName" type="text" value=""/&gt;&lt;/td&gt;
            <i class="lineannotation"><span class="lineannotation">&lt;%-- Associated errors to firstName field displayed --%&gt;</span></i>
            &lt;td&gt;&lt;span name="firstName.errors"&gt;Field is required.&lt;/span&gt;&lt;/td&gt;
        &lt;/tr&gt;

        &lt;tr&gt;
            &lt;td&gt;Last Name:&lt;/td&gt;
            &lt;td&gt;&lt;input name="lastName" type="text" value=""/&gt;&lt;/td&gt;
            <i class="lineannotation"><span class="lineannotation">&lt;%-- Associated errors to lastName field displayed --%&gt;</span></i>
            &lt;td&gt;&lt;span name="lastName.errors"&gt;Field is required.&lt;/span&gt;&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
            &lt;td colspan="3"&gt;
                &lt;input type="submit" value="Save Changes" /&gt;
            &lt;/td&gt;
        &lt;/tr&gt;
    &lt;/table&gt;
&lt;/form&gt;</pre><p>&#22914;&#26524;&#25105;&#20204;&#24819;&#26174;&#31034;&#19968;&#20010;&#39029;&#38754;&#19978;&#25152;&#26377;&#30340;&#38169;&#35823;&#20449;&#24687;&#65292;&#24212;&#35813;&#24590;&#20040;&#21150;&#21602;&#65311; <tt class="literal">errors</tt>&#26631;&#31614;&#25903;&#25345;&#22522;&#26412;&#30340;&#36890;&#37197;&#31526;&#21151;&#33021;&#12290;</p><div class="itemizedlist"><ul type="disc"><li><p><tt class="literal">path="*"</tt> - displays all errors</p><p><tt class="literal">path="*"</tt>&#65306; &#26174;&#31034;&#25152;&#26377;&#30340;&#38169;&#35823;&#20449;&#24687;</p></li><li><p><tt class="literal">path="lastName*"</tt> - displays all errors associated with
            the <tt class="literal">lastName</tt> field</p><p><tt class="literal">path="lastName*"</tt>&#65306; &#26174;&#31034;&#25152;&#26377;&#21644;<tt class="literal">lastName</tt>&#26639;&#30446;&#26377;&#20851;&#30340;&#38169;&#35823;&#20449;&#24687;&#12290;</p></li></ul></div><p>&#19979;&#38754;&#36825;&#20010;&#20363;&#23376;&#22312;&#39029;&#38754;&#30340;&#19978;&#26041;&#26174;&#31034;&#25152;&#26377;&#30340;&#38169;&#35823;&#20449;&#24687;&#65292;&#21516;&#26102;&#22312;&#34920;&#21333;&#27599;&#20010;&#26639;&#30446;&#30340;&#26049;&#36793;&#26174;&#31034;&#21644;&#35813;&#26639;&#30446;&#26377;&#20851;&#30340;&#38169;&#35823;&#20449;&#24687;&#12290;</p><pre class="programlisting">&lt;form:form&gt;
    &lt;form:errors path="*" cssClass="errorBox" /&gt;
    &lt;table&gt;
        &lt;tr&gt;
            &lt;td&gt;First Name:&lt;/td&gt;
            &lt;td&gt;&lt;form:input path="firstName" /&gt;&lt;/td&gt;
            &lt;td&gt;&lt;form:errors path="firstName" /&gt;&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
            &lt;td&gt;Last Name:&lt;/td&gt;
            &lt;td&gt;&lt;form:input path="lastName" /&gt;&lt;/td&gt;
            &lt;td&gt;&lt;form:errors path="lastName"  /&gt;&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
            &lt;td colspan="3"&gt;
                &lt;input type="submit" value="Save Changes" /&gt;
            &lt;/td&gt;
        &lt;/tr&gt;
    &lt;/table&gt;
&lt;/form:form&gt;</pre><p>&#29983;&#25104;&#30340;HTML&#20195;&#30721;&#22914;&#19979;&#25152;&#31034;:</p><pre class="programlisting">&lt;form method="POST"&gt;
    &lt;span name="*.errors" class="errorBox"&gt;Field is required.&lt;br/&gt;Field is required.&lt;/span&gt;
    &lt;table&gt;
        &lt;tr&gt;
            &lt;td&gt;First Name:&lt;/td&gt;
            &lt;td&gt;&lt;input name="firstName" type="text" value=""/&gt;&lt;/td&gt;
            &lt;td&gt;&lt;span name="firstName.errors"&gt;Field is required.&lt;/span&gt;&lt;/td&gt;
        &lt;/tr&gt;

        &lt;tr&gt;
            &lt;td&gt;Last Name:&lt;/td&gt;
            &lt;td&gt;&lt;input name="lastName" type="text" value=""/&gt;&lt;/td&gt;
            &lt;td&gt;&lt;span name="lastName.errors"&gt;Field is required.&lt;/span&gt;&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
            &lt;td colspan="3"&gt;
                &lt;input type="submit" value="Save Changes" /&gt;
            &lt;/td&gt;
        &lt;/tr&gt;
&lt;/form&gt;</pre></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="mvc-exceptionhandlers"></a>13.10.&nbsp;&#22788;&#29702;&#24322;&#24120;</h2></div></div><div></div></div><p>&#24403;&#25511;&#21046;&#22120;&#22788;&#29702;&#35831;&#27714;&#26102;&#65292;&#21487;&#33021;&#20250;&#26377;&#24847;&#24819;&#19981;&#21040;&#30340;&#24322;&#24120;&#20135;&#29983;&#12290;&#20026;&#20102;&#26041;&#20415;&#22320;&#22788;&#29702;&#36825;&#20123;&#24322;&#24120;&#65292;Spring&#25552;&#20379;&#20102;<tt class="literal">HandlerExceptionResolver</tt>&#36825;&#20010;&#24322;&#24120;&#35299;&#26512;&#22120;&#25509;&#21475;&#12290;	<tt class="literal">HandlerExceptionResolvers</tt> &#26377;&#28857;&#20687;&#20320;&#22312;<tt class="literal">web.xml</tt>&#20013;&#25152;&#22768;&#26126;&#30340;&#24322;&#24120;&#26144;&#23556;(exception mapping)&#65292;&#20294;&#26159;&#23427;&#22788;&#29702;&#24322;&#24120;&#30340;&#26041;&#24335;&#26356;&#21152;&#28789;&#27963;&#12290;&#23427;&#21487;&#20197;&#25552;&#20379;&#24403;&#24322;&#24120;&#20135;&#29983;&#26102;&#25511;&#21046;&#22120;&#30340;&#36816;&#34892;&#29366;&#24577;&#12290;&#21516;&#26102;&#65292;&#22312;&#31243;&#24207;&#20013;&#20320;&#20063;&#26377;&#26356;&#22810;&#24212;&#23545;&#24322;&#24120;&#30340;&#36873;&#39033;&#12290;&#24403;&#20320;&#30340;&#31243;&#24207;&#22788;&#29702;&#23436;&#24322;&#24120;&#21518;&#65292;&#20135;&#29983;&#24322;&#24120;&#30340;&#35831;&#27714;&#20250;&#34987;&#20256;&#36882;&#32473;&#21478;&#19968;&#20010;URL (&#36825;&#20010;&#26368;&#32456;&#32467;&#26524;&#21644;&#20320;&#22312;web.xml&#20013;&#22768;&#26126;&#30340;&#24322;&#24120;&#22788;&#29702;&#30340;&#25928;&#26524;&#19968;&#26679;)&#12290;</p><p>&#23454;&#29616;<tt class="interfacename">HandlerExceptionResolver</tt>&#25509;&#21475;&#24456;&#31616;&#21333;&#65292;&#20320;&#21482;&#38656;&#35201;&#23454;&#29616;<tt class="literal">resolveException(Exception, Handler)</tt>&#36825;&#20010;&#26041;&#27861;&#65292;&#36820;&#22238;&#19968;&#20010;<tt class="classname">ModelAndView</tt>&#23545;&#35937;&#21363;&#21487;&#12290;&#20320;&#20063;&#21487;&#20197;&#30452;&#25509;&#20351;&#29992;Spring&#20869;&#32622;&#30340;<tt class="classname">SimpleMappingExceptionResolver</tt>&#12290; &#36825;&#20010;&#35299;&#26512;&#22120;&#20801;&#35768;&#20320;&#25226;&#24322;&#24120;&#30340;&#31867;&#21517;&#26144;&#23556;&#21040;&#22788;&#29702;&#23436;&#24322;&#24120;&#21518;&#26174;&#31034;&#30340;&#35270;&#22270;&#21517;&#12290;&#36825;&#21644;Servlet API&#20013;&#25552;&#20379;&#30340;&#24322;&#24120;&#22788;&#29702;&#21151;&#33021;&#30456;&#21516;&#12290;&#19981;&#21516;&#30340;&#26159;&#65292;&#23427;&#36824;&#20801;&#35768;&#36890;&#36807;&#23545;&#19981;&#21516;&#30340;&#22788;&#29702;&#22120;&#23454;&#29616;&#26356;&#32454;&#31890;&#24230;&#30340;&#24322;&#24120;&#26144;&#23556;&#12290;</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="mvc-coc"></a>13.11.&nbsp;&#24815;&#20363;&#20248;&#20808;&#21407;&#21017;(convention over configuration)</h2></div></div><div></div></div><p>&#23545;&#20110;&#24456;&#22810;&#39033;&#30446;&#26469;&#35828;&#65292;&#36981;&#20174;&#24050;&#26377;&#30340;&#24815;&#20363;&#21644;&#20351;&#29992;&#21512;&#29702;&#30340;&#32570;&#30465;&#36873;&#39033;&#22823;&#27010;&#26159;&#26368;&#21512;&#24773;&#21512;&#29702;&#30340;&#20570;&#27861;&#12290;&#29616;&#22312;Spring Web MVC&#26694;&#26550;&#20063;&#26126;&#30830;&#25903;&#25345;&#36825;&#31181;&#24815;&#20363;&#20248;&#20808;&#30340;&#37197;&#32622;&#12290;&#20855;&#20307;&#26469;&#35828;&#65292;&#22914;&#26524;&#20320;&#22312;&#39033;&#30446;&#20013;&#36981;&#23432;&#19968;&#23450;&#30340;&#24815;&#20363;&#65288;&#27604;&#22914;&#21629;&#21517;&#35268;&#33539;&#65289;&#65292;&#20320;&#21487;&#20197;<span class="emphasis"><em>&#26174;&#33879;&#22320;</em></span>&#20943;&#23569;&#31995;&#32479;&#38656;&#35201;&#30340;&#37197;&#32622;&#65288;&#27604;&#22914;&#22788;&#29702;&#22120;&#26144;&#23556;&#65292;&#35270;&#22270;&#35299;&#26512;&#22120;&#37197;&#32622;&#65292;<tt class="classname">ModelAndView</tt>&#30340;&#22768;&#26126;&#65292;&#31561;&#31561;&#65289;&#12290;&#36825;&#23545;&#24555;&#36895;&#31995;&#32479;&#24314;&#27169;&#65288;rapid prototyping)&#26159;&#38750;&#24120;&#26377;&#21033;&#30340;&#12290;&#22914;&#26524;&#20320;&#25171;&#31639;&#36827;&#19968;&#27493;&#25226;&#27169;&#22411;&#23436;&#25104;&#20026;&#21487;&#20197;&#24037;&#20316;&#30340;&#31995;&#32479;&#65292;&#36825;&#26679;&#20889;&#20986;&#30340;&#20195;&#30721;&#20063;&#20855;&#26377;&#24456;&#22909;&#30340;&#19968;&#33268;&#24615;&#12290;</p><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Tip"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Tip]" src="http://www.redsaga.com/spring_ref/2.0RC2/images/admons/tip.png"></td><th align="left">Tip</th></tr><tr><td colspan="2" align="left" valign="top"><p>Spring&#30340;&#24320;&#21457;&#21253;&#20013;&#26377;&#19968;&#20010;web&#24212;&#29992;&#30340;&#33539;&#20363;&#12290;&#36825;&#20010;&#33539;&#20363;&#28436;&#31034;&#20102;&#36825;&#19968;&#33410;&#25552;&#21040;&#30340;&#24815;&#20363;&#20248;&#20808;&#21407;&#21017;&#12290;&#20320;&#21487;&#20197;&#22312;<tt class="literal">samples/showcases/mvc-convention</tt>&#30446;&#24405;&#20013;&#25214;&#21040;&#36825;&#20010;&#33539;&#20363;&#12290;</p></td></tr></table></div><p>This convention over configuration support address the three core areas
        of MVC - namely, the models, views, and controllers.</p><p>Spring&#23545;&#24815;&#20363;&#20248;&#20808;&#21407;&#21017;&#30340;&#25903;&#25345;&#20307;&#29616;&#22312;MVC&#30340;3&#20010;&#26680;&#24515;&#39046;&#22495;&#65306;&#27169;&#22411;&#12289;&#35270;&#22270;&#21644;&#25511;&#21046;&#22120;&#12290;</p><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="mvc-coc-ccnhm"></a>13.11.1.&nbsp;&#23545;&#25511;&#21046;&#22120;&#30340;&#25903;&#25345;&#65306; <tt class="classname">ControllerClassNameHandlerMapping</tt></h3></div></div><div></div></div><p><tt class="classname">ControllerClassNameHandlerMapping</tt>&#26159;<tt class="interfacename">HandlerMapping</tt>&#25509;&#21475;&#30340;&#19968;&#20010;&#23454;&#29616;&#12290;&#23427;&#26816;&#26597;&#35831;&#27714;&#30340;URL&#65292;&#28982;&#21518;&#36890;&#36807;&#24815;&#20363;&#26469;&#20915;&#23450;&#19982;&#20043;&#30456;&#23545;&#24212;&#30340;&#25511;&#21046;&#22120;&#12290;</p><p>&#27604;&#22914;&#65292;&#19979;&#38754;&#26377;&#20010;&#38750;&#24120;&#31616;&#21333;&#30340;&#25511;&#21046;&#22120;&#23454;&#29616;&#65292;&#35831;&#29305;&#21035;&#27880;&#24847;&#36825;&#20010;&#31867;&#30340;<span class="emphasis"><em>&#21517;&#23383;</em></span>&#12290;</p><pre class="programlisting">public class <span class="bold"><b>ViewShoppingCartController</b></span> implements Controller {

    public ModelAndView handleRequest(HttpServletRequest request, HttpServletResponse response) {
        <i class="lineannotation"><span class="lineannotation">// the implementation is not hugely important for this example...</span></i>
    }
}</pre><p>&#19979;&#25991;&#26159;&#20174;Spring Web MVC &#26694;&#26550;&#30340;&#37197;&#32622;&#25991;&#20214;&#20013;&#36873;&#20986;&#26469;&#30340;&#19968;&#27573;&#65306;</p><pre class="programlisting">&lt;bean class="org.springframework.web.servlet.mvc.support.ControllerClassNameHandlerMapping "/&gt;
                
&lt;bean id="<span class="bold"><b>viewShoppingCart</b></span>" class="x.y.z.ViewShoppingCartController"&gt;
    <i class="lineannotation"><span class="lineannotation">&lt;!-- inject dependencies as required... --&gt;</span></i>
&lt;/bean&gt;</pre><p><tt class="classname">ControllerClassNameHandlerMapping</tt>&#22312;&#24212;&#29992;&#30340;&#19978;&#19979;&#25991;&#20013;&#25214;&#20986;&#25152;&#26377;&#30340;&#35831;&#27714;&#22788;&#29702;&#22120;&#65288;handler)&#65288;&#25110;&#23454;&#29616;&#20102;<tt class="interfacename">Controller</tt>&#25509;&#21475;&#30340;&#65289;bean&#12290;&#25226;&#36825;&#20123;bean&#30340;&#21517;&#23383;&#20013;<tt class="literal">Controller</tt>&#21518;&#32512;&#21435;&#25481;&#65292;&#23601;&#24471;&#21040;&#20102;&#27599;&#20010;&#25511;&#21046;&#22120;&#25152;&#33021;&#22788;&#29702;&#30340;URL&#12290;
         </p><p>&#35753;&#25105;&#20204;&#36890;&#36807;&#20030;&#20363;&#26469;&#36827;&#19968;&#27493;&#35299;&#37322;&#36825;&#20010;&#26144;&#23556;&#30340;&#24037;&#20316;&#21407;&#29702;&#12290;</p><div class="itemizedlist"><ul type="disc"><li><p><tt class="classname">WelcomeController</tt>&#26144;&#23556;&#21040;<tt class="literal">'/welcome*'</tt>&#36825;&#20010;URL</p></li><li><p><tt class="classname">HomeController</tt>&#26144;&#23556;&#21040;<tt class="literal">'/home*'</tt>&#36825;&#20010;URL</p></li><li><p><tt class="classname">IndexController</tt>&#26144;&#23556;&#21040;<tt class="literal">'/index*'</tt>&#36825;&#20010;URL</p></li><li><p><tt class="classname">RegisterController</tt>&#26144;&#23556;&#21040;<tt class="literal">'/register*'</tt>&#36825;&#20010;URL</p></li><li><p><tt class="classname">DisplayShoppingCartController</tt>&#26144;&#23556;&#21040;<tt class="literal">'/displayshoppingcart*'</tt>&#36825;&#20010;URL</p><p><span class="emphasis"><em>&#65288;&#27880;&#24847;&#23383;&#27597;&#30340;&#22823;&#23567;&#20889;&#12290;URL&#20840;&#37096;&#37117;&#29992;&#23567;&#20889;&#65292;&#20294;&#22312;Java&#31867;&#21517;&#20013;&#27599;&#20010;&#21333;&#35789;&#30340;&#31532;&#19968;&#20010;&#23383;&#27597;&#35201;&#22823;&#20889;&#12290;)</em></span></p></li></ul></div><p>&#24403;&#25511;&#21046;&#22120;&#26159;<tt class="classname">MultiActionController</tt>&#30340;&#23376;&#31867;&#26102;&#65292;&#33258;&#21160;&#29983;&#25104;&#30340;&#26144;&#23556;&#23601;&#31245;&#26377;&#28857;&#22797;&#26434;&#65292;&#20294;&#24212;&#35813;&#36824;&#26159;&#27604;&#36739;&#22909;&#29702;&#35299;&#30340;&#12290;&#19979;&#38754;&#20363;&#23376;&#20013;&#36825;&#20960;&#20010;&#25511;&#21046;&#22120;&#37117;&#26159;<tt class="classname">MultiActionController</tt>&#12290;
            </p><div class="itemizedlist"><ul type="disc"><li><p><tt class="classname">AdminController</tt>&#26144;&#23556;&#21040;
                    <tt class="literal">/welcome<span class="bold"><b>/*</b></span></tt> &#36825;&#20010;URL&#12290;</p></li><li><p><tt class="classname">CatalogController</tt>&#26144;&#23556;&#21040;
                    <tt class="literal">/catalog<span class="bold"><b>/*</b></span></tt>&#36825;&#20010;URL&#12290;</p></li></ul></div><p>&#22914;&#26524;&#20320;&#30340;&#25511;&#21046;&#22120;&#31867;&#36981;&#23432;&#36825;&#20123;&#21629;&#21517;&#35268;&#33539;&#65288;<tt class="literal">xxx<span class="bold"><b>Controller</b></span></tt>&#65289;&#65292;<tt class="classname">ControllerClassNameHandlerMapping</tt>&#21487;&#20197;&#33258;&#21160;&#29983;&#25104;&#26144;&#23556;&#65292;&#36825;&#26679;&#20320;&#23601;&#19981;&#24517;&#36153;&#21170;&#30340;&#23450;&#20041;&#21644;&#32500;&#25252;<span class="emphasis"><em>&#19968;&#38271;&#20018;</em></span><tt class="classname">SimpleUrlHandlerMapping</tt>&#65288;&#25110;&#32773;&#31867;&#20284;&#30340;&#26144;&#23556;&#31574;&#30053;&#65289;&#12290;</p><p><tt class="classname">ControllerClassNameHandlerMapping</tt>&#26159;<tt class="classname">AbstractHandlerMapping</tt>&#30340;&#23376;&#31867;&#65292;&#25152;&#20197;&#20320;&#20173;&#26087;&#21487;&#20197;&#20687;&#24448;&#24120;&#19968;&#26679;&#23450;&#20041;<tt class="interfacename">HandlerInterceptor</tt>&#30340;&#23454;&#20363;&#12290;</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="mvc-coc-modelmap"></a>13.11.2.&nbsp;&#23545;&#27169;&#22411;&#30340;&#25903;&#25345;&#65306;<tt class="classname">ModelMap</tt> (<tt class="classname">ModelAndView</tt>)</h3></div></div><div></div></div><p><tt class="classname">ModelMap</tt>&#26159;&#19968;&#20010;&#21152;&#24378;&#29256;&#30340;<tt class="interfacename">Map</tt>&#23454;&#29616;&#12290;&#22312;&#36825;&#20010;Map&#37324;&#65292;&#27599;&#20010;&#23545;&#35937;&#30340;&#38190;&#37117;&#36981;&#23432;&#19968;&#20010;&#21629;&#21517;&#35268;&#33539;&#65292;&#28982;&#21518;&#36825;&#20123;&#23545;&#35937;&#23601;&#21487;&#20197;&#26174;&#31034;&#22312;&#35270;&#22270;&#20013;&#12290;&#36825;&#20010;&#31867;&#30340;&#20351;&#29992;&#20854;&#23454;&#24456;&#31616;&#21333;&#65292;&#19981;&#38656;&#35201;&#38271;&#31687;&#22823;&#35770;&#12290;&#19979;&#38754;&#35753;&#25105;&#20204;&#30475;&#20960;&#20010;&#20363;&#23376;&#65292;&#28982;&#21518;&#25105;&#20204;&#32467;&#21512;&#20363;&#23376;&#36827;&#34892;&#35762;&#35299;&#12290;</p><p>&#19979;&#38754;&#26159;&#19968;&#20010;<tt class="interfacename">Controller</tt>&#30340;&#23454;&#29616;&#12290;&#35831;&#27880;&#24847;&#24403;&#25105;&#20204;&#25226;&#23545;&#35937;&#21152;&#21040;<tt class="classname">ModelAndView</tt>&#26102;&#65292;&#25105;&#20204;&#19981;&#38656;&#35201;&#22768;&#26126;&#27599;&#20010;&#23545;&#35937;&#30340;&#38190;&#21517;&#12290;</p><pre class="programlisting">public class DisplayShoppingCartController implements Controller {

    public ModelAndView handleRequest(HttpServletRequest request, HttpServletResponse response) {
        
        List cartItems = <i class="lineannotation"><span class="lineannotation">// get a <tt class="interfacename">List</tt> of <tt class="classname">CartItem</tt> objects</span></i>
        User user = <i class="lineannotation"><span class="lineannotation">// get the <tt class="classname">User</tt> doing the shopping</span></i>
        
        ModelAndView mav = new ModelAndView("displayShoppingCart"); <i class="lineannotation"><span class="lineannotation">&lt;-- the logical view name</span></i>

        mav.addObject(cartItems); <i class="lineannotation"><span class="lineannotation">&lt;-- look ma, no name, just the object</span></i>
        mav.addObject(user); <i class="lineannotation"><span class="lineannotation">&lt;-- and a'ain ma!</span></i>

        return mav;
    }
}</pre><p><tt class="classname">ModelAndView</tt>&#22312;&#20869;&#37096;&#20351;&#29992;&#20102;<tt class="classname">ModelMap</tt>&#12290;<tt class="classname">ModelMap</tt>&#26159;&#19968;&#20010;&#33258;&#23450;&#20041;&#30340;Map&#23454;&#29616;&#65292;&#23427;&#21487;&#20197;&#20026;&#21152;&#20837;&#20854;&#20013;&#30340;&#27599;&#20010;&#23545;&#35937;&#33258;&#21160;&#29983;&#25104;&#19968;&#20010;&#38190;&#21517;&#12290;&#36825;&#20123;&#38190;&#21517;&#26159;&#26377;&#35268;&#24459;&#30340;&#12290;&#24403;&#23384;&#20837;&#30340;&#23545;&#35937;&#26159;&#23384;&#20648;&#21333;&#20540;&#30340;&#23545;&#35937;&#65288;scalar object&#65289;&#65292;&#27604;&#22914;<tt class="classname">User</tt>&#65292;&#29983;&#25104;&#30340;&#38190;&#21517;&#23601;&#26159;&#23545;&#35937;&#30340;&#31867;&#21517;&#65288;&#19981;&#21253;&#25324;&#21253;&#30340;&#21517;&#23383;&#65289;&#12290;&#19979;&#38754;&#20960;&#20010;&#20363;&#23376;&#35814;&#32454;&#35299;&#37322;&#20102;&#36825;&#20010;&#21629;&#21517;&#35268;&#33539;&#65306;</p><div class="itemizedlist"><ul type="disc"><li><p><tt class="classname">x.y.User</tt>&#36825;&#20010;&#31867;&#30340;&#23454;&#20363;&#23545;&#24212;<tt class="literal">user</tt>&#12290;</p></li><li><p><tt class="classname">x.y.Registration </tt>&#36825;&#20010;&#31867;&#30340;&#23454;&#20363;&#23545;&#24212;<tt class="literal">registration</tt></p></li><li><p><tt class="classname">x.y.Foo</tt>&#36825;&#20010;&#31867;&#30340;&#23454;&#20363;&#23545;&#24212;<tt class="literal">foo</tt></p></li><li><p><tt class="classname">java.util.HashMap</tt>&#30340;&#23454;&#20363;&#23545;&#24212;<tt class="literal">hashMap</tt>&#65288;&#22312;&#36825;&#31181;&#24773;&#20917;&#19979;&#20320;&#26368;&#22909;&#36824;&#26159;&#33258;&#24049;&#22768;&#26126;&#38190;&#21517;&#65292;<tt class="literal">hashMap</tt>&#36825;&#20010;&#21517;&#23383;&#19981;&#37027;&#20040;&#30452;&#35266;&#65289;</p></li><li><p>&#24403;&#20320;&#35270;&#22270;&#25226;<tt class="literal">null</tt>&#36825;&#20010;&#20540;&#21152;&#20837;Map&#26102;&#65292;&#20320;&#20250;&#24471;&#21040;<tt class="classname">IllegalArgumentException</tt>&#12290; &#25152;&#20197;&#22914;&#26524;&#20320;&#30340;&#26576;&#20010;&#23545;&#35937;&#21487;&#33021;&#20026;null&#65292;&#20320;&#26368;&#22909;&#20063;&#33258;&#24049;&#22768;&#26126;&#38190;&#21517;&#12290;</p></li></ul></div><div class="sidebar"><p class="title"><b>&#20160;&#20040;&#65311;&#19981;&#33021;&#33258;&#21160;&#29983;&#25104;&#22797;&#25968;&#65311;</b></p><p>Spring Web MVC&#26694;&#26550;&#23545;&#24815;&#20363;&#20248;&#20808;&#21407;&#21017;&#30340;&#25903;&#25345;&#19981;&#21253;&#25324;&#33258;&#21160;&#29983;&#25104;&#27169;&#22411;&#21517;&#23383;&#30340;&#22797;&#25968;&#12290;&#36825;&#24847;&#21619;&#30528;&#65292;&#24403;&#20320;&#25226;&#19968;&#20010;&#30001;<tt class="classname">Person</tt>&#23545;&#35937;&#32452;&#25104;&#30340;<tt class="interfacename">List</tt>&#21152;&#20837;<tt class="classname">ModelAndView</tt>&#26102;&#65292;&#19981;&#35201;&#25351;&#26395;Spring&#29983;&#25104;&#30340;&#38190;&#21517;&#20250;&#26159;people&#12290;</p><p>&#36825;&#26159;&#32463;&#36807;&#19968;&#31995;&#21015;&#35752;&#35770;&#20043;&#21518;&#20316;&#20986;&#30340;&#20915;&#23450;&#12290;&#36825;&#26679;&#20570;&#31526;&#21512;&#8220;<span class="quote">&#26368;&#23569;&#24847;&#22806;&#21407;&#21017;&#65288;Principle of Least Surprise&#65289;</span>&#8221;&#12290;</p></div><p>&#24403;&#20320;&#21152;&#20837;<tt class="classname">ModelAndView</tt>&#20013;&#30340;&#23545;&#35937;&#26159;<tt class="interfacename">Set</tt>&#12289;<tt class="interfacename">List</tt>&#25110;&#32773;&#25968;&#32452;&#26102;&#65292;Spring&#20250;&#26816;&#26597;&#36825;&#20010;&#38598;&#21512;&#65292;&#21462;&#20986;&#36825;&#20010;&#38598;&#21512;&#20013;&#30340;&#31532;&#19968;&#20010;&#23545;&#35937;&#65292;&#28982;&#21518;&#29992;&#23427;&#30340;&#31867;&#21517;&#65292;&#21152;&#19978;<tt class="literal">List</tt>&#21518;&#32512;&#65292;&#23601;&#26159;&#26368;&#32456;&#29983;&#25104;&#30340;&#21517;&#23383;&#12290;&#19979;&#38754;&#20960;&#20010;&#20363;&#23376;&#36827;&#19968;&#27493;&#35299;&#37322;&#20102;&#36825;&#20010;&#21629;&#21517;&#35268;&#21017;&#65306;</p><div class="itemizedlist"><ul type="disc"><li><p>&#19968;&#20010;&#30001;<tt class="classname"> x.y.User</tt>&#32452;&#25104;&#30340;&#25968;&#32452;&#23545;&#24212;<tt class="literal">userList</tt>&#36825;&#20010;&#21517;&#23383;&#12290;</p></li><li><p>&#19968;&#20010;&#30001;<tt class="classname">x.y.Foo</tt>&#32452;&#25104;&#30340;&#25968;&#32452;&#23545;&#24212;<tt class="literal">fooList</tt>&#36825;&#20010;&#21517;&#23383;&#12290;</p></li><li><p>&#19968;&#20010;&#30001;<tt class="classname">x.y.User</tt>&#32452;&#25104;&#30340;<tt class="classname">java.util.ArrayList</tt>&#23545;&#24212;<tt class="literal">userList</tt>&#36825;&#20010;&#21517;&#23383;&#12290;</p></li><li><p>&#19968;&#20010;&#30001;<tt class="classname">x.y.Foo</tt>&#32452;&#25104;&#30340;<tt class="classname">java.util.HashSet</tt>&#23545;&#24212;<tt class="literal">fooList</tt>&#36825;&#20010;&#21517;&#23383;&#12290;</p></li><li><p>&#19968;&#20010;<span class="bold"><b>&#31354;&#30340;</b></span><tt class="classname">java.util.ArrayList</tt>&#26681;&#26412;&#19981;&#21487;&#33021;&#34987;&#21152;&#21040;&#36825;&#20010;Map&#20013;&#12290;&#65288;&#22312;&#36825;&#31181;&#24773;&#20917;&#19979;&#65292;<tt class="literal">adObject(..)</tt>&#20854;&#23454;&#20160;&#20040;&#37117;&#27809;&#20570;&#65289;&#12290;</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="mvc-coc-r2vnt"></a>13.11.3.&nbsp;&#23545;&#35270;&#22270;&#30340;&#25903;&#25345;&#65306; <tt class="interfacename">RequestToViewNameTranslator</tt></h3></div></div><div></div></div><p><tt class="interfacename">RequestToViewNameTranslator</tt>&#36825;&#20010;&#25509;&#21475;&#30340;&#21151;&#33021;&#26159;&#33258;&#21160;&#23547;&#25214;&#35831;&#27714;&#25152;&#23545;&#24212;&#30340;&#35270;&#22270;&#21517;&#65288;&#24403;&#26576;&#20010;&#35270;&#22270;&#21517;&#27809;&#26377;&#26126;&#30830;&#37197;&#32622;&#30340;&#26102;&#20505;)&#12290;&#36825;&#20010;&#25509;&#21475;&#30446;&#21069;&#21482;&#26377;&#19968;&#20010;&#23454;&#29616;&#65292;&#31867;&#21517;&#20026;<tt class="classname">DefaultRequestToViewNameTranslator</tt>&#12290;</p><p>&#20026;&#20102;&#35299;&#37322;<tt class="classname">DefaultRequestToViewNameTranslator</tt>&#26159;&#22914;&#20309;&#23558;&#35831;&#27714;&#30340;URL&#26144;&#23556;&#21040;&#35270;&#22270;&#21517;,&#26368;&#22909;&#30340;&#26041;&#27861;&#23601;&#26159;&#20030;&#20363;&#35828;&#26126;&#12290;&#19979;&#38754;&#26159;&#19968;&#20010;<tt class="interfacename">Controller</tt>&#30340;&#23454;&#29616;&#65292;&#21644;&#23427;&#23545;&#24212;&#30340;&#37197;&#32622;&#25991;&#20214;&#12290;</p><pre class="programlisting">public class RegistrationController implements Controller {
                
    public ModelAndView handleRequest(HttpServletRequest request, HttpServletResponse response) {
        <i class="lineannotation"><span class="lineannotation">// process the request...</span></i>
        ModelAndView mav = new ModelAndView();
        <i class="lineannotation"><span class="lineannotation">// add <span class="bold"><b>data</b></span> as necessary to the model...</span></i>
        return mav;
        <i class="lineannotation"><span class="lineannotation">// notice that no <tt class="interfacename">View</tt> or logical view name has been set</span></i>
    }
}</pre><pre class="programlisting">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;!DOCTYPE beans PUBLIC "-//SPRING//DTD BEAN//EN"
        " http://www.springframework.org/dtd/spring-beans.dtd"&gt;
&lt;beans&gt;

    <i class="lineannotation"><span class="lineannotation">&lt;!-- this bean with the well known name generates view names for us --&gt;</span></i>
    &lt;bean id="viewNameTranslator" class="org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator"/&gt;

    &lt;bean class="x.y.RegistrationControllerController"&gt;
        <i class="lineannotation"><span class="lineannotation">&lt;!-- inject dependencies as necessary --&gt;</span></i>
    &lt;/bean&gt;
    
    <i class="lineannotation"><span class="lineannotation">&lt;!-- maps request URLs to Controller names --&gt;</span></i>
    &lt;bean class="org.springframework.web.servlet.mvc.support.ControllerClassNameHandlerMapping"/&gt;

    &lt;bean id="viewResolver" class="org.springframework.web.servlet.view.InternalResourceViewResolver "&gt;
        &lt;property name="prefix" value="/WEB-INF/jsp/"/&gt;
        &lt;property name="suffix" value=".jsp"/&gt;
    &lt;/bean&gt;

&lt;/beans&gt;
</pre><p>&#35831;&#27880;&#24847;&#65292;&#22312;&#36825;&#20010;<tt class="literal">handleRequest(..)</tt>&#26041;&#27861;&#20013;&#65292;&#36820;&#22238;&#30340;<tt class="classname">ModelAndView</tt>&#23454;&#20363;&#19981;&#21253;&#21547;<tt class="interfacename">View</tt>&#30340;&#23454;&#20363;&#25110;&#32773;&#36923;&#36753;&#35270;&#22270;&#21517;&#12290;&#30495;&#27491;&#20174;&#35831;&#27714;&#30340;URL&#20013;&#20998;&#26512;&#20986;<span class="emphasis"><em>&#36923;&#36753;&#35270;&#22270;&#21517;(logical view name)</em></span>&#30340;&#26159;<tt class="classname">DefaultRequestToViewNameTranslator</tt>&#12290;&#22312;&#19978;&#38754;&#36825;&#20010;&#20363;&#23376;&#20013;&#65292;<tt class="classname">RegistrationControllerController</tt>&#21644;<tt class="classname">ControllerClassNameHandlerMapping</tt>&#22312;&#19968;&#36215;&#20351;&#29992;&#65292;&#25152;&#26377;&#23545;<tt class="literal">http://localhost/registration.html</tt>&#36825;&#20010;URL&#30340;&#35831;&#27714;&#23558;&#20250;&#23545;&#24212;<tt class="literal">registration</tt>&#36825;&#20010;&#36923;&#36753;&#35270;&#22270;&#21517;&#12290;&#36825;&#20010;&#35270;&#22270;&#21517;&#27491;&#26159;&#30001;<tt class="classname">DefaultRequestToViewNameTranslator</tt>&#35299;&#26512;&#20986;&#26469;&#30340;&#12290;&#28982;&#21518;&#65292;<tt class="classname">InternalResourceViewResolver</tt>&#36825;&#20010;bean&#20250;&#23558;&#36825;&#20010;&#36923;&#36753;&#35270;&#22270;&#21517;&#36827;&#19968;&#27493;&#35299;&#26512;&#25104;<tt class="literal">/WEB-INF/jsp/registration.jsp</tt>&#36825;&#20010;&#35270;&#22270;&#12290;</p><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Tip"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Tip]" src="http://www.redsaga.com/spring_ref/2.0RC2/images/admons/tip.png"></td><th align="left">Tip</th></tr><tr><td colspan="2" align="left" valign="top"><p>&#20320;&#29978;&#33267;&#19981;&#38656;&#35201;&#37197;&#32622;&#31867;&#22411;&#20026;<tt class="classname">DefaultRequestToViewNameTranslator</tt>&#30340;bean&#12290;&#22914;&#26524;<tt class="classname">DefaultRequestToViewNameTranslator</tt>&#30340;&#32570;&#30465;&#34892;&#20026;&#24050;&#32463;&#31526;&#21512;&#20320;&#30340;&#35201;&#27714;&#65292;&#20320;&#23601;&#21487;&#20197;&#20351;&#29992;&#36825;&#20010;&#31867;&#12290;&#24403;&#20320;&#27809;&#26377;&#26126;&#30830;&#22768;&#26126;&#26102;&#65292;Spring Web MVC &#20013;<tt class="classname">DispatcherServlet</tt>&#36825;&#20010;&#31867;&#20250;&#33258;&#21160;&#29983;&#25104;&#19968;&#20010;<tt class="classname">DefaultRequestToViewNameTranslator</tt>&#30340;&#23454;&#20363;&#12290;</p></td></tr></table></div><p>&#24403;&#28982;&#65292;&#22914;&#26524;&#20320;&#26377;&#33258;&#24049;&#29305;&#27530;&#30340;&#35201;&#27714;&#65292;&#20320;&#23601;&#38656;&#35201;&#37197;&#32622;<tt class="classname">DefaultRequestToViewNameTranslator</tt> bean&#12290;&#22914;&#26524;&#20320;&#38656;&#35201;&#30693;&#36947;&#36825;&#20010;&#31867;&#26377;&#21738;&#20123;&#21487;&#20197;&#35774;&#32622;&#30340;&#21442;&#25968;&#65292;&#35831;&#21442;&#38405;<tt class="classname">DefaultRequestToViewNameTranslator</tt>&#30340;Javadoc&#12290;</p></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="mvc-resources"></a>13.12.&nbsp;&#20854;&#23427;&#36164;&#28304;</h2></div></div><div></div></div><p>&#19979;&#38754;&#20960;&#20010;&#38142;&#25509;&#20063;&#26159;&#26377;&#20851;&#20110;Spring Web MVC&#26694;&#26550;&#30340;&#12290;</p><div class="itemizedlist"><ul type="disc"><li><p>Spring&#30340;&#24320;&#21457;&#21253;&#38468;&#24102;&#20102;&#19968;&#20010;&#20851;&#20110;Spring Web MVC&#26694;&#26550;&#30340;&#25945;&#31243;&#65288;&#20301;&#20110;<tt class="literal">docs</tt>&#30446;&#24405;&#65289;&#12290;&#36825;&#20010;&#25945;&#31243;&#25945;&#32473;&#20320;&#24590;&#26679;&#19968;&#27493;&#19968;&#27493;&#22320;&#24314;&#31435;&#19968;&#20010;&#22522;&#20110;Spring Web MVC&#30340;&#24212;&#29992;&#12290;&#22312;<a href="http://springframework.org/" target="_top">Spring Framework</a>&#19978;&#20063;&#21487;&#20197;&#25214;&#21040;&#35813;&#25945;&#31243;&#30340;&#22312;&#32447;&#29256;&#26412;&#12290;</p></li><li><p>Seth Ladd &#21644;&#20854;&#23427;&#20960;&#20010;&#20154;&#21512;&#20889;&#30340;&#8220;<span class="quote">&#12298;Expert Spring Web MVC and WebFlow&#12299;</span>&#8221;&#65288;&#30001;Apress&#20986;&#29256;&#65289;&#26159;&#19968;&#37096;&#20851;&#20110;Spring Web MVC&#26694;&#26550;&#30340;&#20248;&#31168;&#20316;&#21697;&#65292;&#20854;&#20013;&#23545;Spring Web MVC&#30340;&#29305;&#28857;&#21644;&#20248;&#21183;&#20570;&#20102;&#27604;&#36739;&#35814;&#32454;&#30340;&#20171;&#32461;&#12290;</p></li></ul></div></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="pt03.html">Prev</a>&nbsp;</td><td width="20%" align="center"><a accesskey="u" href="pt03.html">Up</a></td><td width="40%" align="right">&nbsp;<a accesskey="n" href="view.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Part&nbsp;III.&nbsp;Web&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top">&nbsp;Chapter&nbsp;14.&nbsp;&#38598;&#25104;&#35270;&#22270;&#25216;&#26415;</td></tr></table></div><div xmlns="http://www.w3.org/TR/xhtml1/transitional" style="background-color:#31430f;border:none;height:50px;border:1px solid black;text-align:center"><table cellspacing="0" cellpadding="0" width="100%" style="margin: 0px; padding: 0px"><tr><td width="50%" style="font-size: 110%; color: white; vertical-align: center; text-align: right">
        				Sponsored by
        			</td><td width="50%" style="padding: 0px"><a style="border:none;background: url();" href="http://www.interface21.com/" title="Brought to you by Interface21"><img style="border: none" src="images/interface21.gif"></a></td></tr></table></div></body>
<!-- Mirrored from www.redsaga.com/spring_ref/2.0RC2/html/mvc.html by HTTrack Website Copier/3.x [XR&CO'2005], Tue, 17 Oct 2006 16:56:37 GMT -->
</html>
